if (self.CavalryLogger) { CavalryLogger.start_js(["7IkDI"]); }

__d("CommerceMerchantSubscriptionStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:1,SUBSCRIBED:2})}),null);
__d("XCommerceSubscribeMerchantController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/subscribe-merchant/{settings_id}/",{settings_id:{type:"Int",required:!0}})}),null);
__d("CommerceSubscribeMerchant",["AsyncRequest","CommerceMerchantSubscriptionStatus","CSS","Event","XCommerceSubscribeMerchantController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={_dataStore:new Map(),setupButton:function(a,c,d,e){this._dataStore.set("buttonSubscribed",c),this._dataStore.set("buttonUnsubscribed",a),this._dataStore.set("settingsId",e),this._dataStore.set("status",d),b("Event").listen(a,"click",function(){this._updateStatus(b("CommerceMerchantSubscriptionStatus").SUBSCRIBED)}.bind(this)),b("Event").listen(c,"click",function(){this._updateStatus(b("CommerceMerchantSubscriptionStatus").NONE)}.bind(this))},_updateStatus:function(a){this._dataStore.set("status",a),b("CSS").toggle(this._dataStore.get("buttonUnsubscribed")),b("CSS").toggle(this._dataStore.get("buttonSubscribed")),this._updateBackendState()},_updateBackendState:function(){var a=this._dataStore.get("settingsId"),c=this._dataStore.get("status");a=b("XCommerceSubscribeMerchantController").getURIBuilder().setInt("settings_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setData({status:c}).setMethod("POST").send()}};e.exports=a}),null);
__d("XPagesVideoListChainingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/video_hub/collection/chaining/",{limit:{type:"Int",required:!0},offset:{type:"Int"},video_list_id:{type:"Int",required:!0}})}),null);
__d("PagesVideoListChaining",["AsyncRequest","DOM","SubscriptionsHandler","XPagesVideoListChainingController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){this.$1=a;this.$2=c;this.$3=d;this.$4=e;c=new(b("SubscriptionsHandler"))();c.addSubscriptions(a.subscribe("needsitems",this.$5.bind(this)))}a.prototype.$5=function(){var a=b("XPagesVideoListChainingController").getURIBuilder().setInt("offset",this.$3).setInt("limit",this.$2).setInt("video_list_id",this.$4).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload();a.final_video_id?(this.$3=a.final_video_id,this.$1.addItems(a.elements.map(function(a){return b("DOM").create("li",{},a.markup)}))):this.$1.endCarousel()}.bind(this)).send()};e.exports=a}),null);
__d("TimelineCollectionsCarousel",["cx","Animation","CSS","DOM","Ease","Event","Locale","TidyArbiterMixin","mixin","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=2,j=2,k=154,l=40;c=babelHelpers.inherits(a,b("mixin")(b("TidyArbiterMixin")));h=c&&c.prototype;function a(a,c,d,e){"use strict";__p&&__p();h.constructor.call(this);this._node=a.node;this._grid=a.grid;this._prevLink=a.prev_link;this._nextLink=a.next_link;this._disabledNext=!1;this._visibleCount=c;this._slideMaxItems=this._visibleCount-j;a=this._prevLink.offsetWidth||l;this._itemWidth=e&&e>0?e:k;this._visibleIndex=-1;c=this._itemWidth*-1;e=a+i+d+c;this._position=e;this._positionProperty=b("Locale").isRTL()?"right":"left";this._grid.style[this._positionProperty]=this._position+"px";this._lastBoundaryItem=this._grid.lastChild;this.updateBoundaryItems();b("CSS").addClass(this._node,"_5rr8");b("tidyEvent")([b("Event").listen(this._prevLink,"click",this._onPrevClick.bind(this)),b("Event").listen(this._prevLink,"mouseenter",this._onPrevEnter.bind(this)),b("Event").listen(this._prevLink,"mouseleave",this._onPrevLeave.bind(this)),b("Event").listen(this._nextLink,"click",this._onNextClick.bind(this)),b("Event").listen(this._nextLink,"mouseenter",this._onNextEnter.bind(this)),b("Event").listen(this._nextLink,"mouseleave",this._onNextLeave.bind(this))]);this.refresh()}a.prototype.getGrid=function(){"use strict";return this._grid};a.prototype.removeItem=function(a){"use strict";b("DOM").remove(a),this.refresh(),this.getVisibleNodes().length-j===0&&this.inform("lastelementremoved")};a.prototype.disableNext=function(){"use strict";this._disabledNext=!0,this.refresh()};a.prototype.enableNext=function(){"use strict";this._disabledNext=!1,this.refresh()};a.prototype.getNode=function(){"use strict";return this._node};a.prototype.getNextLink=function(){"use strict";return this._nextLink};a.prototype.getVisibleNodes=function(){"use strict";var a=[],b=Math.min(this._visibleCount,this._grid.childNodes.length);for(var c=1;c<=b;c++){var d=this._grid.childNodes[this._visibleIndex+c];a.push(d)}return a};a.prototype.getVisibleNodesMax=function(){"use strict";return this._visibleCount};a.prototype.getLastVisibleIndex=function(){"use strict";return this._visibleIndex+this._visibleCount-1};a.prototype.insertBefore=function(a,c){"use strict";c?this._grid.insertBefore(a,c):b("DOM").insertBefore(this._lastBoundaryItem,a),this.refresh()};a.prototype.refresh=function(){"use strict";b("CSS").conditionClass(this._node,"_58rf",!this._isPrevEnabled()),b("CSS").conditionClass(this._node,"_58rg",!this._isNextEnabled())};a.prototype.updateBoundaryItems=function(){"use strict";this._grid.childNodes.length<this._visibleCount?b("CSS").hide(this._lastBoundaryItem):b("CSS").show(this._lastBoundaryItem)};a.prototype._getNextOverflowCount=function(){"use strict";return this._grid.childNodes.length-(this.getLastVisibleIndex()+1)};a.prototype._getPrevOverflowCount=function(){"use strict";return this._visibleIndex+1};a.prototype._isPrevEnabled=function(){"use strict";return this._getPrevOverflowCount()>0};a.prototype._isNextEnabled=function(){"use strict";return this._getNextOverflowCount()>1&&!this._disabledNext};a.prototype._onNextClick=function(){"use strict";this._isNextEnabled()&&(this._getPrevOverflowCount()===0&&b("CSS").removeClass(this._node,"_5rr8"),this._slide(Math.min(this._getNextOverflowCount()-1,this._slideMaxItems)),this.inform("nextclick"))};a.prototype._onNextEnter=function(){"use strict";this._isNextEnabled()&&(b("CSS").addClass(this._node,"_5di5"),this.inform("nextenter"))};a.prototype._onNextLeave=function(){"use strict";b("CSS").removeClass(this._node,"_5di5"),this.inform("nextleave")};a.prototype._onPrevClick=function(){"use strict";this._isPrevEnabled()&&(this._getPrevOverflowCount()<=this._slideMaxItems&&b("CSS").addClass(this._node,"_5rr8"),this._slide(-1*Math.min(this._getPrevOverflowCount(),this._slideMaxItems)),this.inform("prevclick"))};a.prototype._onPrevEnter=function(){"use strict";this._isPrevEnabled()&&(b("CSS").addClass(this._node,"_5di6"),this.inform("preventer"))};a.prototype._onPrevLeave=function(){"use strict";b("CSS").removeClass(this._node,"_5di6"),this.inform("prevleave")};a.prototype.silentSlide=function(a){"use strict";this._visibleIndex+=a,this._position-=a*this._itemWidth,this._grid.style[this._positionProperty]=this._position+"px",this.refresh()};a.prototype.slide=function(a,c){"use strict";a=Math.min(this._getNextOverflowCount(),a);if(a>0){b("CSS").removeClass(this._node,"_5rr8");this._slide(a,c);return!0}return!1};a.prototype._computeDisplacement=function(){"use strict";if(this._grid.childNodes.length<2+j)return 0;var a=this._grid.childNodes[1].getBoundingClientRect(),b=this._grid.childNodes[2].getBoundingClientRect();return Math.abs(b.left-a.left)};a.prototype._slide=function(a,c){"use strict";this._visibleIndex+=a;this._position-=a*this._computeDisplacement();c||(c=500*Math.abs(a/this._slideMaxItems));var d=this._node;b("CSS").addClass(d,"_58rj");new(b("Animation"))(this._grid).to(this._positionProperty,this._position).duration(c).ease(b("Ease").sineOut).ondone(function(){b("CSS").removeClass(d,"_58rj"),this.inform("onSlideDone"),this.refresh()}.bind(this)).go();this.inform("onSlide")};e.exports=a}),null);
__d("TimelineCollectionsInfiniteCarousel",["csx","cx","Arbiter","CSS","DOM","TidyArbiterMixin","mixin","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=2;c=babelHelpers.inherits(a,b("mixin")(b("TidyArbiterMixin")));i=c&&c.prototype;function a(a,c,d){"use strict";__p&&__p();i.constructor.call(this);this._carousel=a;this._items=c;this._needsItems=!1;this._placeholderIndex=0;this._visibleCount=this._carousel.getVisibleNodesMax();this._carouselDone=!1;for(var a=0;a<this._visibleCount-1;++a){c=d.cloneNode(!0);this._carousel.insertBefore(c,this._placeholder);this._placeholder=c}b("tidyEvent")([this._carousel.subscribe("onSlide",this.refresh.bind(this)),this._carousel.subscribe("nextclick",this.inform.bind(this,"nextclick")),this._carousel.subscribe("nextenter",this.inform.bind(this,"nextenter")),this._carousel.subscribe("nextleave",this.inform.bind(this,"nextleave")),this._carousel.subscribe("prevclick",this.inform.bind(this,"prevclick")),this._carousel.subscribe("preventer",this.inform.bind(this,"preventer")),this._carousel.subscribe("prevleave",this.inform.bind(this,"prevleave"))]);this.refresh()}a.prototype.addItems=function(a){"use strict";this._needsItems=!1;for(var b=0;b<a.length;++b)this._items.push(a[b]);this.refresh();this.inform("newitemsadded",a)};a.prototype.endCarousel=function(){"use strict";this._placeholder=null;var a=b("DOM").scry(this._carousel.getNode(),"li._5b4r");a.forEach(function(a){b("DOM").remove(a)}.bind(this));this._carouselDone=!0;this._carousel.updateBoundaryItems();this.refresh()};a.prototype.getGrid=function(){"use strict";return this._carousel.getGrid()};a.prototype.getNode=function(){"use strict";return this._carousel.getNode()};a.prototype.getNextLink=function(){"use strict";return this._carousel.getNextLink()};a.prototype.getVisibleNodes=function(){"use strict";return this._carousel.getVisibleNodes()};a.prototype.getVisibleNodesMax=function(){"use strict";return this._carousel.getVisibleNodesMax()};a.prototype.removeItem=function(a){"use strict";b("DOM").remove(a),this._placeholderIndex--,this.getVisibleNodes().length-j===0&&this.inform("lastelementremoved"),this.refresh()};a.prototype._addItem=function(a){"use strict";this._placeholderIndex++,this._carousel.insertBefore(a,this._placeholder)};a.prototype.refresh=function(){"use strict";while((this._carousel.getLastVisibleIndex()>=this._placeholderIndex||this._carouselDone)&&this._items.length)this._addItem(this._items.shift());this._carousel.getLastVisibleIndex()>=this._placeholderIndex&&!this._carouselDone?(b("CSS").addClass(this._carousel.getNode(),"_58rd"),this._carousel.disableNext()):(b("CSS").removeClass(this._carousel.getNode(),"_58rd"),this._carousel.enableNext());this._items.length<this._visibleCount&&!this._needsItems&&!this._carouselDone&&(this._needsItems=!0,this.inform("needsitems",null,b("Arbiter").BEHAVIOR_PERSISTENT));this._carousel.refresh();this.inform("refreshed")};a.prototype.slide=function(a,b){"use strict";return this._carousel.slide(a,b)};e.exports=a}),null);