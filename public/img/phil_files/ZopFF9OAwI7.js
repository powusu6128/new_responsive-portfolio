if (self.CavalryLogger) { CavalryLogger.start_js(["LoioT"]); }

__d("ComposerPublisherSupportedParameters",[],(function(a,b,c,d,e,f){e.exports=["action_type_id","action_post_attachment_data","animated_image","asked_fun_fact_prompt_data","attachment","backdated_date","charity_id","composer_attachment_sell_audience_target_ids","composer_attachment_sell_condition","composer_attachment_sell_currency","composer_attachment_sell_location_page_id","composer_attachment_sell_price","composer_attachment_sell_pickup_note","composer_attachment_sell_title","composer_custom_accessibility_caption","composer_entry_point","composer_entry_time","composer_has_crop","composer_has_filter","composer_session_duration","composer_session_id","composer_source_surface","composer_unpublished_photo","composer_sticker","composer_text_overlay","composer_type","composertags_city","composertags_place","composertags_place_name","composertags_sponsors","composertags_with","delight_ranges","direct_share_status","draft","edit_action_type_id","edit_album_id","edit_attachment","edit_composer_session_id","edit_composertags_city","edit_composertags_place","edit_composertags_place_name","edit_composertags_with","edit_delight_ranges","edit_multilingual_specified_lang","edit_multilingual_status_langs","edit_multilingual_statuses","edit_hide_object_attachment","edit_icon_id","edit_is_explicit_place","edit_object_id","edit_object_str","edit_privacyx","edit_save_only","edit_story_token","edit_xc_edit_callsite","edit_xc_entstory_context","edit_xc_link_url","edit_composer_unpublished_photo","edit_xc_sticker_id","edit_xc_story_dom_id","edit_xc_share_images","edit_xc_share_params","edit_xc_share_summary","edit_xc_share_target_type","edit_xc_share_title","edit_xhpc_composerid","edit_xhpc_message","edit_xhpc_message_text","event_tag","extensible_sprouts_ranker_request","fun_fact_prompt_id","hide_object_attachment","feed_targeted_data","holiday_card","icon_id","is_ad_post","is_forced_reshare_of_post","is_markdown","is_placelist_post","is_q_and_a","is_react","is_welcome_to_group_post","living_room_attachment","multilingual_specified_lang","multilingual_status_langs","multilingual_statuses","num_keystrokes","num_pastes","object_id","object_str","og_suggestion_mechanism","page_recommendation_ids","page_recommendation","place_attachment_setting","place_list_entry_point","placelist_within_page","play_with_friends_game_id","poll_question_data","post_to_marketplace","privacyx","qn","ref","sponsor_relationship","scheduled","scheduled_publish_time","share_dialog_actorId","share_dialog_audienceType","share_dialog_composerSessionID","share_dialog_message","share_dialog_postId","share_dialog_privacy","share_dialog_isForcedReshareOfPost","story_list_attachment_data","target_type","text_format_preset_id","todo_list_data","unpublished_content_type","xc_link_url","xc_sticker_id","xc_share_images","xc_share_params","xc_share_summary","xc_share_target_type","xc_share_title","xhpc_aggregated_story_composer","xhpc_composerid","xhpc_context","xhpc_finch","xhpc_fundraiser_page","xhpc_message","xhpc_message_text","xhpc_publish_type","xhpc_targetid","xhpc_timeline","xy_tags"]}),null);
__d("getCampfireKeyBinding",["CampfireCommands","KeyBindingUtil","getDefaultKeyBinding"],(function(a,b,c,d,e,f){"use strict";var g=b("KeyBindingUtil").hasCommandModifier;function a(a){if(a.keyCode===75&&g(a))return b("CampfireCommands").TOGGLE_LINK;return a.keyCode===83&&g(a)?b("CampfireCommands").SAVE_DRAFT:b("getDefaultKeyBinding")(a)}e.exports=a}),null);
__d("keyCommandBackspaceEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){__p&&__p();var c=b("removeTextWithStrategy")(a,function(c){__p&&__p();var a=c.getSelection(),d=a.getAnchorOffset();a=c.getCurrentContent().getBlockForKey(a.getAnchorKey()).getText();var e=a[d-1],f=null;if(e){a=b("EmojiRenderer").parse(a);for(var g=0;g<a.length;g++)if(a[g].offset<d&&a[g].offset+a[g].length>=d){f=a[g].length;break}f||(f=b("UnicodeUtils").getUTF16Length(e,0))}return b("moveSelectionBackward")(c,f||1)},"backward");if(c===a.getCurrentContent())return null;var d=a.getSelection();return b("EditorState").push(a,c.set("selectionBefore",d),d.isCollapsed()?"backspace-character":"remove-range")};e.exports=a}),null);
__d("keyCommandDeleteEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){__p&&__p();var c=b("removeTextWithStrategy")(a,function(c){__p&&__p();var a=c.getSelection(),d=a.getAnchorOffset();a=c.getCurrentContent().getBlockForKey(a.getAnchorKey()).getText();var e=a[d],f=null;if(e){a=b("EmojiRenderer").parse(a);for(var g=0;g<a.length;g++)if(a[g].offset<=d&&a[g].offset+a[g].length>d){f=a[g].length;break}f||(f=b("UnicodeUtils").getUTF16Length(e,0))}return b("moveSelectionForward")(c,f||1)},"forward");if(c===a.getCurrentContent())return null;var d=a.getSelection();return b("EditorState").push(a,c.set("selectionBefore",d),d.isCollapsed()?"delete-character":"remove-range")};e.exports=a}),null);
__d("addEmojiInput",["EditorState","EmojiInputDecorator","EmojiSpan.react","React","keyCommandBackspaceEmoji","keyCommandDeleteEmoji"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();return function(){__p&&__p();var c,d;c=babelHelpers.inherits(e,b("React").Component);d=c&&c.prototype;function e(){__p&&__p();var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return c=(a=d.constructor).call.apply(a,[this].concat(f)),this.$1=function(a,c,d){__p&&__p();var e=null;switch(a){case"backspace":e=b("keyCommandBackspaceEmoji")(c);break;case"delete":e=b("keyCommandDeleteEmoji")(c);break}if(e){this.props.onChange(e);return"handled"}return this.props.handleKeyCommand?this.props.handleKeyCommand(a,c,d):"not-handled"}.bind(this),c}e.prototype.blur=function(){"use strict";var a=this.refs.component;a&&typeof a.blur==="function"&&a.blur()};e.prototype.click=function(){"use strict";var a=this.refs.component;a&&typeof a.click==="function"&&a.click()};e.prototype.focus=function(){"use strict";var a=this.refs.component;a&&typeof a.focus==="function"&&a.focus()};e.prototype.render=function(){var c,d=this.props.editorState,e=d.getDecorator();(e==null||((c=e)!=null?(c=c.__installedDecorators)!=null?c.emojiDecorator:c:c)!==!0)&&(d=b("EditorState").set(this.props.editorState,{decorator:new(b("EmojiInputDecorator"))(b("EmojiSpan.react"),e,{size:16})}));return b("React").createElement(a,babelHelpers["extends"]({},this.props,{editorState:d,handleKeyCommand:this.$1,ref:"component"}))};return e}()}.bind(this);e.exports=a}),null);
__d("addEmojiToEditorState",["DraftModifier","EditorState","EmojiFormat.bs","emptyFunction"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){d===void 0&&(d=b("emptyFunction"));typeof a!=="string"&&(a=b("EmojiFormat.bs").codeArrayToUnicode(a));a=b("DraftModifier").replaceText(c.getCurrentContent(),c.getSelection(),a);a=b("EditorState").push(c,a,"insert-characters");a!==c&&d(a);return a}e.exports=a}),null);
__d("AudienceTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OWN:"self",PERSON:"friend",PAGE:"page",GROUP:"group",EVENT:"event",FUNDRAISER:"fundraiser",MESSAGE:"message",SILENT_DISCO:"silent_disco"})}),null);
__d("CameraPostContextSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NO_COMPOSER:"no_composer",COMPOSER:"composer",CAMERA_SYSTEM:"camera_system",PLATFORM:"platform"})}),null);
__d("ComposerPublishType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FEED_INSERT:1,DIALOG:2,REPLACE_COMPOSER:3,INSERT_IN_DIALOG:4,PAGE_CONTENT_TAB:5})}),null);
__d("ComposerStoryEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1396480790477967"};c.getQueryID=function(){"use strict";return"1942851846033412"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("EditPostFeatureCapability",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FEED_TOPICS:"FEED_TOPICS",STICKER:"STICKER",CONTAINED_MEDIA:"CONTAINED_MEDIA",CONTAINED_LINK:"CONTAINED_LINK",POST_CONTAINER:"POST_CONTAINER",PRODUCT_ITEM:"PRODUCT_ITEM",VIEWER_ALBUM_FOLLOW_STATUS:"VIEWER_ALBUM_FOLLOW_STATUS",FUNDRAISER_FOR_STORY:"FUNDRAISER_FOR_STORY"})}),null);
__d("GraphQLResharePost",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RESHARE_ORIGINAL_POST:"RESHARE_ORIGINAL_POST",SHARE_LINK_ONLY:"SHARE_LINK_ONLY"})}),null);
__d("InstantGamesFeedEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PLAY_WITH_FRIENDS_ATTACHMENT_CLICK:"play_with_friends_attachment_click",PLAY_WITH_FRIENDS_ATTACHMENT_IMPRESSION:"play_with_friends_attachment_impression",PLAY_WITH_FRIENDS_ATTACHMENT_RENDER_FAILED:"play_with_friends_attachment_render_failed",PLAY_WITH_FRIENDS_COMPOSER_ATTACHMENT_ADDED:"play_with_friends_composer_attachment_added",PLAY_WITH_FRIENDS_COMPOSER_ATTACHMENT_REMOVED:"play_with_friends_composer_attachment_removed",PLAY_WITH_FRIENDS_COMPOSER_TAGGER_OPENED:"play_with_friends_composer_tagger_opened",PLAY_WITH_FRIENDS_COMPOSER_TAGGER_GAME_SELECTED:"play_with_friends_composer_tagger_game_selected",PLAY_WITH_FRIENDS_COMPOSER_SPROUT_SHOWN:"play_with_friends_composer_sprout_shown",PLAY_WITH_FRIENDS_COMPOSER_POST_ATTEMPTED:"play_with_friends_composer_post_attempted",PLAY_WITH_FRIENDS_COMPOSER_POST_CREATED:"play_with_friends_composer_post_created",POST_CONTEXT_UPDATE_UNIT_CLICK:"post_context_update_unit_click",POST_CONTEXT_UPDATE_UNIT_IMPRESSION:"post_context_update_unit_impression",GROUP_POST_ACTION_LINK_CLICK:"group_post_action_link_click",GROUP_POST_ACTION_LINK_IMPRESSION:"group_post_action_link_impression",GROUP_UPSELL_GAME_IMPRESSION:"group_upsell_game_impression",GROUP_UPSELL_GAME_CLICK:"group_upsell_game_click",GROUP_UPSELL_SESSION:"group_upsell_session",GROUP_UPSELL_EDGE_STORY_CREATED:"group_upsell_edge_story_created",GROUP_UPSELL_EDGE_STORY_FEED_LOAD:"group_upsell_edge_story_feed_load",GROUP_UPSELL_UNIT_IMPRESSION:"group_upsell_unit_impression",GAME_GROUP_MALL_VISIT:"game_group_mall_visit",INSTANT_GAME_PLAY_EDGE_STORY_CREATED:"instant_game_play_edge_story_created",INSTANT_GAME_RATING_EDGE_STORY_CREATED:"instant_game_rating_edge_story_created",STORY_INVALIDATED:"story_invalidated",INSTANT_GAME_HIGH_SCORE_STORY_CREATED:"insatnt_game_high_score_event_created"})}),null);
__d("InstantGamesFeedEventSection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GAME_SHARE:"game_share",GROUP_POST:"group_post",GROUP_UPSELL:"group_upsell",PLAY_WITH_FRIENDS_ATTACHMENT:"play_with_friends_attachment",PLAY_WITH_FRIENDS_SHARE:"play_with_friends_share"})}),null);
__d("InstantGamesFeedTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:InstantGamesFeedLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:InstantGamesFeedLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:InstantGamesFeedLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setClientUserID=function(a){this.$1.client_userid=a;return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setContentID=function(a){this.$1.content_id=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setGameID=function(a){this.$1.game_id=a;return this};a.prototype.setGroupID=function(a){this.$1.group_id=a;return this};a.prototype.setGroupSize=function(a){this.$1.group_size=a;return this};a.prototype.setIsemployee=function(a){this.$1.isemployee=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setPostID=function(a){this.$1.post_id=a;return this};a.prototype.setPostPrivacyID=function(a){this.$1.post_privacy_id=a;return this};a.prototype.setPosterID=function(a){this.$1.poster_id=a;return this};a.prototype.setRenderFailureReason=function(a){this.$1.render_failure_reason=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setShareSurface=function(a){this.$1.share_surface=a;return this};a.prototype.setStoryInvalidationReason=function(a){this.$1.story_invalidation_reason=a;return this};a.prototype.setStoryTokenString=function(a){this.$1.story_token_string=a;return this};a.prototype.setUISurface=function(a){this.$1.ui_surface=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,content_id:!0,country:!0,deviceid:!0,event:!0,game_id:!0,group_id:!0,group_size:!0,isemployee:!0,name:!0,post_id:!0,post_privacy_id:!0,poster_id:!0,render_failure_reason:!0,sessionid:!0,share_surface:!0,story_invalidation_reason:!0,story_token_string:!0,ui_surface:!0,vc:!0};e.exports=a}),null);
__d("OGComposerSuggestionMechanisms",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MOVIE_THEATER_CHECKIN:"movie_theater_checkin",AIRPORT_CHECKIN:"airport_checkin",COOL_PLACE_CHECKIN:"cool_place_checkin",TRAIN_CHECKIN:"train_checkin",CURRENT_SONG:"current_song",RECENT_ACTION:"recent_action",AUDIO_FINGERPRINT:"audio_fingerprint",WHITELISTED_SUGGESTION:"whitelisted_suggestion",UNIT_TEST:"unit_test",FEED_SPECIFIC_SUGGESTION:"feed_specific_suggestion",DETECTED_FROM_TEXT_INPUT:"detected_from_text_input",EVENT_VENUE_CHECKIN:"event_venue_checkin",SUPPORTING_CLASSIFIER:"supportingclassifier",LISTENING_LINK_CLASSIFIER:"listeninglinkclassifier",LINK_TO_OG_CLASSIFIER:"link_to_og_classifier",GK_BASED_SUGGESTION_CLASSIFIER:"gk_based_suggestion_classifier",EVENT_TO_ATTEND:"event_to_attend",GK_BASED_PRODUCTION_PROMPT_CLASSIFIER:"gk_based_production_prompt_classifier",MOVIE_THEATER_CHECKIN_SUGGESTIFIER:"movie_theater_checkin_suggestifier",AIRPORT_CHECKIN_SUGGESTIFIER:"airport_checkin_suggestifier",COOL_PLACE_CHECKIN_SUGGESTIFIER:"cool_place_checkin_suggestifier",TRAIN_CHECKIN_SUGGESTIFIER:"train_checkin_suggestifier",EVENT_VENUE_CHECKIN_SUGGESTIFIER:"event_venue_checkin_suggestifier",EVENT_TO_ATTEND_SUGGESTIFIER:"event_to_attend_suggestifier",SPA_CHECKIN:"spa_checkin",SPA_CHECKIN_SUGGESTIFIER:"spa_checkin_suggestifier",MEDICAL_CHECKIN:"medical_checkin",MEDICAL_CHECKIN_SUGGESTIFIER:"medical_checkin_suggestifier",TRANSPORTATION_CHECKIN:"transportation_checkin",TRANSPORTATION_CHECKIN_SUGGESTIFIER:"transportation_checkin_suggestifier",SWEETS_SHOP_CHECKIN:"sweets_shop_checkin",SWEETS_SHOP_CHECKIN_SUGGESTIFIER:"sweets_shop_checkin_suggestifier",FAST_FOOD_CHECKIN:"fast_food_checkin",FAST_FOOD_CHECKIN_SUGGESTIFIER:"fast_food_checkin_suggestifier",SPECIFIC_CUISINE_CHECKIN:"specific_cuisine_checkin",SPECIFIC_CUISINE_SUGGESTIFIER:"specific_cuisine_checkin_suggestifier",TOPIC_BAR_CHECKIN:"topic_bar_checkin",TOPIC_BAR_CHECKIN_SUGGESTIFIER:"topic_bar_checkin_suggestifier",RESTAURANT_CHECKIN:"restaurant_checkin",RESTAURANT_CHECKIN_SUGGESTIFIER:"restaurant_checkin_suggestifier",COFFEE_SHOP_CHECKIN:"coffee_shop_checkin",COFFEE_SHOP_SUGGESTIFIER:"coffee_shop_checkin_suggestifier",MINUTIAE_TO_PLACE_MOVIE_THEATER_CHECKIN:"minutiae_to_place_movie_theater_checkin",MINUTIAE_TO_PLACE_TRAVELING_CHECKIN:"minutiae_to_place_traveling_checkin",MINUTIAE_TO_PLACE_EVENT_TO_ATTEND:"minutiae_to_place_event_to_attend",MINUTIAE_TO_PLACE_CELEBRATING:"minutiae_to_place_celebrating",MINUTIAE_TO_PLACE_FEELING_HUNGRY:"minutiae_to_place_feeling_hungry",MINUTIAE_TO_PLACE_GAME_STADIUM_CHECKIN:"minutiae_to_place_game_stadium_checkin",MINUTIAE_TO_PLACE_CONCERT_VENUE_CHECKIN:"minutiae_to_place_concert_venue_checkin",MINUTIAE_TO_PLACE_COOL_PLACE_CHECKIN:"minutiae_to_place_cool_place_checkin",MINUTIAE_TO_PLACE_FEELING_RELAXED:"minutiae_to_place_feeling_relaxed",MINUTIAE_TO_PLACE_CELEBRATING_HOLIDAY:"minutiae_to_place_celebrating_holiday",MINUTIAE_TO_PLACE_FEELING:"minutiae_to_place_feeling",MINUTIAE_TO_PLACE_FEELING_TO_HOTEL_CHECKIN:"minutiae_to_place_feeling_hotel_checking",MINUTIAE_TO_PLACE_CELEBRATING_EXPERIMENT:"minutiae_to_place_celebrating_experiment"})}),null);
__d("PlaceRecommendationEntrypoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHEVRON:"chevron",COMMENT:"comment",COMPARISON_CARD:"comparison_card",INTERACTIVE_STORY_CARD:"interactive_story_card",BOOKMARK:"bookmark",GROUP_COMPOSER:"group_composer",GROUP_TAB_COMPOSER:"group_tab_composer",SPROUT:"sprout",POST_UPSELL:"post_upsell",LEARN:"learn",PAST_REX:"past_rex",PLACE_PICKER:"place_picker",REX_BUTTON:"rex_button",UPSELL_CTA:"upsell_CTA",CITY_GUIDES:"city_guides",GROUP_COMPOSER_ACTION_BUTTON:"group_composer_action_button",FOLLOW_UP_UNIT_SHARE_NOW:"follow_up_unit_share_now",FOLLOW_UP_UNIT_EDIT_POST:"follow_up_unit_edit_post",FEED_UPSELL:"feed_upsell",FEED_IMPLICIT_UPSELL:"feed_implicit_upsell",FULL_MAP:"full_map",FULL_MAP_FEED_ATTACHMENT:"full_map_feed_attachment",FULL_MAP_PERMALINK:"full_map_permalink",FULL_MAP_ANNOTATION:"full_map_annotation",FULL_MAP_HSCROLL:"full_map_hscroll",FULL_MAP_MAPVIEW:"full_map_mapview",FULL_MAP_LISTVIEW:"full_map_listview",IMPLICIT_MAP:"implicit_map",LOOKING_FOR_MINUTIAE:"looking_for_minutiae",NOTIFICATION:"notification",NUX:"nux",PLACE_SEARCH:"place_search",REJECT:"reject",SLOT:"slot",STORY:"story",UNSOLICITED:"unsolicited",XOUT:"xout"})}),null);
__d("ReactComposerAsyncRequest",["AsyncRequest","AsyncResponse","ReactComposerActions","ReactComposerPostUtilsCore"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AsyncRequest"));g=c&&c.prototype;function a(a,b){"use strict";g.constructor.call(this,b),this.$ReactComposerAsyncRequest1=a,g.setHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this)),g.setErrorHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this)),g.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest7.bind(this))}a.prototype.setHandler=function(a){"use strict";this.$ReactComposerAsyncRequest2=a;return this};a.prototype.setErrorHandler=function(a){"use strict";this.$ReactComposerAsyncRequest3=a;return this};a.prototype.setFinallyHandler=function(a){"use strict";this.$ReactComposerAsyncRequest4=a;return this};a.prototype.$ReactComposerAsyncRequest5=function(a){"use strict";__p&&__p();var c=this.$ReactComposerAsyncRequest8(a);if(c){this.$ReactComposerAsyncRequest9(a);return}setTimeout(function(){var c=a.payload&&a.payload.isPostPending;c||b("ReactComposerPostUtilsCore").handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(a)}.bind(this),0)};a.prototype.$ReactComposerAsyncRequest6=function(a){"use strict";var b=this.$ReactComposerAsyncRequest8(a);if(b){this.$ReactComposerAsyncRequest9(a);return}this.$ReactComposerAsyncRequest10(a)};a.prototype.$ReactComposerAsyncRequest8=function(a){"use strict";return a.payload&&a.payload.errors&&a.payload.errors[0]};a.prototype.$ReactComposerAsyncRequest9=function(a){"use strict";var c=this.$ReactComposerAsyncRequest8(a);a=new(b("AsyncResponse"))(a.getRequest(),a);a.errorSummary=c?c.summary:null;a.errorDescription=c?c.description:null;a.silentError=c&&c.is_silent;a.transientError=c&&c.is_transient;this.$ReactComposerAsyncRequest10(a)};a.prototype.$ReactComposerAsyncRequest10=function(a){"use strict";setTimeout(function(){b("ReactComposerActions").postError(this.$ReactComposerAsyncRequest1,a),this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(a)}.bind(this),0)};a.prototype.$ReactComposerAsyncRequest7=function(a){"use strict";setTimeout(function(){b("ReactComposerActions").postFinally(this.$ReactComposerAsyncRequest1,a),this.$ReactComposerAsyncRequest4&&this.$ReactComposerAsyncRequest4(a)}.bind(this),0)};e.exports=a}),null);
__d("ComposerPublisher",["invariant","AudienceTypes","BanzaiODS","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","EditPostFeatureCapability","GraphQLResharePost","ReactComposerMediaUploadStore","InstantGamesFeedEvent","InstantGamesFeedEventSection","InstantGamesFeedTypedLogger","ReactComposerPhotoStore","CurrentUser","FBLogger","PlaceRecommendationEntrypoint","ProductCondition","ReactComposerAsyncRequest","ComposerEditCallsite","ComposerStoryCreateMutationWebGraphQLMutation","ComposerStoryEditMutationWebGraphQLMutation","ComposerPublisherSupportedParameters","ComposerPublishType","ShareDataType","TextDelightInComposerGating","TextDelightSurface","gkx","PlaceAttachmentSetting","ReactComposerStore","ReactComposerWebUnusedParameters","ReactComposerWebWhitelistParameters","WebGraphQLLegacyHelper","MentionsUtils","XWebGraphQLMutationController","isEmpty","OGComposerSuggestionMechanisms","QuestionPollTypeJSEnum","CameraPostContextSource","SharesheetDestination","PagesComposerGraphMLGate","uuid"],(function(a,b,c,d,e,f,g){__p&&__p();a={publish:function(a,b,c){this._publishCreateImpl(a.actorID,a.composerID,this.translateData(a.actorID,a.composerID,c,b),a.onPostSuccess,a.onPostFailure,null)},publishFromShareDialog:function(a,b,c,d,e){this._publishCreateImpl(b.actorId,a,this.translateDataFromShareDialog(a,b),c,d,e)},_publishCreateImpl:function(a,c,d,e,f,g){this._publishImpl(a,c,d,b("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID(),e,f,g)},_publishEditImpl:function(a,c,d,e,f,g,h){this._publishImpl(a,c,d,b("ComposerStoryEditMutationWebGraphQLMutation").__getDocID(),f,g,null)},_publishImpl:function(a,c,d,e,f,g,h){e=b("WebGraphQLLegacyHelper").getURI({controller:b("XWebGraphQLMutationController"),docID:e});c=new(b("ReactComposerAsyncRequest"))(c,e).setHandler(f).setErrorHandler(g).setData({variables:JSON.stringify({client_mutation_id:b("uuid")(),actor_id:a,input:d})});h&&c.setFinallyHandler(h);c.send();b("BanzaiODS").bumpEntityKey("webgraphml_publish","hit")},_getSharedCreateMutationData:function(a,c,d,e,f,g,h,i,j){__p&&__p();c={actor_id:a,client_mutation_id:b("uuid")(),source:"WWW"};if(d&&d.type===b("SharesheetDestination").STORIES)c.audiences=[{stories:{self:{target_id:e}}}];else if(d&&d.type===b("SharesheetDestination").MESSENGER){var k=[];d.messenger_ids.parseIndividualAndExistingGroups().forEach(function(a){k.push({direct:{target_id:a}})});d.messenger_ids.parseNewMessengerGroups().forEach(function(a){k.push({direct:{group:{participants:{users:a}}}})});c.audiences=k}else e&&this._getIsDirectedPost(a,e)?c.audience={to_id:e}:b("CurrentUser").getAccountID()!==a&&f===null?c.audience={privacy:{base_state:"EVERYONE"}}:c.audience={web_privacyx:f};i&&(c.message=this._getTranslatedTextWithEntitiesFields(i,j));return this._getSharedMutationData(c,g,h)},_getSharedMutationData:function(a,c,d){var e={};e.composer_session_id=c||b("uuid")();d&&(e.ref=d);a.logging=e;return a},_getCommonOriginalMutationData:function(a,b){b.composertags_with&&(a.with_tags_ids=b.composertags_with);b.multilingual_specified_lang&&(a.specified_dialect=b.multilingual_specified_lang);if(b.multilingual_statuses&&b.multilingual_status_langs){var c=b.multilingual_status_langs;a.multilingual_translations=b.multilingual_statuses.map(function(a,b){return{message:a,dialect:c[b]}})}return a},translateDataFromShareDialog:function(a,c){a=this._getSharedCreateMutationData(c.actorId,a,null,null,c.privacy,c.composerSessionID,null,c.message);a.attachments={link:{internal_linkable_id:c.postId,shared_from_post_id:c.postId}};c.isForcedReshareOfPost&&(a.reshare_original_post=b("GraphQLResharePost").RESHARE_ORIGINAL_POST);a.web_graphml_migration_params={composer_type:"RESHARE"};c.videoStartTimeMs&&(a.video_start_time_ms=c.videoStartTimeMs);return a},publishFromEditDialog:function(a,c){this._publishEditImpl(a.actorID,a.composerID,this.translateDataFromEditDialog(a.actorID,a.composerID,c,a.composerConfig),b("ComposerStoryEditMutationWebGraphQLMutation").__getDocID(),a.onPostSuccess,a.onPostFailure,null)},translateDataFromEditDialog:function(a,c,d,e){__p&&__p();e===void 0&&(e={});var f=d.story_token;f||g(0);a={actor_id:a,client_mutation_id:b("uuid")(),story_id:f};a=this._getCommonOriginalMutationData(a,d);if(d.album_id)a.audience={album_id:d.album_id};else if(d.privacyx){f={web_privacyx:d.privacyx};a.audience=f}a.editable_post_feature_capabilities=[b("EditPostFeatureCapability").STICKER,b("EditPostFeatureCapability").CONTAINED_MEDIA];d.xc_sticker_id===0?a.sticker_id=null:d.xc_sticker_id&&(a.sticker_id=d.xc_sticker_id);d.composertags_place&&d.is_explicit_place?a.explicit_place_id=d.composertags_place:d.composertags_place_name?a.place_name=d.composertags_place_name:d.composertags_city?a.implicit_place_id=String(d.composertags_city):a.explicit_place_id=null;f={};if(d.action_type_id&&d.action_type_id.length&&(d.object_id||d.object_str)){f.taggable_activity_id=d.action_type_id[0];d.object_id&&(f.object_id=d.object_id[0]);d.object_str&&(f.object_text=d.object_str[0]);d.icon_id&&(f.icon_id=d.icon_id);d.hide_object_attachment&&(f.object_attachment_behavior=d.hide_object_attachment?"HIDDEN":"SHOWN");if(d.og_suggestion_mechanism)for(var h in b("OGComposerSuggestionMechanisms"))if(b("OGComposerSuggestionMechanisms")[h]==d.og_suggestion_mechanism){f.suggestion_mechanism=h;break}a.inline_activities=[f]}else a.inline_activities=[];if(d.xc_edit_callsite){f={};f.edit_callsite=this._getTranslatedEnum(d.xc_edit_callsite,b("ComposerEditCallsite"));d.xc_story_dom_id&&(f.story_dom_id=d.xc_story_dom_id);d.xhpc_composerid&&(f.composer_dom_element_id=d.xhpc_composerid);d.xc_entstory_context&&(f.entstory_context=d.xc_entstory_context);d.save_only&&(f.save_only=d.save_only);a.web_graphml_migration_params=f}d.xhpc_message?a.message=this._getTranslatedTextWithEntitiesFields(d.xhpc_message,d.delight_ranges):a.message=null;this._getComposerSupportsMarkdown(e)&&d.is_markdown!==null&&d.is_markdown!==undefined&&(a.formatting=d.is_markdown?"MARKDOWN":"PLAINTEXT");f=d.composer_unpublished_photo;if(d.attachment&&d.attachment.params)a.attachments=[{link:this._translateShareAttachment(d.attachment.type,d.attachment.params,d.attachment.shared_from_post_id)}],(d.attachment&&d.attachment.reshare_original_post||d.is_forced_reshare_of_post)&&(a.reshare_original_post="RESHARE_ORIGINAL_POST"),a.editable_post_feature_capabilities.push(b("EditPostFeatureCapability").CONTAINED_LINK);else if(f){var i=[],j=this._getPhotos(c);f.forEach(function(a){j.includes(a)?i.push({photo:{id:a}}):i.push({video:{id:a,notify_when_processed:!0}})});a.attachments=i;a.editable_post_feature_capabilities.push(b("EditPostFeatureCapability").CONTAINED_LINK)}else d.attachment===null&&(a.attachments=[],a.editable_post_feature_capabilities.push(b("EditPostFeatureCapability").CONTAINED_LINK));return this._getSharedMutationData(a,d.composer_session_id,null)},_translateShareAttachment:function(a,b,c){return{share_scrape_data:JSON.stringify({share_type:a,share_params:b,shared_from_post_id:c})}},_getTranslatedEnum:function(a,b){var c=null;for(var d in b)if(b[d]===a){c=d;break}c||g(0);return c},_getComposerSupportsMarkdown:function(a){var b;b=((b=a)!=null?(b=b.sproutsConfig)!=null?(b=b.MARKDOWN)!=null?b.enabled:b:b:b)===!0;a=((a=a)!=null?(a=a.taggersConfig)!=null?(a=a.MARKDOWN)!=null?a.enabled:a:a:a)===!0;return b||a?!0:!1},translateData:function(a,c,d,e){__p&&__p();a=this._getSharedCreateMutationData(a,c,d,e.xhpc_targetid,e.privacyx,e.composer_session_id,e.ref,e.xhpc_message,e.delight_ranges);a=this._getCommonOriginalMutationData(a,e);a.camera_post_context={deduplication_id:e.composer_session_id,source:b("CameraPostContextSource").COMPOSER};e.xc_sticker_id&&(a.referenced_sticker_id=e.xc_sticker_id);e.is_welcome_to_group_post&&(a.is_welcome_to_group_post=e.is_welcome_to_group_post);e.composer_source_surface&&(a.composer_source_surface=e.composer_source_surface);e.composer_entry_point&&(a.composer_entry_point=e.composer_entry_point);e.composer_entry_time&&(a.composer_entry_time=e.composer_entry_time);d={};e.composer_session_duration&&(d.composition_duration=e.composer_session_duration);e.num_keystrokes&&(d.number_of_keystrokes=e.num_keystrokes);e.num_pastes&&(d.number_of_copy_pastes=e.num_pastes);("composer_session_duration"in e||"num_keystrokes"in e||"num_pastes"in e)&&(a.composer_session_events_log=d);e.composer_type&&(a.composer_type=e.composer_type);e.is_q_and_a&&(a.is_q_and_a=e.is_q_and_a);e.is_markdown&&(a.formatting="MARKDOWN");e.text_format_preset_id&&(a.text_format_preset_id=e.text_format_preset_id);if(e.action_type_id&&e.action_type_id.length&&(e.object_id||e.object_str)){d={};d.taggable_activity_id=e.action_type_id[0];e.object_id&&(d.object_id=e.object_id[0]);e.object_str&&(d.object_text=e.object_str[0]);e.icon_id&&(d.icon_id=e.icon_id);e.hide_object_attachment&&(d.object_attachment_behavior=e.hide_object_attachment?"HIDDEN":"SHOWN");if(e.og_suggestion_mechanism)for(var f in b("OGComposerSuggestionMechanisms"))if(b("OGComposerSuggestionMechanisms")[f]==e.og_suggestion_mechanism){d.suggestion_mechanism=f;break}a.inline_activities=[d]}if(e.composertags_sponsors){a.sponsor_id=e.composertags_sponsors[0];for(var g in b("BrandedContentSharedToSponsorStatus"))if(b("BrandedContentSharedToSponsorStatus")[g]==e.direct_share_status){a.direct_share_status=g;break}for(var h in b("BrandedContentSponsorRelationship"))if(b("BrandedContentSponsorRelationship")[h]==e.sponsor_relationship){a.sponsor_relationship=h;break}}d={};b("isEmpty")(e.feed_targeted_data)||(d.feed_targeted_data=JSON.stringify(e.feed_targeted_data));e.target_type&&(d.target_type=e.target_type);e.xhpc_aggregated_story_composer&&(d.xhpc_aggregated_story_composer=e.xhpc_aggregated_story_composer);e.xhpc_composerid&&(d.xhpc_composerid=e.xhpc_composerid);e.xhpc_context&&(d.xhpc_context=e.xhpc_context);e.xhpc_finch&&(d.xhpc_finch=e.xhpc_finch);e.xhpc_fundraiser_page&&(d.xhpc_fundraiser_page=e.xhpc_fundraiser_page);if(e.xhpc_publish_type)for(var i in b("ComposerPublishType"))if(b("ComposerPublishType")[i]==e.xhpc_publish_type){d.xhpc_publish_type=i;break}e.xhpc_timeline&&(d.xhpc_timeline=e.xhpc_timeline);e.backdated_date&&e.backdated_date.year&&(d.backdated_array=e.backdated_date);e.qn&&(d.waterfall_id=e.qn);e.post_to_marketplace&&(d.xpost_to_marketplace=e.post_to_marketplace);e.composer_attachment_sell_audience_target_ids&&(d.xpost_target_ids=e.composer_attachment_sell_audience_target_ids);d&&(a.web_graphml_migration_params=d);e.fun_fact_prompt_id&&(a.fun_fact_prompt_id=e.fun_fact_prompt_id);if(e.asked_fun_fact_prompt_data){d=e.asked_fun_fact_prompt_data.prompt_title;d&&(a.asked_fun_fact_prompt_data={prompt_title:this._getTranslatedTextWithEntitiesFields(d).text})}e.is_learning_link_post&&(a.is_learning_link_post=e.is_learning_link_post);e.extensible_sprouts_ranker_request&&(a.extensible_sprouts_ranker_request=e.extensible_sprouts_ranker_request);e.place_attachment_setting===b("PlaceAttachmentSetting").HIDE_ATTACHMENT?a.place_attachment_setting="HIDE_ATTACHMENT":e.place_attachment_setting===b("PlaceAttachmentSetting").SHOW_ATTACHMENT&&(a.place_attachment_setting="SHOW_ATTACHMENT");if(e.is_placelist_post){d={};d.is_placelist_post=e.is_placelist_post;e.placelist_within_page&&(d.placelist_within_page=e.placelist_within_page);if(e.place_list_entry_point)for(var j in b("PlaceRecommendationEntrypoint"))if(b("PlaceRecommendationEntrypoint")[j]==e.place_list_entry_point){d.place_list_entry_point=j;break}a.placelist_data=d}e.is_ad_post===!0?a.unpublished_content_data={unpublished_content_type:"ADS_POST"}:e.draft===!0||e.unpublished_content_type==="DRAFT"?a.unpublished_content_data={unpublished_content_type:"DRAFT"}:(e.scheduled===!0||e.unpublished_content_type==="SCHEDULED")&&e.scheduled_publish_time&&(a.unpublished_content_data={unpublished_content_type:"SCHEDULED",scheduled_publish_time:e.scheduled_publish_time});e.composertags_place?a.explicit_place_id=e.composertags_place:e.composertags_city?a.implicit_place_id=String(e.composertags_city):e.composertags_place_name&&(a.place_name=e.composertags_place_name);b("isEmpty")(e.animated_image)||(a.animated_image=e.animated_image);b("isEmpty")(e.event_tag)||(a.event_tag=e.event_tag);b("isEmpty")(e.holiday_card)||(a.holiday_card=e.holiday_card);b("isEmpty")(e.page_recommendation_ids)||(a.page_recommendation_ids=e.page_recommendation_ids);b("isEmpty")(e.page_recommendation)||(a.page_recommendation=e.page_recommendation);b("isEmpty")(e.story_list_attachment_data)||(a.story_list_attachment_data=e.story_list_attachment_data);b("isEmpty")(e.living_room_attachment)||(a.living_room_attachment=e.living_room_attachment);b("isEmpty")(e.action_post_attachment_data)||(a.action_post_attachment_data=e.action_post_attachment_data);b("isEmpty")(e.poll_question_data)||(a.poll_question_data=this._getTranslatedPollQuestionData(e.poll_question_data));b("isEmpty")(e.todo_list_data)||(a.todo_list_data=e.todo_list_data);if(e.play_with_friends_game_id){d=b("ReactComposerStore").getTargetType(c);new(b("InstantGamesFeedTypedLogger"))().setEvent(b("InstantGamesFeedEvent").PLAY_WITH_FRIENDS_COMPOSER_POST_ATTEMPTED).setUISurface(b("InstantGamesFeedEventSection").PLAY_WITH_FRIENDS_ATTACHMENT).setGameID(e.play_with_friends_game_id).setGroupID(d=="group"?e.xhpc_targetid:null).setPostPrivacyID(e.privacyx).log();a.play_with_friends_game_id=e.play_with_friends_game_id}d=[];e.attachment&&e.attachment.params?(d=[{link:this._translateShareAttachment(e.attachment.type,e.attachment.params,e.attachment.shared_from_post_id)}],(e.attachment&&e.attachment.reshare_original_post||e.is_forced_reshare_of_post)&&(a.reshare_original_post="RESHARE_ORIGINAL_POST")):e.composer_unpublished_photo&&(d=this._getTranslatedMediaAttachments(this._getPhotos(c),e.composer_unpublished_photo,e.composer_custom_accessibility_caption,e.composer_has_crop,e.composer_has_filter,e.composer_text_overlay,e.composer_sticker,e.xy_tags));c=this._getProductItemAttachment(e,a.message);if(c){c={product_item:c};d.push(c)}if(e.charity_id){c={fundraiser_for_story:{charity_id:e.charity_id}};d.push(c)}b("isEmpty")(d)||(a.attachments=d);return a},_getGraphQLConditionKey:function(a){switch(a){case b("ProductCondition").PC_NEW:return"NEW_ITEM";case b("ProductCondition").PC_REFURBISHED:return"REFURBISHED";default:return"USED"}},_getProductItemAttachment:function(a,b){__p&&__p();if(a.composer_attachment_sell_price&&a.composer_attachment_sell_title){var c={};c.title=a.composer_attachment_sell_title;c.item_price={price:a.composer_attachment_sell_price,currency:a.composer_attachment_sell_currency};c.location_page_id=a.composer_attachment_sell_location_page_id;c.condition=this._getGraphQLConditionKey(a.composer_attachment_sell_condition);a.composer_attachment_sell_pickup_note&&(c.pickup_note=this._getTranslatedTextWithEntitiesFields(a.composer_attachment_sell_pickup_note));b&&(c.description=b);return c}return null},_getTranslatedMediaAttachments:function(a,c,d,e,f,g,h,i){__p&&__p();var j=[];c.forEach(function(c){__p&&__p();if(a.includes(c)){var k={};k.id=c;e[c]===!0&&(k.crop_state="CROPPED");f[c]===!0&&(k.filter_state="FILTERED");d[c]&&(k.custom_accessibility_caption=d[c]);g[c]&&!b("isEmpty")(g[c])&&(k.text_overlay=g[c]);if(h[c]&&!b("isEmpty")(h[c])){var l=[];Object.keys(h[c]).forEach(function(a){l.push({id:a,count:h[c][a]})});k.stickers=l}i&&Array.isArray(i)&&(k.tags=i.filter(function(a){return a.fbid===k.id}).map(function(a){var b={};a.subject?b.id=a.subject:b.name=a.name;return{x:a.x,y:a.y,source:a.source,taggee:b}}));j.push({photo:k})}else j.push({video:{id:c,notify_when_processed:!0}})});return j},_getTranslatedPollQuestionData:function(a){var c={text:a.text,hidden_results:a.hidden_results,options:a.options,question_type:this._getTranslatedEnum(a.question_type,b("QuestionPollTypeJSEnum"))};c&&((a.poll_end_time===0||a.poll_end_time)&&(c.poll_end_time=a.poll_end_time),(a.relative_poll_end_time===0||a.relative_poll_end_time)&&(c.relative_poll_end_time=a.relative_poll_end_time));return c},_getTranslatedTextWithEntitiesFields:function(a,c){__p&&__p();a=b("MentionsUtils").parseMessageMentions(a);var d=a.ranges;a=a.text;if(!d)return{text:a,ranges:[]};d=d.map(function(a){return{offset:a.offset,length:a.length,entity:{id:a.uid}}});b("TextDelightInComposerGating").isHighlightEnabled(b("TextDelightSurface").POST)&&c&&(d=[].concat(d,c.map(function(a){return{offset:a.offset,length:a.length,entity:{id:a.campaignID}}})));return{text:a,ranges:d}},getShouldUseGraphQLForPageCTA:function(a,c){b("BanzaiODS").bumpEntityKey("webgraphml_should_use","page_cta");this._logUnsupportedFeatures("page_cta",a,c);if(!this._getShouldUseGraphQL(c))return!1;if(!this._getPageCTAPostGK()){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","page_cta_fail_gk");return!1}return!0},_getShouldUseGraphQLForFeedTargetingFeature:function(a){if(b("isEmpty")(a.feed_targeted_data))return!1;for(var c in a)if(this._getContainsWhitelistedParameter(a,c)&&c!=="feed_targeted_data")return!1;return b("PagesComposerGraphMLGate").shouldUseGraphMLForFeedTargetingFeature(a.xhpc_targetid)},getShouldUseGraphQLForStatus:function(a,c){__p&&__p();this._logUnsupportedFeatures("status",a,c);if(!this._getShouldUseGraphQL(c)&&!this._getShouldUseGraphQLForFeedTargetingFeature(c))return!1;if(b("CurrentUser").getAccountID()!==a){a=this._getIsDirectedPost(a,c.xhpc_targetid);if(a){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_different_actor_directed_post");return!1}if(!this._getUndirectedStatusPagePostGK(c.xhpc_targetid)){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_failing_gating_page_post");return!1}return!0}if(c.target_type==="page"){a=this._getPageVisitorStatusPostGK(c.xhpc_targetid);a||b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_failing_gating_page_visitor_post");return a}return!0},getShouldUseGraphQLForMedia:function(a,c,d){__p&&__p();this._logUnsupportedFeatures("media",a,c);if(!this._getShouldUseGraphQL(c))return!1;if(b("CurrentUser").getAccountID()!==a){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_different_actor");return!1}if(c.target_type==="page"){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_target_type_page");return!1}return!0},getShouldUseGraphQLForShareDialog:function(a){__p&&__p();b("BanzaiODS").bumpEntityKey("webgraphml_should_use","share");this._logUnsupportedFeaturesForShareDialog(a);if(!this._getShouldUseGraphQLForShareDialog(a)){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_missing_features");return!1}if(b("CurrentUser").getAccountID()!==a.actorId){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_different_actor");return!1}if(a.shareType===String(b("ShareDataType").FB_CMS)||a.shareType===String(b("ShareDataType").FB_OFFER_VIEW))return!1;if(a.audienceType!==b("AudienceTypes").OWN){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_unsupported_audience_type_"+(a.audienceType?a.audienceType:"unset"));return!1}a=this._getIsDirectedPost(a.actorId,a.actorId);if(a&&!this._getDirectedShareDialogPostGK()||!a&&!this._getUndirectedShareDialogPostGK()){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_"+(a?"directed":"undirected")+"_failing_gating");return!1}return!0},_getPhotos:function(a){if(b("gkx")("AT5tG3oemOmLyTO50Wk2UyRl-rxoL_XF0v4oVx0gQkmNnnMjAIAjkvDJbnfau4DfsUjiPzdfZcKiXzAcPiuCIAR_9b7Eo9AVO3SREBrCX8A03g"))return b("ReactComposerMediaUploadStore").getPhotos(a).map(function(a){return a.photoID}).toArray();else return b("ReactComposerPhotoStore").getPhotos(a).map(function(a){return a.id}).toArray()},_getIsSupportedParameter:function(a,c){return b("ComposerPublisherSupportedParameters").includes(c)||b("ReactComposerWebUnusedParameters").params.create.includes(c)||b("isEmpty")(a[c])},_getContainsWhitelistedParameter:function(a,c){return b("ReactComposerWebWhitelistParameters").params.create.includes(c)&&!b("isEmpty")(a[c])},_getIsSupportedParameterForShareDialog:function(a,c){var d="share_dialog_";return b("ComposerPublisherSupportedParameters").includes(d+c)||b("ReactComposerWebUnusedParameters").params.share.includes(c)||b("isEmpty")(a[c])},_getShouldUseGraphQL:function(a){for(var b in a)if(this._getContainsWhitelistedParameter(a,b))return!1;return!0},_getShouldUseGraphQLForEdit:function(a){for(var b in a)if(this._getContainsWhitelistedParameterForEdit(a,b))return!1;return!0},getShouldUseGraphQLForEdit:function(a,c){__p&&__p();b("BanzaiODS").bumpEntityKey("webgraphml_should_use","edit");this._logUnsupportedFeaturesForEdit(c);if(!c.story_token){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","edit_missing_story_token");b("FBLogger")("WebGraphML").warn("Missing story token from %s. Context: %s",c.xc_edit_callsite,c.xc_entstory_context);return!1}if(!this._getShouldUseGraphQLForEdit(c)){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","edit_missing_features");return!1}if(b("CurrentUser").getAccountID()!==a){b("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","edit_different_actor");return!1}return!0},_getIsSupportedParameterForEdit:function(a,c){var d="edit_";return b("ComposerPublisherSupportedParameters").includes(d+c)||b("ReactComposerWebUnusedParameters").params.edit.includes(c)||b("isEmpty")(a[c])},_getContainsWhitelistedParameterForEdit:function(a,c){return b("ReactComposerWebWhitelistParameters").params.edit.includes(c)&&!b("isEmpty")(a[c])},_getShouldUseGraphQLForShareDialog:function(a){for(var b in a)if(!this._getIsSupportedParameterForShareDialog(a,b))return!1;return!0},_logUnsupportedFeatures:function(a,c,d){var e=d.target_type;!e&&b("CurrentUser").getAccountID()!==c&&(e="page");for(var f in d)!this._getIsSupportedParameter(d,f)&&!b("ReactComposerWebWhitelistParameters").params.create.includes(f)&&(b("FBLogger")("WebGraphML").info((e?"_target_type_"+e:"")+a+"_"+f),b("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature",(e?"_target_type_"+e:"")+a+"_"+f)),b("ReactComposerWebWhitelistParameters").params.create.includes(f)&&!b("isEmpty")(d[f])&&b("BanzaiODS").bumpEntityKey("webgraphml_whitelisted_feature",(e?"_target_type_"+e+"_":"")+a+"_"+f)},_logUnsupportedFeaturesForShareDialog:function(a){for(var c in a)this._getIsSupportedParameterForShareDialog(a,c)||b("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature"+(a.audienceType?"_audience_type_"+a.audienceType:""),"share_"+c)},_logUnsupportedFeaturesForEdit:function(a){for(var c in a)!this._getIsSupportedParameterForEdit(a,c)&&!this._getContainsWhitelistedParameterForEdit(a,c)&&b("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature","edit_"+c)},_getIsDirectedPost:function(a,b){return a!==b},_getPageCTAPostGK:function(){return b("gkx")("AT56hXSfx2DmvrffmXHywXG2EXllfWB7jvC4XkpnOJWP3IouFwnUhTEJAjYTnWJAxDQ702wOyfjuF1cTvouwYGda")},_getUndirectedStatusPagePostGK:function(a){return b("PagesComposerGraphMLGate").shouldUseGraphMLForAdminStatus(a)},_getPageVisitorStatusPostGK:function(a){return b("PagesComposerGraphMLGate").shouldUseGraphMLForVisitorStatus(a)},_getUndirectedShareDialogPostGK:function(){return b("gkx")("AT45qf4UyNsHtdrna_5Jepo7V6hwovngoxtz0wzbzcCPZEy8rihHe4c22mUFm09-0u5YdvuvCL4vxz9CZ2U3vdr9RSjLOk2PwTW0H24KZ4w4yg")},_getDirectedShareDialogPostGK:function(){return b("gkx")("AT7EUBz3TOtL3DuCXqYYxhyMbVwTtYiR3kPK8XqRVssmG46rTwl30qbJHr8Z7stkUKr8Z387hkYEiYNY5lcHjFDXApIybVySxyQWR4f5Dyz13g")},_getDirectedSingleVideoPostGK:function(){return b("gkx")("AT4TPebq0Hg9eV_iv4hRws1PygA80SO-KGLx6Ixc7LU6XjcoWAlSyRzwAeZghqj_zxGw6MvLMKuTqUaDFQQHiLVpm50UOUHRKwAj5nCRRxtcUQ")},_getDirectedSinglePhotoPostGK:function(){return b("gkx")("AT6rcIrIG9am0y7uYSMWEyJPTI2mug4fZOp9ccelKeHUcUP1YG69kRsckOvtCdFE-osY1gqYaaks1PqSnJXVbTRUXjJaOKpb4MCKGs0tf03uOA")},_getDirectedMultiPhotoPostGK:function(){return b("gkx")("AT4mLSZw6N7jw1XvnD7ydR9hAzJ0vSmgv1jXYDiq5PiqZbWpYJCrhnGFSOJmee4cQWa9Sbefr6gg7QHjmpoOZ0LecCe-yd1regHhM-oVNwgXNA")},_getDirectedMultiMediaPostGK:function(){return b("gkx")("AT49HckgKBLjm8j8_MGdrHoMJtRq8KAoFtE995RSpmp2XG220S3YLLyhKMa17Oo5h6Rb57OKCOImqn9UXFDT30Ms")},_getEditPostGK:function(){return b("gkx")("AT6ij-73aJcNQ76sAfPAFpBUhcBY6G5xLBL4R5h2hIkklTVu8NvREPCfStquvBVkkx29tzHVKvkT4lyhhCHAV-AC")}};e.exports=a}),null);
__d("SATPInteractionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setEventname=function(a){this.$1.eventname=a;return this};a.prototype.setPresetID=function(a){this.$1.preset_id=a;return this};a.prototype.setRankedPosition=function(a){this.$1.ranked_position=a;return this};a.prototype.setRequestedCollection=function(a){this.$1.requested_collection=a;return this};a.prototype.setServertime=function(a){this.$1.servertime=a;return this};a.prototype.setTrackingString=function(a){this.$1.tracking_string=a;return this};a.prototype.setUserActionString=function(a){this.$1.user_action_string=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={country:!0,eventname:!0,preset_id:!0,ranked_position:!0,requested_collection:!0,servertime:!0,tracking_string:!0,user_action_string:!0,vc:!0};e.exports=a}),null);
__d("SendGiftActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SendGiftActionLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SendGiftActionLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SendGiftActionLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setExceptionMessage=function(a){this.$1.exception_message=a;return this};a.prototype.setExceptionType=function(a){this.$1.exception_type=a;return this};a.prototype.setGiftID=function(a){this.$1.gift_id=a;return this};a.prototype.setP2pTransactionID=function(a){this.$1.p2p_transaction_id=a;return this};a.prototype.setResponseCode=function(a){this.$1.response_code=a;return this};a.prototype.setSegmentID=function(a){this.$1.segment_id=a;return this};a.prototype.setStackTrace=function(a){this.$1.stack_trace=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={action:!0,exception_message:!0,exception_type:!0,gift_id:!0,p2p_transaction_id:!0,response_code:!0,segment_id:!0,stack_trace:!0,vc:!0};e.exports=a}),null);
__d("MarketplaceWWWAutosGating",["gkx"],(function(a,b,c,d,e,f){"use strict";function a(){return b("gkx")("AT6EIragfQoYiLFNsgsqhmrt24bocC-FLIgwa30jw31lQ_IT61uadoGTWRSuV4H0zQTfKwKOyRWjDJUWsKhOo_e78JIEaT6zC8KKYRV6tWRozQ")}e.exports={canSeeStructuredAutoComposer:a}}),null);
__d("MarketplaceWWWRentalsGating",["gkx"],(function(a,b,c,d,e,f){"use strict";function a(){return b("gkx")("AT5NPi2Ue1k6g2JFjFU5KLZzl-_FZ2qhPzUPfuax6jH-aqMpXGHfquggTuvVdOLk38BqhOq0L7DG4TYKvbWWxo5G2hq6xOhmuZ1S-AwbqIw3aA")}e.exports={canSeeStructuredRealEstateComposer:a}}),null);
__d("ReactComposerAttachmentSelector.react",["cx","Image.react","Link.react","React","TooltipData","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=b("joinClasses")("_4-h7"+(this.props.selected?" _5qtn":""),"fbReactComposerAttachmentSelector_"+this.props.attachmentID),c="overflow";this.props.enableDisplayTooltip&&(c=null);return b("React").createElement(b("Link.react"),babelHelpers["extends"]({onClick:this.props.onSelected,className:a,role:"tab","aria-selected":this.props.selected,"data-tooltip-delay":"500","data-tooltip-display":c},b("TooltipData").propsFor(this.props.label),this.props),b("React").createElement("span",{className:"_4-fs"},this.props.icon&&b("React").createElement(b("Image.react"),{src:this.props.icon,className:"_5qto"}),b("React").createElement("span",{className:"_5qtp"},this.props.label),b("React").createElement("span",{className:"_4-h8"})))};function a(){h.apply(this,arguments)}a.propTypes={selected:c.bool,label:c.string.isRequired,icon:c.object,onSelected:c.func.isRequired,enableDisplayTooltip:c.bool};a.defaultProps={selected:!1,enableDisplayTooltip:!1};e.exports=a}),null);
__d("ReactComposerPostToGroupActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SELECT_TAB:null,UNSELECT_TAB:null,UPDATE_SELECTED_GROUP:null,CLOSE_NUX:null,LOG_EVENT:null},"ReactComposerPostToGroupActionType")}),null);
__d("XReactComposerPostToGroupLoggingODSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/logging/post_to_group/ods/",{event:{type:"String",required:!0}})}),null);
__d("ReactComposerPostToGroupStore",["AsyncRequest","ReactComposerPostToGroupActionType","ReactComposerStoreBase","XReactComposerPostToGroupLoggingODSController"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a;g.constructor.call(this,function(){return{isTabSelected:!1,selectedGroup:null,showNux:!0}},function(c){__p&&__p();switch(c.type){case b("ReactComposerPostToGroupActionType").SELECT_TAB:a&&a.$ReactComposerPostToGroupStore1(c,!0);break;case b("ReactComposerPostToGroupActionType").UNSELECT_TAB:a&&a.$ReactComposerPostToGroupStore1(c,!1);break;case b("ReactComposerPostToGroupActionType").UPDATE_SELECTED_GROUP:a&&a.$ReactComposerPostToGroupStore2(c);break;case b("ReactComposerPostToGroupActionType").CLOSE_NUX:a&&a.$ReactComposerPostToGroupStore3(c);break;case b("ReactComposerPostToGroupActionType").LOG_EVENT:a&&a.$ReactComposerPostToGroupStore4(c);break}});a=this}a.prototype.getIsTabSelected=function(a){"use strict";return this.getComposerData(a).isTabSelected};a.prototype.getSelectedGroup=function(a){"use strict";return this.getComposerData(a).selectedGroup};a.prototype.getSelectedGroupID=function(a){"use strict";a=this.getComposerData(a).selectedGroup;return a?a.getUniqueID():null};a.prototype.getShowNux=function(a){"use strict";return this.getComposerData(a).showNux};a.prototype.$ReactComposerPostToGroupStore1=function(a,b){"use strict";a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a);c.isTabSelected=b;this.emitChange(a)};a.prototype.$ReactComposerPostToGroupStore2=function(a){"use strict";a=this.validateAction(a,["composerID","group"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.selectedGroup=a;this.emitChange(b)};a.prototype.$ReactComposerPostToGroupStore3=function(a){"use strict";a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.showNux=!1;this.emitChange(a)};a.prototype.$ReactComposerPostToGroupStore4=function(a){"use strict";var event=this.validateAction(a,["event"]);a=b("XReactComposerPostToGroupLoggingODSController").getURIBuilder().setString("event",event).getURI();new(b("AsyncRequest"))(a).send()};e.exports=new a()}),null);
__d("ReactComposerAttachmentSelectorContainer.react",["Arbiter","FluxContainer","React","ReactComposerAttachmentActions","ReactComposerAttachmentSelector.react","ReactComposerAttachmentStore","ReactComposerEvents","ReactComposerPostToGroupStore","ReactComposerStore","emptyFunction","ifRequired","ReactComposerContextTypes"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){__p&&__p();if(this.props.disableSelectAttachment)return;if(this.state.selected){b("ReactComposerAttachmentActions").selectAttachmentLoggingOnlyDoNotUse(this.context.composerID,null,null,b("ReactComposerStore").getSproutSurface(this.context.composerID));return}b("ifRequired")("ReactComposerPostToGroupActions",function(a){return a.unselectTab(this.context.composerID)}.bind(this));b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,this.props.attachmentID,!0,this.props.loggingName);setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0);this.props.onAfterSelected&&this.props.onAfterSelected()}.bind(this),c}a.getStores=function(){"use strict";return[b("ReactComposerAttachmentStore"),b("ReactComposerPostToGroupStore")]};a.calculateState=function(a,c,d){"use strict";var e=d.composerID;a=[c.attachmentID];c.alternativeAttachmentIDs&&(a=a.concat(c.alternativeAttachmentIDs));d=a.some(function(a){return b("ReactComposerPostToGroupStore").getIsTabSelected(e)?!1:b("ReactComposerAttachmentStore").getIsAttachmentSelected(e,a)});return{selected:d}};a.prototype.render=function(){"use strict";var a=this.props.onSelected!==b("emptyFunction")?this.props.onSelected:this.$1;return b("React").createElement(b("ReactComposerAttachmentSelector.react"),babelHelpers["extends"]({},this.props,{selected:this.state.selected,showNLUEducation:this.state.showNLUEducation,onSelected:a}))};a.defaultProps={onSelected:b("emptyFunction"),disableSelectAttachment:!1,enableDisplayTooltip:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerFileActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({RESET:null,SAVE_FILE:null,SET_FILE_CONFIG:null},"ReactComposerFileActionType")}),null);
__d("ReactComposerFileStore",["fbt","ReactComposerFileActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));h=c&&c.prototype;function a(){"use strict";__p&&__p();var a;h.constructor.call(this,function(){return{file:null,maxFileUploadString:null,selectedFileName:a&&a.$ReactComposerFileStore1()}},function(c){switch(c.type){case b("ReactComposerFileActionType").RESET:a&&a.$ReactComposerFileStore2(c);break;case b("ReactComposerFileActionType").SAVE_FILE:a&&a.$ReactComposerFileStore3(c);break;case b("ReactComposerFileActionType").SET_FILE_CONFIG:a&&a.$ReactComposerFileStore4(c);break}});a=this}a.prototype.getFile=function(a){"use strict";return this.getComposerData(a).file};a.prototype.getMaxFileUploadSize=function(a){"use strict";return this.getComposerData(a).maxFileUploadSize};a.prototype.getMaxFileUploadString=function(a){"use strict";return this.getComposerData(a).maxFileUploadString};a.prototype.getSelectedFileName=function(a){"use strict";return this.getComposerData(a).selectedFileName};a.prototype.getURI=function(a){"use strict";return"/ajax/groups/files/upload"};a.prototype.hasFile=function(a){"use strict";return!!this.getComposerData(a).file};a.prototype.isFileSelected=function(a){"use strict";a=this.getComposerData(a);return!!a.file};a.prototype.$ReactComposerFileStore1=function(){"use strict";return g._("No file chosen")};a.prototype.$ReactComposerFileStore2=function(a){"use strict";var b=this.validateAction(a,"composerID");b=this.getComposerData(b);b.file=null;b.selectedFileName=this.$ReactComposerFileStore1();this.emitChange(a.composerID)};a.prototype.$ReactComposerFileStore3=function(a){"use strict";var b=this.validateAction(a,["composerID","file","name"]),c=b[0],d=b[1];b=b[2];c=this.getComposerData(c);c.file=d;c.selectedFileName=b;this.emitChange(a.composerID)};a.prototype.$ReactComposerFileStore4=function(a){"use strict";var b=this.validateAction(a,["composerID","config"]),c=b[0];b=b[1];c=this.getComposerData(c);c.maxFileUploadSize=b.maxFileUploadSize;c.maxFileUploadString=b.maxFileUploadString;this.emitChange(a.composerID)};e.exports=new a()}),null);
__d("ReactComposerFileActions",["ReactComposerDispatcher","ReactComposerFileActionType","ReactComposerFileStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerFileStore");a.prototype.reset=function(a){"use strict";a={composerID:a,type:b("ReactComposerFileActionType").RESET};b("ReactComposerDispatcher").dispatch(a)};a.prototype.saveFile=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerFileActionType").SAVE_FILE,name:c.name,file:c.file};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setConfig=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerFileActionType").SET_FILE_CONFIG,config:c};b("ReactComposerDispatcher").dispatch(a)};function a(){"use strict"}e.exports=new a()}),null);
__d("XReactComposerListAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/list/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0}})}),null);
__d("ReactComposerListLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerListAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerListLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:b("ReactComposerAttachmentType").LIST},propTypes:{selected:a.bool,bootload:a.func,bootloader:b("ReactComposerBootloaderPropTypes")},bootload:function(a){this.props.bootload?this.props.bootload(a):this.props.bootloader&&this.props.bootloader.listAttachment?this.props.bootloader.listAttachment(a):b("Bootloader").loadModules(["ReactComposerListAttachmentContainer.react","ReactComposerListPostButtonContainer.react"],a,"ReactComposerListLazyAttachment.react")},getBootstrapURI:function(){return b("ActorURI").create(b("XReactComposerListAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});e.exports=c}),null);
__d("ReactComposerSproutsSelector.react",["cx","React","ReactComposerAttachmentSelectorContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("span",{"data-testid":this.props.dataTestID,className:"_sg1"},b("React").createElement(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:this.props.attachmentID,label:this.props.label,icon:this.props.icon,loggingName:this.props.loggingName,alternativeAttachmentIDs:this.props.alternativeAttachmentIDs,onSelected:this.props.onSelected,onAfterSelected:this.props.onAfterSelected}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerLiveVideoAttachmentSelector.react",["fbt","ix","Bootloader","React","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerSproutsSelector.react","fbglyph"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){"use strict";var a=function(){if(!this.props.config||!this.props.contextConfig)return;b("Bootloader").loadModules(["LiveVideoBroadcastUtils"],function(a){a.startPreviewUI(this.props.contextConfig,this.props.config)}.bind(this),"ReactComposerLiveVideoAttachmentSelector.react")}.bind(this);return this.props.sprouts?b("React").createElement(b("ReactComposerSproutsSelector.react"),{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO,loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,icon:h("123206"),label:this.props.label,onAfterSelected:a}):b("React").createElement(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO,label:this.props.label,icon:h("101619"),"data-testid":"live-video-attachment-selector",loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,onAfterSelected:a})};function a(){"use strict";i.apply(this,arguments)}a.propTypes={label:c.node};a.defaultProps={label:g._("Live Video")};e.exports=a}),null);
__d("XReactComposerLiveVideoAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/live_video/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"Int",required:!0}})}),null);
__d("ReactComposerLiveVideoLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerLoadableAttachmentBodyMixin","XReactComposerLiveVideoAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerLiveVideoLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],propTypes:{selected:a.bool},statics:{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO},bootload:function(a){b("Bootloader").loadModules(["ReactComposerLiveVideoAttachmentContainer.react"],a,"ReactComposerLiveVideoLazyAttachment.react")},getBootstrapURI:function(){return b("ActorURI").create(b("XReactComposerLiveVideoAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setInt("target_id",this.context.targetID).getURI(),this.context.actorID)}});e.exports=c}),null);
__d("ReactComposerMediaFilePickerController.react",["fbt","Bootloader","ComposerTargetData","CurrentUser","FileInput.react","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$3=function(event){b("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,b("ReactComposerAttachmentType").MEDIA),b("Bootloader").loadModules(["ReactComposerLoggingActions"],function(a){a.mediaUploadInputClicked(this.context.composerID,this.props.loggingName)}.bind(this),"ReactComposerMediaFilePickerController.react"),this.props.onClick&&this.props.onClick(event)}.bind(this),this.$2=function(event){__p&&__p();event.persist&&event.persist();var a=this.refs.fileInput.getFileInput();if(!this.$4(a.input.files)){b("Bootloader").loadModules(["Dialog"],function(c){var d=g._("Invalid file type"),e;a.input.files.length&&a.input.files[0].type?e=g._("{file type} is not allowed, please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:",[g._param("file type",a.input.files[0].type)]):e=g._("The file you selected is not allowed, please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:");var f;b("CurrentUser").isWorkUser()?f=new(b("URI"))().setProtocol("https").setDomain(document.location.hostname).setPath("/help/work/885144448260143").toString():f="https://www.facebook.com/help/218673814818907";var h=g._("What video file formats can I upload?");h=typeof h==="string"?h.replace(/\"/g,"&#39;"):"";h='<a href="'+f+'" title="'+h+'" target="_blank">'+f+"</a>";new c().setTitle(d).setButtons(c.OK).setBody(e.toString()+" "+h).setSemiModal(!0).show()},"ReactComposerMediaFilePickerController.react");this.props.onFilesSelected&&this.props.onFilesSelected(!1);return}b("Bootloader").loadModules(["ReactComposerPhotoUploader","ReactComposerMediaUtils","ReactComposerLoggingActions"],function(c,d,e){var f=d.handleSpecialMediaUpload(event,a,this.props.mediaConfig,this.context);this.props.onFilesSelected&&this.props.onFilesSelected(f);if(!f){c=new c(this.context,this.props.photoLimit,{disableFaceRecognition:this.props.disableFaceRecognition});!b("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,b("ReactComposerAttachmentType").MEDIA)&&!b("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,b("ReactComposerAttachmentType").TASK)&&b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").MEDIA,!0,this.props.loggingName);d.uploadPhotosOrVideoFromTarget(this.context.composerID,event.target,c,this.props.targetData.targetSupportsMultiplePhotos,this.props.targetData.targetSupportsMultiMedia)}e.mediaUploadInputDone(this.context.composerID,this.props.loggingName);d.clearInput(a,!f)}.bind(this),"ReactComposerMediaFilePickerController.react")}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("FileInput.react"),{accept:this.$1(),containerClassName:this.props.containerClassName,multiple:this.props.targetData.targetSupportsMultiplePhotos,name:"composer_photo[]",display:this.props.display,onChange:this.$2,onClick:this.$3,ref:"fileInput",role:"button",tabIndex:"0","data-testid":this.props.webDriverTestID},this.props.children)};a.prototype.$1=function(){if(this.props.mediaAcceptParam)if(this.props.mediaType=="VIDEO")return this.props.mediaAcceptParam.videos;else if(this.props.mediaType=="PHOTO")return this.props.mediaAcceptParam.photos;else return this.props.mediaAcceptParam.both;return null};a.prototype.$4=function(a){if(!(this.props.mediaAcceptParam&&this.props.mediaAcceptParam.both))return!0;var b=this.props.mediaAcceptParam.both.replace(/,\s*/g,"|").replace(/\*/g,".*");b="^("+b+")$";b=new RegExp(b,"i");for(var c=0;c<a.length;++c)if(a[c].type&&!b.test(a[c].type))return!1;return!0};a.defaultProps={disableFaceRecognition:!1,display:"inline"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerVerticalsConstants",["fbt","MarketplaceWWWAutosGating","MarketplaceWWWRentalsGating"],(function(a,b,c,d,e,f,g){a={AUTOS:{categoryIds:["807311116002614","1558493264400524"],categoryText:"Cars, Trucks & Motorcycles",verticalName:"AUTOS",gk:b("MarketplaceWWWAutosGating").canSeeStructuredAutoComposer()},REAL_ESTATE:{categoryIds:["1468271819871448"],categoryText:g._("Property Rentals"),verticalName:"REAL_ESTATE",gk:b("MarketplaceWWWRentalsGating").canSeeStructuredRealEstateComposer()}};c={807311116002614:"AUTOS",1558493264400524:"AUTOS",1468271819871448:"REAL_ESTATE"};e.exports={VerticalConfigs:a,categoryIdToCategory:c}}),null);
__d("ReactComposerStatusAttachmentMentionsInput.react",["cx","Arbiter","MentionsInput.react","React","ReactComponentWithPureRenderMixin","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerInit","ReactComposerTaggerType","SubscriptionsHandler","TextDelightInComposerController","TextDelightSurface","XUITypeaheadView.react","addEmojiInput","ifRequired","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("TextDelightInComposerController").addTextDelightInput;c=b("React").PropTypes;var h;a?h=b("addEmojiInput")(a(b("MentionsInput.react"),b("TextDelightSurface").POST)):h=b("addEmojiInput")(b("MentionsInput.react"));d=b("React").createClass({displayName:"ReactComposerStatusAttachmentMentionsInput",_subscriptions:undefined,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{config:b("ReactComposerConfig"),mentionsSource:c.object,preventFocus:c.bool,typeaheadReporter:c.object,onChange:c.func,onFocus:c.func,onPasteFiles:c.func},componentWillUnmount:function(){this.props.onBlur&&this.props.onBlur(this.props.editorState),this._subscriptions&&this._subscriptions.release()},UNSAFE_componentWillMount:function(){var a=new(b("SubscriptionsHandler"))();this.props.preventFocus||a.addSubscriptions(b("Arbiter").subscribe([b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID],function(){return this.focus()}.bind(this)));this._subscriptions=a},componentDidCatch:function(a,b){},render:function(){var a=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[b("ReactComposerTaggerType").PEOPLE],c=a&&a.typeaheadView?a.typeaheadView:b("XUITypeaheadView.react");a=a&&a.typeaheadViewProps?a.typeaheadViewProps:{};c=Object.assign({},{ariaMultiline:!0,role:"textbox",typeaheadView:c,typeaheadViewProps:a,selectOnTab:!1,spellCheck:!0},this.props,{className:b("joinClasses")("_1mwp navigationFocus",this.props.className),editorState:this.props.editorState,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return b("React").createElement(h,babelHelpers["extends"]({ref:"mentionsInput"},c,{webDriverTestID:"status-attachment-mentions-input"}))},focus:function(){!b("ReactComposerInit").isInstanceMounted(this.context.composerID)?b("Arbiter").subscribeOnce([b("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID],function(){return this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()}.bind(this)):this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},blur:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},_onAddMention:function(a,c,d){var e=this.props.typeaheadReporter;e&&(e.reportSelect(a.getUniqueID(),a.getType(),c,d.button>=0),e.sessionEnd(),e.sessionStart());a.getType()==="event"&&b("ifRequired")("ReactComposerEventAttachmentActions",function(b){return b.fetchEventAttachment(this.context.composerID,a.getUniqueID())}.bind(this))},_onShowMentions:function(a,b){b=this.props.typeaheadReporter;b&&b.reportResults(a.map(function(a){return a.getUniqueID()}))},_onFocus:function(){var a=this.props.typeaheadReporter;a&&a.sessionStart();this.props.onFocus&&this.props.onFocus()},_onChange:function(a){this.props.onChange&&this.props.onChange(a)},_onBlur:function(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd(),this.props.onBlur&&this.props.onBlur(this.props.editorState)}});e.exports=d}),null);
__d("ReactComposerHandleUnsavedChanges",["fbt","ComposerEntryPointRef","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerInit","ReactComposerLoggingActions","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingStore","ReactComposerPhotoStore","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerVideoUploadStore","Run","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h={customChecks:new Map(),handler:function(c,d){__p&&__p();var e=b("URI").getMostRecentURI(),f=b("URI").getNextURI(),g=Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&!Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater")&&d.toString()===f.toString(),i=d.toString()===e.toString()&&!Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater");e=Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater")&&e.toString()!==f.toString();(i||g||e)&&b("Run").onAfterLoad(function(){return b("Run").onBeforeUnload(function(){return h.handler(c,d)})});if(i||g||e||b("ReactComposerStore").hasPostSucceeded(c)||b("ReactComposerStore").isPublishing(c))return null;f=h.hasUnsavedChanges(c);if(f&&!(a.Dialog&&a.Dialog.getCurrent())){b("ReactComposerLoggingActions").composerNavigateAwayAttempt(c);return h.getUnsavedChangesMessage(c)}else return null},addCustomCheck:function(a,b){var c=[];h.customChecks.has(a)&&(c=h.customChecks.get(a));c&&(c.push(b),h.customChecks.set(a,c))},hasUnsavedChanges:function(a){__p&&__p();var c;if(!b("ReactComposerInit").isInstanceMounted(a))return!1;if(((c=b("ReactComposerInit").instances.get(a))!=null?(c=c.props)!=null?(c=c.contextConfig)!=null?c.composerType:c:c:c)===b("ComposerEntryPointRef").FEED_SPROUTS_DIALOG)return!1;c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MEDIA);var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIVE_BROADCAST),e=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").VISUAL_POLL),f=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MLE),g=b("ReactComposerStatusStore").getTextLength(a)>0,i=c&&(b("ReactComposerMediaUploadStore").isUploading(a)||b("ReactComposerPhotoStore").isRecognizing(a)||b("ReactComposerPhotoStore").getPhotos(a).size>0);c=c&&(b("ReactComposerVideoUploadStore").isUploading(a)||b("ReactComposerVideoUploadStore").getVideo(a));var j=!b("ReactComposerTaggerStore").areAllTaggersEmpty(a),k=b("ReactComposerScrapedAttachmentStore").hasAttachment(a);a=h.customChecks.get(a);var l=!1;if(a)for(var a=a,m=Array.isArray(a),n=0,a=m?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=a.length)break;o=a[n++]}else{n=a.next();if(n.done)break;o=n.value}o=o;l=l||o()}o=g||i||c||j||k||d||e||l||f;return!!o},getUnsavedChangesMessage:function(a){if(b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(a))return g._("Your post is still uploading. Do you want to leave without finishing the upload?");a=b("ReactComposerStore").getRef(a);switch(a){case b("ComposerEntryPointRef").EDIT_DIALOG:return g._("Are you sure you want to discard your changes?");default:return g._("You haven't finished your post yet. Do you want to leave without finishing?")}}};e.exports=h}),null);
__d("ReactComposerStatusAttachmentMentionsInputVariant.react",["cssVar","cx","Arbiter","EmojiInputButton.react","Keys","React","ReactComposerActions","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEvents","ReactComposerStatusAttachmentMentionsInput.react","ReactComposerStickerContainer","SubscriptionsHandler","UserAgent_DEPRECATED","emptyFunction","getCampfireKeyBinding","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ReactComposerStickerContainer").ReactComposerStickerComponent,k={CODE:{backgroundColor:"#e9ebee",fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"90%",padding:"1px 4px"}};c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){var b=/^image\//;a=a.filter(function(a){return b.test(a.type)});if(a.length>0&&this.props.onPasteFiles){this.props.onPasteFiles(a);return!0}return!1}.bind(this),this.$3=function(event,a){a=b("UserAgent_DEPRECATED").osx()?event.metaKey:event.ctrlKey;if(event.keyCode===b("Keys").RETURN&&a){this.blur();setTimeout(this.props.onPostIntent,0);return!0}return!1}.bind(this),this.$4=function(){b("ReactComposerActions").expandSprouts(this.props.compositionID)}.bind(this),c}a.prototype.componentDidMount=function(){this.context&&this.context.composerID&&this.props.useRichTextEditor&&b("Arbiter").inform(b("ReactComposerEvents").RICH_TEXT_EDITOR_MOUNTED+this.context.composerID),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Arbiter").subscribe([b("ReactComposerEvents").HIGHLIGHT_TOP_COMPOSER],function(){return this.focus()}.bind(this)))};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.render=function(){__p&&__p();var a=this.props.config&&this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],c=null;if(this.props.useRichTextEditor){var d=a.richTextEditor;c=b("React").createElement(d,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_3w8y _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _n7q":"")),canAttachVideo:!1,canAttachPhoto:!1,canAttachEmbed:!1,customStyleMap:k,onSave:b("emptyFunction"),spellCheck:!0,autoCorrect:!1,handlePastedFiles:this.$2,handleContentReturn:this.$3,keyBindingFn:b("getCampfireKeyBinding"),ref:"mentionsInput"}))}else c=b("React").createElement(b("ReactComposerStatusAttachmentMentionsInput.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,(this.props.isSelectedAttachmentActive?"_1mwq":"")+(this.props.config&&this.props.config.showExpandedComposer?" _4c_p":"")+(a&&a.showProfilePic?" _5bu_":"")+(this.props.isPosting?" _1udp":"")+(this.props.shouldUseLargeText?" _3t-3":"")+(a&&a.largeTextThreshold?" _34nd":"")+" _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _hjn":"")+(this.props.sticker&&this.props.sticker.stickerID&&(this.props.editorState&&this.props.editorState.getCurrentContent().getPlainText().trim().length===0||this.props.shouldUseLargeText)?" _4vlg":"")),ref:"mentionsInput",readOnly:this.props.isPosting,editorState:this.props.editorState,mentionsSource:this.props.mentionsSource,typeaheadReporter:this.props.typeaheadReporter,handlePastedFiles:this.$2,handleContentReturn:this.$3}));d="_3nc-";a="_3nc_";var e="_5zq9";d=b("React").createElement(b("EmojiInputButton.react"),{buttonClassName:d,iconActiveClassName:e,iconClassName:a,onSelect:this.props.onInsertEmoji,onClick:this.$4});e=null;j&&(e=b("React").createElement(j,{sticker:this.props.sticker,composerID:this.props.compositionID}));return b("React").createElement("div",{className:"_3nd0"},e,c,d)};a.prototype.blur=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()};a.prototype.focus=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerFileUtils",["fbt","ExceptionDialog","ReactComposerWorkFileAttachmentUploadContainer"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReactComposerWorkFileAttachmentUploadContainer").module;a={selectFileOrWorkFileModule:function(a,b){return h?b:a},hasExceededFileSize:function(a,c){c===void 0&&(c=Infinity);a=a.size>c;a&&b("ExceptionDialog").show(g._("File Too Large").toString(),g._("The file you uploaded is too large.").toString());return a}};e.exports=a}),null);
__d("ReactComposerScrapedAttachmentActions",["ReactComposerDispatcher","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerScrapedAttachmentStore");a.prototype.enabled=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED,enabled:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setScrapedAttachment=function(a,c,d,e,f,g,h){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:c,attachmentConfig:d,sourceLoggingName:e,postConfirmationDialog:f,hasDisputedWarning:g,breakingNewsConfig:h};b("ReactComposerDispatcher").dispatch(a)};a.prototype.clearScrapedAttachment=function(a){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_CLEARED};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setScrapedAttachmentWithoutLogging=function(a,c,d,e,f){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:c,attachmentConfig:d,suppressWaterfallLogging:!0,postConfirmationDialog:e,hasDisputedWarning:f};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setPermissiveMatch=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.scrapeAttachment=function(a,c,d,e,f,g){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED,targetID:c,value:d,entryPoint:e,actorID:f,sourceLoggingName:g};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setShareAttachment=function(a,c,d,e,f,g){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED,targetID:c,actorID:d,shareType:e,shareParams:f,isFbPhotoShare:g};b("ReactComposerDispatcher").dispatch(a)};a.prototype.uploadImagesForCarousel=function(a){"use strict";a={composerID:a.composerID,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD,targetID:a.targetID,scrapeUrl:a.scrapeUrl,carouselParams:a.carouselParams,entryPoint:a.entryPoint,actorID:a.actorID};b("ReactComposerDispatcher").dispatch(a)};a.prototype.linkTitleEdited=function(a,c,d){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_TITLE_EDITED,index:c,value:d};b("ReactComposerDispatcher").dispatch(a)};a.prototype.linkDescriptionEdited=function(a,c,d){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_DESCRIPTION_EDITED,index:c,value:d};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setNoImagePreviewEdit=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_IMAGE_DESELECTED,index:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setBreakingConfig=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_BREAKING_CONFIG_SET,breakingNewsConfig:c};b("ReactComposerDispatcher").dispatch(a)};function a(){"use strict"}e.exports=new a()}),null);
__d("ReactComposerStatusUtils",["Bootloader","PUWMethods","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerFileActions","ReactComposerFileUtils","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerWorkFileActions","URLMatcher","URLScraper","uniqueID"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ReactComposerWorkFileActions").module,h={scrapeLink:function(a,c,d,e,f,g){__p&&__p();if(!b("ReactComposerScrapedAttachmentStore").isEnabled(a))return;if(b("ReactComposerScrapedAttachmentStore").getMarkup(a))return;var i=b("URLMatcher").permissiveMatch(d);if(i!==b("ReactComposerScrapedAttachmentStore").getPermissiveMatch(a)){b("ReactComposerScrapedAttachmentActions").setPermissiveMatch(a,i);d=h.validateUrl(b("URLScraper").match(d)||i);d&&b("ReactComposerScrapedAttachmentActions").scrapeAttachment(a,c,d,e,f,g)}},uploadPastedFile:function(a,c,d){b("ReactComposerLoggingActions").mediaFilePasted(a),c.uploadID=b("uniqueID")(),c.name="",d&&d.enqueueAsyncUploadRequest(a,[c],{},{},!1),b("ReactComposerLoggingActions").mediaFilePasteFinished(a)},uploadDroppedMedia:function(a,c,d,e,f,g){b("ReactComposerLoggingActions").mediaFileDropped(a),b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,b("ReactComposerLoggingName").MEDIA_FILE_DROPPED),b("Bootloader").loadModules(["ReactComposerMediaUtils"],function(h){var i=h.getFileNames(c);i=h.hasVideos(i);f.enableVideoUploadDialogForDropppedFiles&&c.length==1&&i?h.handleVideoUploadForDroppedFiles(c,f,g):h.uploadPhotosOrVideo(a,c,d,!0,b("PUWMethods").DRAGDROP,e);b("ReactComposerLoggingActions").mediaFileDropFinished(a)},"ReactComposerStatusUtils")},loadDroppedFile:function(a,c){/\.(glb)$/i.test(c.name)?(b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").ASSET_3D,b("ReactComposerTaggerType").ASSET_3D,{file:c}),b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").STATUS,!0,b("ReactComposerLoggingName").FILE_DROPPED)):(b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").FILE,!0,b("ReactComposerLoggingName").FILE_DROPPED),b("ReactComposerFileUtils").selectFileOrWorkFileModule(b("ReactComposerFileActions"),g).saveFile(a,{file:c,name:c.name}))},handleMarkdownPreview:function(a,c,d,e){if(!d)return;d=d.action;e||(e=b("ReactComposerStatusStore").getEditorState(a));if(!e)return;var f=!!b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").MARKDOWN).isMarkdown;f&&d.updatePreview(a,c,e.getCurrentContent())},validateUrl:function(a){if(!a||a=="about:blank"||a=="http://"||h.validateUrlHasNoHostnameOrIp(a))return null;else return a},validateUrlHasNoHostnameOrIp:function(a){if(a.indexOf(".")>=0)return!1;return a.indexOf("[")>=0&&a.indexOf("]")>=0&&a.indexOf(":")>=0?!1:!0}};e.exports=h}),null);
__d("ReactComposerStatusAttachmentMentionsInputContainer.react",["Arbiter","EditorState","LitestandStoryInsertionStatus","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerHandleUnsavedChanges","ReactComposerInputDecorator","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerOptimisticPostingActions","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputVariant.react","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","TextDelightEvents","TextDelightInComposerController","TextDelightSurface","UnicodeUtils","addEmojiToEditorState","getReactComposerEmojiInputDecorator","ifRequired"],(function(a,b,c,d,e,f){__p&&__p();var g=b("TextDelightInComposerController").matcher;a=b("React").PropTypes;var h=function(a,c){var d=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(d===b("ReactComposerAttachmentType").LIVE_VIDEO||d===b("ReactComposerAttachmentType").SELL)return!1;d=c&&c.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];c=b("ReactComposerTaggerStore").hasMarkdown(a);return!!(d&&d.richTextEditor&&!c)};c=b("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputContainer",_rerenderSubscription:undefined,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerMinutiaeAttachmentStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerStatusStore"),b("ReactComposerStore"),b("ReactComposerTaggerStore"))],propTypes:{config:b("ReactComposerConfig"),mentionsEnabled:a.bool,mentionsSource:a.object,onChange:a.func,onFocus:a.func,onPasteFiles:a.func,handlePastedText:a.func},getDefaultProps:function(){return{mentionsEnabled:!0}},getInitialState:function(){return{isFocused:!1}},statics:{calculateState:function(a,c){__p&&__p();var d=b("ReactComposerStatusStore").getEditorState(a),e=c.config&&c.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],f=!1,g=b("ReactComposerStatusStore").getTextLength(a),i=b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a),j=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a),k=h(a,c.config),l=b("ReactComposerInputDecorator").NONE;c.mentionsEnabled&&(l=e&&e.richTextEditor?b("ReactComposerInputDecorator").RICH_TEXT:b("ReactComposerInputDecorator").MENTIONS);if(e&&e.largeTextThreshold&&b("ReactComposerMediaUploadStore").getUploadsCount(a)===0&&!b("ReactComposerScrapedAttachmentStore").hasAttachment(a)&&!b("ReactComposerTaggerStore").hasExplicitLocation(a)&&!b("ReactComposerTaggerStore").hasMarkdown(a)&&b("ReactComposerMinutiaeAttachmentStore").getMarkup(a)===null&&j!==b("ReactComposerAttachmentType").FIND_PLAYERS&&j!==b("ReactComposerAttachmentType").SELL&&j!==b("ReactComposerAttachmentType").IG_PHOTO_REMINDER){if(!g&&d){j=d.getCurrentContent();g=b("UnicodeUtils").strlen(j.getPlainText())}j=c.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].placeholderText;(j&&j.length<=e.LargePlaceholderTextThreshold&&g===0&&i||g!==0&&g<=e.largeTextThreshold)&&(f=!0);b("ifRequired")("ReactComposerFormattedTextStore",function(d){d=d.getSelectedIndex(a);d>-1&&(f=!0,l=c.mentionsEnabled?b("ReactComposerInputDecorator").MENTIONS:b("ReactComposerInputDecorator").NONE,k=!1)})}j=b("getReactComposerEmojiInputDecorator")(l,f&&!k?28:16);d?d.getDecorator()!==j?(i=b("EditorState").set(d,{decorator:j}),b("ReactComposerStatusActions").setEditorState(a,i)):i=d:(i=b("EditorState").createEmpty(j),b("ReactComposerStatusActions").setEditorState(a,i));return{activeEditorState:b("ReactComposerStatusStore").getActiveEditorState(a),editorState:i,isSelectedAttachmentActive:b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a),mentionsSource:c.mentionsEnabled?b("ReactComposerStatusStore").getMentionsSource(a):null,posting:b("ReactComposerStore").isPosting(a),typeaheadReporter:b("ReactComposerStatusStore").getTypeaheadReporter(a),shouldUseLargeText:f,selectedSticker:b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").STICKER),useRichText:k}}},UNSAFE_componentWillMount:function(){this.props.mentionsSource&&b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.props.mentionsSource),this._storyInsertionBlocker=b("LitestandStoryInsertionStatus").registerBlocker(function(){return b("ReactComposerHandleUnsavedChanges").hasUnsavedChanges(this.context.composerID)||this.state.isFocused}.bind(this))},componentDidMount:function(){var a=b("ReactComposerStatusStore").getEditorState(this.context.composerID);this.state.editorState!==a&&(this._pendingEditorStateUpdateFromMount=a,this.setState({editorState:a},function(){this._pendingEditorStateUpdateFromMount=undefined}.bind(this)));this._rerenderSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").RERENDER_MENTION_INPUT+this.context.composerID,function(){this.setState({editorState:b("ReactComposerStatusStore").getEditorState(this.context.composerID)})}.bind(this));b("TextDelightEvents").bootloadTextDelightsController("post")},UNSAFE_componentWillReceiveProps:function(a){this.props.mentionsSource!==a.mentionsSource&&b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,a.mentionsSource);if(a.editorState===null){a=b("EditorState").createEmpty(b("getReactComposerEmojiInputDecorator")(b("ReactComposerInputDecorator").MENTIONS));b("ReactComposerStatusActions").setEditorState(this.context.composerID,a);this.setState({editorState:a})}},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null,this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe(),this._storyInsertionBlocker=null,this._rerenderSubscription&&this._rerenderSubscription.unsubscribe()},render:function(){return b("React").createElement(b("ReactComposerStatusAttachmentMentionsInputVariant.react"),babelHelpers["extends"]({},this.props,{activeEditorState:this.state.activeEditorState,compositionID:this.context.composerID,delightFunnelID:this.context.composerID,editorState:this.state.editorState,isSelectedAttachmentActive:this.state.isSelectedAttachmentActive,isPosting:this.state.posting,mentionsSource:this.state.mentionsSource,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onInsertEmoji:this._onInsertEmoji,onPostIntent:this._onPostIntent,ownerID:this.context.actorID,ref:"mentionsInput",shouldUseLargeText:this.state.shouldUseLargeText,typeaheadReporter:this.state.typeaheadReporter,useRichTextEditor:this.state.useRichText,sticker:this.state.selectedSticker}))},focus:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus(),this._pendingEditorStateUpdateFromMount!==undefined&&this.setState({editorState:this._pendingEditorStateUpdateFromMount},function(){return this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()}.bind(this))},_onFocus:function(){b("Arbiter").inform(b("ReactComposerEvents").MENTION_INPUT_FOCUS+this.context.composerID),this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus()},_onChange:function(a){__p&&__p();if(this._pendingEditorStateUpdateFromMount!==undefined)return;var c=0;if(a){g&&(a=g.applyTextDelightEntity(a,b("ReactComposerStatusStore").getEditorState(this.context.composerID),this.context.composerID,b("TextDelightSurface").POST));var d=a.getCurrentContent();c=d?b("UnicodeUtils").strlen(d.getPlainText()):0;b("ReactComposerStatusStore").getEditorState(this.context.composerID)!==a&&(b("ReactComposerStatusActions").setEditorState(this.context.composerID,a),b("ReactComposerStatusActions").setTextLength(this.context.composerID,c),d&&b("TextDelightEvents").emitScrapablePost(d.getPlainText()))}this._handleMarkdownChange(a);this.props.onChange&&this.props.onChange(a);this.setState({editorState:a})},_onInsertEmoji:function(a){var c=b("ReactComposerStatusStore").getActiveEditorState(this.context.composerID),d=b("ReactComposerStatusStore").getActiveLanguageDialect(this.context.composerID);b("addEmojiToEditorState")(a,c,d==null?this._onChange:this._onMultilingualEditorChange)},_onMultilingualEditorChange:function(a){var c=this.context.composerID,d=b("ReactComposerStatusStore").getActiveEditorState(c),e=b("ReactComposerStatusStore").getActiveLanguageDialect(c);d!==a&&b("ifRequired")("ReactComposerMultilingualStatusActions",function(b){b.setEditorState(c,e,a)})},_handleMarkdownChange:function(a){var c=this.props.config?this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS]:null;b("ReactComposerStatusUtils").handleMarkdownPreview(this.context.composerID,this.context.targetID,c?c.markdownPreviewAttachment:null,a)},_onBlur:function(a){b("ReactComposerStatusActions").setEditorState(this.context.composerID,a),this.setState({isFocused:!1})},_onPostIntent:function(){this.context.gks.optimisticPosting?b("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,b("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID):b("ReactComposerActions").postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID})}});e.exports=c}),null);
__d("ReactComposerStatusMentionsUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getMentionsFromEditorState:function(a){__p&&__p();var b=a.getCurrentContent(),c={};b.getBlockMap().forEach(function(a){__p&&__p();var d=a.getText();a.findEntityRanges(function(){return!0},function(e,f){var g=a.getEntityAt(e);if(!g)return;g=b.getEntity(g);if(g.getType()!=="MENTION"||g.getData().type!=="user")return;var h=g.getData().id;c[h]={type:"user",uid:h,text:d.slice(e,f),isWeak:g.getData().isWeak}})});return c}};e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputContainer.react","ReactComposerStatusMentionsUtils","joinClasses"],(function(a,b,c,d,e,f,g){a=b("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputWithTagExpansionContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],render:function(){var a=b("joinClasses")(this.props.className,"_395");return b("React").createElement(b("ReactComposerStatusAttachmentMentionsInputContainer.react"),babelHelpers["extends"]({},this.props,{className:a,onChange:this._onChange,ref:"mentionsInput"}))},focus:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},insertEmoji:function(a){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.insertEmoji(a)},_onChange:function(a){b("ReactComposerStatusActions").setMentions(this.context.composerID,b("ReactComposerStatusMentionsUtils").getMentionsFromEditorState(a)),this.props.onChange&&this.props.onChange(a)}});e.exports=a}),null);
__d("ReactComposerFormattedTextActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({SET_CATEGORIZED_TEXT_FORMATS:null,SET_TEXT_FORMATS:null,SET_SELECTED_INDEX:null,SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:null,SET_SELECTED_INDEX_IN_CATEGORY:null,SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:null,SET_SHOULD_FADE_IN_PICKER:null,TOGGLE_COLLAPSED:null,TOGGLE_TRAY_SHOWN:null},"ReactComposerFormattedTextActionType")}),null);
__d("ReactComposerFormattedTextStore",["ReactComposerFormattedTextActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){__p&&__p();g.constructor.call(this,function(){return{categorizedTextFormats:null,formattedTextPickerCollapsed:!1,prevSelectedCategory:null,selectedCategory:null,selectedIndex:-1,prevSelectedIndex:-1,shouldAutoOpenWhenUserStartsTyping:!1,shouldFadeInPicker:!1,textFormats:null}},function(a){__p&&__p();switch(a.type){case b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore1(a);break;case b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore2(a);break;case b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_IN_CATEGORY:this&&this.$ReactComposerFormattedTextStore3(a);break;case b("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:this&&this.$ReactComposerFormattedTextStore4(a);break;case b("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER:this&&this.$ReactComposerFormattedTextStore5(a);break;case b("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS:this&&this.$ReactComposerFormattedTextStore6(a);break;case b("ReactComposerFormattedTextActionType").SET_CATEGORIZED_TEXT_FORMATS:this&&this.$ReactComposerFormattedTextStore7(a);break;case b("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED:this&&this.$ReactComposerFormattedTextStore8(a);break}}.bind(this))}a.prototype.getTrackingString=function(a){var b=this.getSelectedCategory(a),c=this.getSelectedIndex(a),d=this.getPrevSelectedIndex(a),e;if(b!=null){b=this.$ReactComposerFormattedTextStore9(b,this.getComposerData(a).categorizedTextFormats);e=this.$ReactComposerFormattedTextStore10(c,b);e===null&&(e=this.$ReactComposerFormattedTextStore10(d,b))}else e=this.$ReactComposerFormattedTextStore10(c,this.getComposerData(a).textFormats),e===null&&(e=this.$ReactComposerFormattedTextStore10(d,this.getComposerData(a).textFormats));return e!=null?e.trackingString:null};a.prototype.getTextFormatPresetID=function(a){return this.getComposerData(a).textFormatPresetID};a.prototype.getPrevSelectedTextFormatPresetID=function(a){var b=this.getPrevSelectedCategory(a);return b!=null?this.$ReactComposerFormattedTextStore11(this.getPrevSelectedIndex(a),b,this.getComposerData(a).categorizedTextFormats):this.$ReactComposerFormattedTextStore12(this.getPrevSelectedIndex(a),this.getComposerData(a).textFormats)};a.prototype.getBackgroundColorIsActive=function(a){return this.getComposerData(a).selectedIndex>-1};a.prototype.getSelectedCategory=function(a){return this.getComposerData(a).selectedCategory};a.prototype.getSelectedIndex=function(a){return this.getComposerData(a).selectedIndex};a.prototype.getPrevSelectedIndex=function(a){return this.getComposerData(a).prevSelectedIndex};a.prototype.getPrevSelectedCategory=function(a){return this.getComposerData(a).prevSelectedCategory};a.prototype.getShouldAutoOpenWhenUserStartsTyping=function(a){return this.getComposerData(a).shouldAutoOpenWhenUserStartsTyping};a.prototype.getShouldFadeInPicker=function(a){return this.getComposerData(a).shouldFadeInPicker};a.prototype.getCollapsed=function(a){return this.getComposerData(a).formattedTextPickerCollapsed};a.prototype.$ReactComposerFormattedTextStore1=function(a){__p&&__p();a=this.validateAction(a,["composerID","selectedIndex"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textFormatPresetID=this.$ReactComposerFormattedTextStore12(a,c.textFormats);c.selectedCategory=null;c.prevSelectedCategory=null;c.selectedIndex=a;c.prevSelectedIndex=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore2=function(a){a=this.validateAction(a,["composerID","selectedIndex"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textFormatPresetID=this.$ReactComposerFormattedTextStore12(a,c.textFormats);c.selectedIndex=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore3=function(a){__p&&__p();a=this.validateAction(a,["composerID","selectedIndex","selectedCategory"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.textFormatPresetID=this.$ReactComposerFormattedTextStore11(c,a,d.categorizedTextFormats);d.selectedIndex=c;d.selectedCategory=a;d.prevSelectedIndex=c;d.prevSelectedCategory=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore4=function(a){a=this.validateAction(a,["composerID","shouldAutoOpenWhenUserStartsTyping"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.shouldAutoOpenWhenUserStartsTyping=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore5=function(a){a=this.validateAction(a,["composerID","shouldFadeInPicker"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.shouldFadeInPicker=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore6=function(a){a=this.validateAction(a,["composerID","textFormats"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textFormats=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore7=function(a){a=this.validateAction(a,["composerID","categorizedTextFormats"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.categorizedTextFormats=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore8=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.formattedTextPickerCollapsed=!b.formattedTextPickerCollapsed;this.emitChange(a)};a.prototype.$ReactComposerFormattedTextStore12=function(a,b){a=this.$ReactComposerFormattedTextStore10(a,b);return a&&a.presetID?a.presetID:null};a.prototype.$ReactComposerFormattedTextStore11=function(a,b,c){b=this.$ReactComposerFormattedTextStore9(b,c);c=this.$ReactComposerFormattedTextStore10(a,b);return c&&Object.prototype.hasOwnProperty.call(c,"presetID")?c.presetID:null};a.prototype.$ReactComposerFormattedTextStore9=function(a,b){if(a==null||b==null)return null;for(var c=0;c<b.length;c++)if(b[c].categoryName===a)return b[c].textFormats;return null};a.prototype.$ReactComposerFormattedTextStore10=function(a,b){return a!=null&&a!==-1&&b&&Object.prototype.hasOwnProperty.call(b,a)?b[a]:null};e.exports=new a()}),null);
__d("ReactComposerFormattedTextActions",["ReactComposerDispatcher","ReactComposerFormattedTextActionType","ReactComposerFormattedTextStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("ReactComposerFormattedTextStore");a.prototype.setSelectedIndex=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX,selectedIndex:c})};a.prototype.setSelectedIndexButNotPrevSelectedIndex=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX,selectedIndex:c})};a.prototype.setSelectedIndexInCategory=function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_IN_CATEGORY,selectedCategory:c,selectedIndex:d})};a.prototype.setShouldAutoOpenWhenUserStartsTyping=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING,shouldAutoOpenWhenUserStartsTyping:c})};a.prototype.setShouldFadeInPicker=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER,shouldFadeInPicker:c})};a.prototype.setTextFormats=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS,textFormats:c})};a.prototype.setCategorizedTextFormats=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_CATEGORIZED_TEXT_FORMATS,categorizedTextFormats:c})};a.prototype.toggleCollapsed=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED})};function a(){}e.exports=new a()}),null);
__d("ReactComposerMarkdownActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({ENABLE_MARKDOWN:null,DISABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},"ReactComposerMarkdownActionType")}),null);
__d("ReactComposerMarkdownStore",["ReactComposerMarkdownActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=Object.freeze({UNKNOWN:0,CHECKING:1,ENABLED:2,DISABLED:3});c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){__p&&__p();var a;g.constructor.call(this,function(){return{state:h.UNKNOWN}},function(c){switch(c.type){case b("ReactComposerMarkdownActionType").SHOW_INTERCEPT:a&&a.$ReactComposerMarkdownStore1(c);break;case b("ReactComposerMarkdownActionType").HIDE_INTERCEPT:a&&a.$ReactComposerMarkdownStore2(c);break;case b("ReactComposerMarkdownActionType").ENABLE_MARKDOWN:a&&a.$ReactComposerMarkdownStore3(c);break;case b("ReactComposerMarkdownActionType").DISABLE_MARKDOWN:a&&a.$ReactComposerMarkdownStore4(c);break}});a=this}a.prototype.showIntercept=function(a){return this.getComposerData(a).state===h.CHECKING};a.prototype.interceptAttempted=function(a){a=this.getComposerData(a);a=a.state;return a===h.ENABLED||a===h.DISABLED};a.prototype.isMarkdownEnabled=function(a){return this.getComposerData(a).state===h.ENABLED};a.prototype.$ReactComposerMarkdownStore1=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.CHECKING;this.emitChange(a)};a.prototype.$ReactComposerMarkdownStore2=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.UNKNOWN;this.emitChange(a)};a.prototype.$ReactComposerMarkdownStore3=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.ENABLED;this.emitChange(a)};a.prototype.$ReactComposerMarkdownStore4=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.DISABLED;this.emitChange(a)};e.exports=new a()}),null);
__d("ReactComposerMarkdownActions",["ReactComposerDispatcher","ReactComposerMarkdownActionType","ReactComposerMarkdownStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("ReactComposerMarkdownStore");a.prototype.showIntercept=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").SHOW_INTERCEPT})};a.prototype.hideIntercept=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").HIDE_INTERCEPT})};a.prototype.enableMarkdown=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").ENABLE_MARKDOWN})};a.prototype.disableMarkdown=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").DISABLE_MARKDOWN})};function a(){}e.exports=new a()}),null);
__d("XStickyFormattedTextController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sticky_formatted_text/",{preset_id:{type:"Int"},is_set:{type:"Bool",defaultValue:!1}})}),null);
__d("ReactComposerFormattedTextPickerContainerMixin",["invariant","Arbiter","AsyncRequest","ReactComposerAttachmentStore","ReactComposerEventAttachmentStore","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextStore","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerPostToGroupStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerStore","ReactComposerTaggerType","SATPInteractionsTypedLogger","SATPPresetCollection","XStickyFormattedTextController","bind"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!0;a={_prefillSubscription:undefined,_inlinePickerFormatsImpressionsLogged:!1,_trayCategorizedFormatsImpressionsLogged:!1,mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAttachmentStore"),b("ReactComposerEventAttachmentStore"),b("ReactComposerFormattedTextStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerMinutiaeAttachmentStore"),b("ReactComposerPostToGroupStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerStatusStore"),b("ReactComposerStore"),b("ReactComposerTaggerStore"))],statics:{beforeCalculateInitialState:function(a,c,d){__p&&__p();h&&(b("ReactComposerFormattedTextActions").setSelectedIndex(a,c.defaultFormat!=null?c.defaultFormat:b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR),c.shouldAutoOpenWhenUserStartsTyping&&b("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(a,c.shouldAutoOpenWhenUserStartsTyping));if(c.stickyStylesEnabled&&!h){d=b("XStickyFormattedTextController").getURIBuilder().setBool("is_set",!1).getURI();new(b("AsyncRequest"))().setURI(d).setHandler(b("bind")(this,function(d){if(d&&d.payload&&d.payload.index!=null){var e=d.payload.index;e===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&!d.payload.hasUserUnformattedText&&(e=c.defaultFormat!=null?c.defaultFormat:b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR);b("ReactComposerFormattedTextActions").setSelectedIndex(a,e)}})).send()}},calculateState:function(a,c){__p&&__p();var d=b("ReactComposerTaggerEligibilityUtils").isSATPEligible(a,c),e=b("ReactComposerTaggerStore").getSelectedTagger(a)===b("ReactComposerTaggerType").FORMATTED_TEXT_TRAY;if(d){if(!this._inlinePickerFormatsImpressionsLogged&&b("ReactComposerStatusStore").getTextLength(a)>0){this._inlinePickerFormatsImpressionsLogged=!0;for(var f=c.textFormats,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;new(b("SATPInteractionsTypedLogger"))().setTrackingString(i.trackingString).setUserActionString("impression").setPresetID(i.presetID).setRequestedCollection(b("SATPPresetCollection").COMPOSER_TOP).log()}}if(!this._trayCategorizedFormatsImpressionsLogged&&e){this._trayCategorizedFormatsImpressionsLogged=!0;for(var i=c.categorizedTextFormatPresets,h=Array.isArray(i),g=0,i=h?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(g>=i.length)break;f=i[g++]}else{g=i.next();if(g.done)break;f=g.value}f=f;f=f.textFormats;for(var f=f,j=Array.isArray(f),k=0,f=j?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=f.length)break;l=f[k++]}else{k=f.next();if(k.done)break;l=k.value}l=l;new(b("SATPInteractionsTypedLogger"))().setTrackingString(l.trackingString).setUserActionString("impression").setPresetID(l.presetID).setRequestedCollection(b("SATPPresetCollection").COMPOSER_ALL).log()}}}}l=b("ReactComposerTaggerStore").getSelectedTagger(a)===this.taggerID;return{isSelected:l,canUseFormattedText:d,collapsed:b("ReactComposerFormattedTextStore").getCollapsed(a),fadingInPicker:b("ReactComposerFormattedTextStore").getShouldFadeInPicker(a),prevSelectedIndex:b("ReactComposerFormattedTextStore").getPrevSelectedIndex(a),prevSelectedCategory:b("ReactComposerFormattedTextStore").getPrevSelectedCategory(a),selectedCategory:b("ReactComposerFormattedTextStore").getSelectedCategory(a),selectedIndex:b("ReactComposerFormattedTextStore").getSelectedIndex(a),shouldAutoOpenWhenUserStartsTyping:b("ReactComposerFormattedTextStore").getShouldAutoOpenWhenUserStartsTyping(a),shouldDisplay:d&&(c.noSproutDesign||l),taggerData:b("ReactComposerTaggerStore").getTaggerData(a,this.taggerID),taggerSource:b("ReactComposerTaggerStore").getTaggerSource(a,this.taggerID),trayShown:e}}},handleSaveStickyPreset:function(a){if(!this.props.stickyStylesEnabled)return;a=b("XStickyFormattedTextController").getURIBuilder().setString("preset_id",a===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?0:b("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID)).setBool("is_set",!0).getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(a).send()},UNSAFE_componentWillMount:function(){this._prefillSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill),this.constructor.taggerID||g(0)},componentDidMount:function(){h&&(this.props.autoOpen&&setTimeout(function(){b("ReactComposerFormattedTextActions").setShouldFadeInPicker(this.context.composerID,!0),b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===null&&b("ReactComposerTaggerActions").selectTaggerWithoutLogging(this.context.composerID,this.constructor.taggerID)}.bind(this),0),h=!1)},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null},_handlePrefill:function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(this.context.composerID,["taggersData",this.constructor.taggerID]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,a)}};e.exports=a}),null);
__d("ReactComposerFormattedTextPickerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("React").createClass({displayName:"ReactComposerFormattedTextPickerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{taggerID:b("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:b("ReactComposerLoggingName").FORMATTED_TEXT_BUTTON},getTitle:function(){return h._("Add a background color to your post")},getTooltip:function(){return h._("Add a background color to your post")},getClassName:function(){return"_cod"}});e.exports=a}),null);
__d("ReactComposerMediaPrefillConfig",["React"],(function(a,b,c,d,e,f){a=b("React").PropTypes;e.exports=a.shape({photoID:a.string,uploadID:a.string,thumbSrc:a.string,fileURL:a.string,filename:a.string,cubestripURI:a.string,mediaType:a.string})}),null);
__d("ReactComposerPhotoPrefillConfig",["React"],(function(a,b,c,d,e,f){a=b("React").PropTypes;e.exports=a.shape({uploadID:a.string,photoID:a.string,thumbSrc:a.string,cubestripURI:a.string})}),null);
__d("ReactComposerPrefillConfig",["React","ReactComposerAttachmentType","ReactComposerMediaPrefillConfig","ReactComposerPhotoPrefillConfig","ReactComposerTaggerType","getOwnObjectValues"],(function(a,b,c,d,e,f){a=b("React").PropTypes;e.exports=a.shape({mentionsInput:a.shape({textWithEntities:a.shape({text:a.string}),selection:a.object}),selectedAttachment:a.oneOf(b("getOwnObjectValues")(b("ReactComposerAttachmentType"))),shouldActivateSelectedAttachment:a.bool,taggersData:a.object,selectedTagger:a.oneOf(b("getOwnObjectValues")(b("ReactComposerTaggerType"))),mediasData:a.arrayOf(b("ReactComposerMediaPrefillConfig")),photosData:a.arrayOf(b("ReactComposerPhotoPrefillConfig")),attachmentPreviewData:a.shape({scrapedURL:a.string,scrapedAttachment:a.shape({markup:a.object,attachmentConfig:a.object}),minutiaeAttachment:a.shape({markup:a.object})}),composerSellAttachment:a.shape({title:a.string,price:a.string,categoryID:a.string,categoryText:a.string,locationID:a.string,locationText:a.string,uneditablePriceOverride:a.string}),donateConfig:a.shape({charityName:a.string,fundraiserCampaignId:a.string}),liveBroadcastData:a.shape({accessToken:a.string,streamURL:a.string}),topicFeedTags:a.arrayOf(a.string),multilingualData:a.shape({specifiedDialect:a.string,multilingualStatuses:a.arrayOf(a.shape({dialect:a.string,message:a.string}))}),expandSproutsOnInit:a.bool,disableRemovePhotos:a.bool,taskData:a.shape({assigneeID:a.number,assigneeName:a.string,canEditMessage:a.bool.isRequired,composerDomID:a.object.isRequired,description:a.string,dueDate:a.number.isRequired,postID:a.number.isRequired,status:a.string.isRequired,storyDomID:a.string.isRequired,title:a.string.isRequired}),composedText:a.shape({blocks:a.arrayOf(a.object),entities:a.object}),findPlayersAttachment:a.shape({name:a.string,title:a.string,tags:a.string}),groupMeetUpAttachment:a.shape({module:a.func.isRequired,defaultLocationPageName:a.string.isRequired,defaultLocationPageID:a.string.isRequired,locationName:a.string.isRequired,locationPageID:a.string.isRequired,roughTime:a.string.isRequired,dateTimeInfo:a.object.isRequired,locationTimezoneOffset:a.number.isRequired,timezoneLabel:a.string.isRequired})})}),null);
__d("ReactComposerFormattedTextPickerContainer.react",["csx","cx","Arbiter","Bootloader","CSS","DOM","DOMQuery","React","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextPickerContainerMixin","ReactComposerFormattedTextStore","ReactComposerLoggingName","ReactComposerPrefillConfig","ReactComposerTaggerActions","ReactComposerTaggerType","SATPInteractionsTypedLogger","SATPPresetCollection","ge","getElementRect"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerFormattedTextPickerContainer",_composerMountSubscription:undefined,_suppressTransition:!1,_memoizedComposerID:null,_memoizedComposerRoot:null,_memoizedComposerBody:null,_memoizedComposerBodyWidth:null,_memoizedComposerOverlay:null,_memoizedComposerWrapper:null,_memoizedComposerTaggerDiv:null,mixins:[b("ReactComposerFormattedTextPickerContainerMixin")],propTypes:{autoOpen:a.bool,categorizedTextFormatPresets:a.arrayOf(a.object).isRequired,categorizedTrayEnabled:a.bool,defaultFormat:a.number,disableSATPMemoization:a.bool,disableNoBgColor:a.bool,fixAspectRatio:a.bool,hidePicker:a.bool,maxNewlines:a.number,noSproutDesign:a.bool,prefillConfig:b("ReactComposerPrefillConfig"),statusAttachmentActive:a.bool,stickyStylesEnabled:a.bool,textFormats:a.arrayOf(a.object).isRequired,textLengthLimit:a.number},statics:{taggerID:b("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:b("ReactComposerLoggingName").FORMATTED_TEXT_TAGGER},render:function(){this._updateBackground(this.state.selectedIndex,this.state.selectedCategory);return!this.state.shouldDisplay?null:b("React").createElement(b("ReactComposerFormattedTextPickerComponent.react"),{categorizedTextFormatPresets:this.props.categorizedTextFormatPresets,categorizedTrayEnabled:this.props.categorizedTrayEnabled,collapsed:this.state.collapsed,composerBodyWidth:this._getComposerBodyWidth(),disableNoBgColor:this.props.disableNoBgColor,hidden:this.props.hidePicker||this.state.fadingInPicker,noSproutDesign:this.props.noSproutDesign,onSelect:this._onSelect,onSelectInCategorizedFormatTray:this._onSelectInCategorizedFormatTray,onToggle:this._onToggle,onTrayToggle:this._onTrayToggle,selectedCategory:this.state.selectedCategory,selectedIndex:this.state.selectedIndex,selectedTextFormat:this._getSelectedTextFormat(this.state.selectedIndex,this.state.selectedCategory),suppressTransition:this._suppressTransition,textFormats:this.props.textFormats,trayShown:this.state.trayShown})},UNSAFE_componentWillMount:function(){b("ReactComposerTaggerActions").setTaggerConfig(this.context.composerID,this.taggerID,{maxNewlines:this.props.maxNewlines,textLengthLimit:this.props.textLengthLimit}),this._composerMountSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID,function(){this._memoizedComposerID=null,this._memoizedComposerRoot=null,this._memoizedComposerBody=null,this._memoizedComposerBodyWidth=null,this._memoizedComposerOverlay=null,this._memoizedComposerWrapper=null,this._memoizedComposerTaggerDiv=null}.bind(this))},componentWillUnmount:function(){this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&this._updateBackground(b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR,this.state.selectedCategory),this._composerMountSubscription&&this._composerMountSubscription.unsubscribe(),this._composerMountSubscription=null},componentDidMount:function(){b("ReactComposerFormattedTextActions").setTextFormats(this.context.composerID,this.props.textFormats);b("ReactComposerFormattedTextActions").setCategorizedTextFormats(this.context.composerID,this.props.categorizedTextFormatPresets);if(this.props.noSproutDesign){var a=this._getComposerBody();a&&b("CSS").addClass(a,"_2j7c")}this.props.prefillConfig&&this.props.prefillConfig.taggersData&&this.props.prefillConfig.taggersData[b("ReactComposerTaggerType").FORMATTED_TEXT]&&this.props.prefillConfig.taggersData[b("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormatIndex!==null&&(b("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,this.props.prefillConfig.taggersData[b("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormatIndex),b("Bootloader").loadModules(["ReactComposerFocusActions"],function(a){a.notifyFocusAcquired(this.context.composerID)}.bind(this),"ReactComposerFormattedTextPickerContainer.react"))},UNSAFE_componentWillUpdate:function(a,c){this.state.selectedIndex!==c.selectedIndex&&(this.state.selectedIndex===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR||c.selectedIndex===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)&&(this._suppressTransition=!0),c.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&this.state.selectedIndex!==c.selectedIndex&&this._updateOverlay()},componentDidUpdate:function(a,c){!c.canUseFormattedText&&this.state.canUseFormattedText?this._onBecameEligible():c.canUseFormattedText&&!this.state.canUseFormattedText&&this._onBecameIneligible(),!c.isSelected&&this.state.isSelected?this._onPickerOpened():c.isSelected&&!this.state.isSelected&&this._onPickerClosed(),c.selectedIndex!==this.state.selectedIndex&&this._onSelectedIndexChanged(),c.shouldAutoOpenWhenUserStartsTyping&&this.state.shouldDisplay&&b("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(this.context.composerID,!1),this.state.fadingInPicker&&this.state.shouldDisplay&&b("ReactComposerFormattedTextActions").setShouldFadeInPicker(this.context.composerID,!1)},_onPickerOpened:function(){var a=this._getComposerRoot();a&&b("CSS").removeClass(a,"_10m_");a=this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;this._setShouldHideTaggersDiv(a)},_focusComposerTextInput:function(){b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onPickerClosed:function(){var a=this._getComposerRoot();a&&b("CSS").addClass(a,"_10m_");this._setShouldHideTaggersDiv(!1)},_setShouldHideTaggersDiv:function(a){var c=this._getComposerTaggerDiv();if(!c)return;a?b("CSS").addClass(c,"_10n0"):b("CSS").removeClass(c,"_10n0")},_getComposerRoot:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerRoot&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerRoot;this._memoizedComposerID=this.context.composerID;this._memoizedComposerRoot=b("ge")(this._memoizedComposerID);return this._memoizedComposerRoot},_getComposerBody:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerBody&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerBody;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerBody=this._domScry(a,"._i-o");return this._memoizedComposerBody},_getComposerBodyWidth:function(){__p&&__p();if(!this.props.disableSATPMemoization&&this._memoizedComposerBodyWidth!=null&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerBodyWidth;var a=this._getComposerBody();if(!a)return null;a=b("getElementRect")(a);if(!a)return null;this._memoizedComposerBodyWidth=a.width;return this._memoizedComposerBodyWidth},_getComposerOverlay:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerOverlay&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerOverlay;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerOverlay=this._domScry(a,"._3enz");return this._memoizedComposerOverlay},_getComposerWrapper:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerWrapper&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerWrapper;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerWrapper=this._domScry(a,"._3eny");return this._memoizedComposerWrapper},_getComposerPlaceholder:function(){var a=this._getComposerTextInput();return!a?null:this._domScry(a,"._1p1t")},_getComposerTextInput:function(){var a=this._getComposerBody();return!a?null:this._domScry(a,"._395")},_getComposerTaggerDiv:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerTaggerDiv&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerTaggerDiv;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerTaggerDiv=this._domScry(a,"._1idc");return this._memoizedComposerTaggerDiv},_domScry:function(a,c){a=b("DOMQuery").scry(a,c);return!a||a.length===0?null:a[a.length-1]},_onBecameEligible:function(){this.state.prevSelectedCategory!=null&&this.state.prevSelectedIndex!=null?b("ReactComposerFormattedTextActions").setSelectedIndexInCategory(this.context.composerID,this.state.prevSelectedCategory,this.state.prevSelectedIndex):this.state.prevSelectedIndex!=null&&b("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,this.state.prevSelectedIndex)},_onBecameIneligible:function(){var a=this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;a&&b("ReactComposerFormattedTextActions").setSelectedIndexButNotPrevSelectedIndex(this.context.composerID,b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)},_onSelectedIndexChanged:function(){var a=this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;this.props.noSproutDesign||this._setShouldHideTaggersDiv(a);b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,b("ReactComposerTaggerType").FORMATTED_TEXT,{formatActive:a})},_updateBackground:function(a,c){__p&&__p();var d=this._getComposerRoot();if(!d)return;var e=this._getComposerBody();if(!e)return;var f=this._getComposerOverlay();if(!f)return;var g=this._getComposerWrapper();if(!g)return;c=this._getStyles(a,c);b("DOM").setAttributes(e,{style:c.bodyStyle});a!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?(b("CSS").addClass(d,"_1mjk"),this.props.fixAspectRatio&&b("CSS").addClass(d,"_38ws"),b("CSS").addClass(e,"_2ihx"),b("CSS").addClass(g,"_2ihx"),b("CSS").addClass(f,"_2ihx"),b("CSS").addClass(f,"_4xe1")):(b("CSS").removeClass(d,"_1mjk"),b("CSS").removeClass(e,"_2ihx"),b("CSS").removeClass(g,"_2ihx"),b("CSS").removeClass(f,"_2ihx"),b("CSS").removeClass(f,"_4xe1"));a=this._getComposerTextInput();if(!a)return;b("DOM").setAttributes(a,{style:c.textInputStyle});this._updateTextDelightSpans(a,c);d=this._getComposerPlaceholder();if(!d)return;b("DOM").setAttributes(d,{style:c.textInputColorStyle});c.textInputColorStyle&&(d.style.opacity="0.7")},_updateTextDelightSpans:function(a,c){if(!a)return;var d=b("DOMQuery").scry(a,"._2k9q");d.forEach(function(a){b("DOM").setAttributes(a,{style:c.delightTextStyle})});d=b("DOMQuery").scry(a,"._6854");d.forEach(function(a){b("DOM").setAttributes(a,{style:c.delightButtonStyle})})},_updateOverlay:function(){__p&&__p();var a=this._getComposerRoot();if(!a)return;a=this._getComposerBody();if(!a)return;var c=this._getComposerOverlay();if(!c)return;a=this._getStyles(this.state.selectedIndex,this.state.selectedCategory);b("DOM").setAttributes(c,{style:a.bodyStyle});a=function a(d){b("CSS").removeClass(c,"_1wnq"),b("CSS").addClass(c,"_1wnr"),b("CSS").addClass(c,"_3eo2"),c.removeEventListener("transitionend",a,!1)};b("CSS").removeClass(c,"_3eo2");c.addEventListener("transitionend",a,!1);b("CSS").addClass(c,"_1wnq");b("CSS").removeClass(c,"_1wnr")},_saveStickyPreset:function(a,c){this.handleSaveStickyPreset(a);a=b("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID);var d=b("ReactComposerFormattedTextStore").getTrackingString(this.context.composerID);a&&new(b("SATPInteractionsTypedLogger"))().setTrackingString(d).setUserActionString("style_applied").setPresetID(a).setRequestedCollection(c).log()},_onSelect:function(a){this.state.canUseFormattedText&&(b("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,a),b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID),this._saveStickyPreset(a,b("SATPPresetCollection").COMPOSER_TOP))},_onSelectInCategorizedFormatTray:function(a,c){this.state.canUseFormattedText&&(b("ReactComposerFormattedTextActions").setSelectedIndexInCategory(this.context.composerID,c,a),this._saveStickyPreset(a,b("SATPPresetCollection").COMPOSER_ALL))},_onToggle:function(){b("ReactComposerFormattedTextActions").toggleCollapsed(this.context.composerID),b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onTrayToggle:function(){var a=b("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID),c=b("ReactComposerFormattedTextStore").getTrackingString(this.context.composerID);this.state.trayShown||(a=a!=null?a:"-1",new(b("SATPInteractionsTypedLogger"))().setTrackingString(c).setUserActionString("tray_shown").setPresetID(a).setRequestedCollection(b("SATPPresetCollection").COMPOSER_ALL).log());b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,b("ReactComposerTaggerType").FORMATTED_TEXT_TRAY,!0)},_getSelectedTextFormat:function(a,c){__p&&__p();if(a!=null&&a!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR){var d=null;if(c!=null){for(var e=0;e<this.props.categorizedTextFormatPresets.length;e++)if(this.props.categorizedTextFormatPresets[e].categoryName===c){d=this.props.categorizedTextFormatPresets[e].textFormats;break}}else d=this.props.textFormats;return d&&Object.prototype.hasOwnProperty.call(d,a)?d[a]:null}return null},_getStyles:function(a,b){var c="",d="",e="",f="",g="";a=this._getSelectedTextFormat(a,b);a&&a.bodyStyle&&a.textInputStyle&&(c=a.bodyStyle,d=a.textInputStyle,e=a.textInputColorStyle,f=a.delightTextStyle,g=a.delightButtonStyle);return{bodyStyle:c,textInputStyle:d,textInputColorStyle:e,delightTextStyle:f,delightButtonStyle:g}}});e.exports=c}),null);
__d("ReactComposerTaskActionType",["keyMirror"],(function(a,b,c,d,e,f){e.exports=b("keyMirror")({SET_TITLE:null,SET_ASSIGNEE:null,SET_ASSIGNEE_NAME:null,SET_DESCRIPTION:null,SET_STATUS:null,SET_DUE_DATE:null,SET_TASK_CONFIG:null},"ReactComposerTaskActionType")}),null);
__d("GroupTaskStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN:"OPEN",CLOSED:"CLOSED"})}),null);
__d("ReactComposerTaskStore",["GroupTaskStatus","ReactComposerStoreBase","ReactComposerTaskActionType"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a;g.constructor.call(this,function(){return{task_title:"",task_assignee:null,task_assignee_name:"",task_description:"",task_due_date:null,task_status:b("GroupTaskStatus").OPEN,searchSource:null}},function(c){__p&&__p();switch(c.type){case b("ReactComposerTaskActionType").SET_TITLE:a&&a.$ReactComposerTaskStore1(c);break}switch(c.type){case b("ReactComposerTaskActionType").SET_DESCRIPTION:a&&a.$ReactComposerTaskStore2(c);break}switch(c.type){case b("ReactComposerTaskActionType").SET_DUE_DATE:a&&a.$ReactComposerTaskStore3(c);break}switch(c.type){case b("ReactComposerTaskActionType").SET_STATUS:a&&a.$ReactComposerTaskStore4(c);break}switch(c.type){case b("ReactComposerTaskActionType").SET_ASSIGNEE:a&&a.$ReactComposerTaskStore5(c);break}switch(c.type){case b("ReactComposerTaskActionType").SET_ASSIGNEE_NAME:a&&a.$ReactComposerTaskStore6(c);break}switch(c.type){case b("ReactComposerTaskActionType").SET_TASK_CONFIG:a&&a.$ReactComposerTaskStore7(c);break}});a=this}a.prototype.$ReactComposerTaskStore1=function(a){"use strict";a=this.validateAction(a,["composerID","task_title"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_title=a;this.emitChange(b)};a.prototype.getTitleText=function(a){"use strict";return this.getComposerData(a).task_title};a.prototype.$ReactComposerTaskStore2=function(a){"use strict";a=this.validateAction(a,["composerID","task_description"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_description=a;this.emitChange(b)};a.prototype.$ReactComposerTaskStore7=function(a){"use strict";a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.searchSource=a.searchSource;this.emitChange(b)};a.prototype.getSearchSource=function(a){"use strict";return this.getComposerData(a).searchSource};a.prototype.getDescription=function(a){"use strict";return this.getComposerData(a).task_description};a.prototype.$ReactComposerTaskStore3=function(a){"use strict";a=this.validateAction(a,["composerID","task_due_date"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_due_date=a;this.emitChange(b)};a.prototype.getDueDate=function(a){"use strict";return this.getComposerData(a).task_due_date};a.prototype.$ReactComposerTaskStore4=function(a){"use strict";a=this.validateAction(a,["composerID","task_status"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_status=a;this.emitChange(b)};a.prototype.getStatus=function(a){"use strict";return this.getComposerData(a).task_status};a.prototype.$ReactComposerTaskStore5=function(a){"use strict";a=this.validateAction(a,["composerID","task_assignee"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_assignee=a;this.emitChange(b)};a.prototype.getAssignee=function(a){"use strict";return this.getComposerData(a).task_assignee};a.prototype.$ReactComposerTaskStore6=function(a){"use strict";a=this.validateAction(a,["composerID","task_assignee_name"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_assignee_name=a;this.emitChange(b)};a.prototype.getAssigneeName=function(a){"use strict";return this.getComposerData(a).task_assignee_name};a.prototype.getTaskData=function(a){"use strict";return{task_assignee:this.getAssignee(a),task_description:this.getDescription(a),task_due_date:this.getDueDate(a),task_status:this.getStatus(a),task_title:this.getTitleText(a)}};e.exports=new a()}),null);
__d("ReactComposerTaskActions",["ReactComposerDispatcher","ReactComposerTaskActionType","ReactComposerTaskStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerTaskStore");a.prototype.setTitle=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_TITLE,task_title:c})};a.prototype.setDescription=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_DESCRIPTION,task_description:c})};a.prototype.setStatus=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_STATUS,task_status:c})};a.prototype.setAssignee=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_ASSIGNEE,task_assignee:c?c:null})};a.prototype.setAssigneeName=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_ASSIGNEE_NAME,task_assignee_name:c})};a.prototype.setDueDate=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_DUE_DATE,task_due_date:c})};a.prototype.setConfig=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerTaskActionType").SET_TASK_CONFIG,config:c};b("ReactComposerDispatcher").dispatch(a)};function a(){"use strict"}e.exports=new a()}),null);
__d("ReactComposerPrefillActions",["ReactComposerDispatcher","ReactComposerPrefillActionTypes","ReactComposerPrefillStore"],(function(a,b,c,d,e,f){b("ReactComposerPrefillStore");a={setPrefillData:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerPrefillActionTypes").SET_PREFILL_DATA,prefillConfig:c})}};e.exports=a}),null);
__d("ReactComposerMediaSprout.react",["cx","Arbiter","ComposerEntryPointRef","ExtensibleSproutsItemType","React","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react","ReactComposerSproutBadgePromotionUtils","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerStore","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(event){this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===b("ExtensibleSproutsItemType").MEDIA&&(this.props.config.sproutsPromotionConfig.promotionID&&b("ReactComposerSproutBadgePromotionUtils").endPromotion(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID)),event.stopPropagation()}.bind(this),this.$3=function(a){b("ReactComposerLoggingActions").composerEntry(this.context.composerID,b("ReactComposerLoggingName").MEDIA_SPROUT),a||b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),this.$1=function(event){b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").MEDIA,!0,b("ExtensibleSproutsItemType").MEDIA,b("ReactComposerStore").getSproutSurface(this.context.composerID))}.bind(this),c}a.prototype.render=function(){var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA],c=this.props.config.loggingConfig.ref==b("ComposerEntryPointRef").MEDIA_MANAGER&&this.props.mediaType=="MEDIA"?b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").MULTIMEDIA]:this.props.uiConfig,d=a.noFilePicker&&!this.props.highlighted;if(d)return b("React").createElement(b("ShimButton.react"),{onClick:this.$1,"data-testid":"photo-video-button"},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:c,highlighted:this.props.highlighted,linkRole:"presentation"}));else return b("React").createElement("div",{onMouseDown:function(a){return a.preventDefault()},className:"_6a _4mvf _fk5"},b("React").createElement(b("ReactComposerMediaFilePickerController.react"),{containerClassName:"_5g_r",loggingName:this.props.uiConfig.loggingName,disableFaceRecognition:a.disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,mediaConfig:a,mediaType:this.props.mediaType,onClick:this.$2,onFilesSelected:this.$3,photoLimit:a.photoLimit,targetData:this.props.config.targetData,webDriverTestID:"media-sprout"},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:c,highlighted:this.props.highlighted})))};a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").MEDIA],highlighted:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("PagesCrossPostChannel",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INSTAGRAM:"instagram"})}),null);
__d("SendGiftActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCEPT_AFTER_ADD_CARD:"accept_after_add_card",ACCEPT_MONEY_TRANSFER:"accept_money_transfer",ADD_CARD:"add_card",ADD_CARD_REDIRECT:"add_card_redirect",CANCEL:"cancel",CANCEL_SCHEDULED:"cancel_scheduled",CANCEL_STOPPED:"cancel_stopped",CLICK_ACCEPT:"click_accept",CLICK_CANCEL_BUTTON:"click_cancel_button",CLICK_CREATE_BUTTON:"click_create_button",CLICK_GLYPH:"click_glyph",CLICK_PAY_BUTTON:"click_pay_button",CLICK_POST_BUTTON:"click_post_button",CLICK_SEE_DETAILS:"click_see_details",CREATE_GIFT:"create_gift",OPEN:"open",PROCESS_PAY:"process_pay",REOPEN:"reopen",START_TO_CANCEL:"start_to_cancel"})}),null);
__d("XComposerXMediaInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/intercept/media/",{xhpc_composerid:{type:"String",required:!0},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/markdown_intercept/media/",{xhpc_composerid:{type:"String",required:!0},markdown_enabled:{type:"Bool",defaultValue:!1},xhpc_message:{type:"String"}})}),null);
__d("XComposerXStatusInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/intercept/status/",{xhpc_composerid:{type:"String",required:!0},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XGamesFindPlayersSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/find_players/save/",{})}),null);
__d("XGroupTaskSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/grouptask/save/",{})}),null);
__d("XMarketplaceCreatePostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/marketplace/create_post/",{xhpc_composerid:{type:"String",required:!0},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:!0}})}),null);
__d("XPagesComposerCustomCTAPublishAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/react_composer/cta/publish/",{message:{type:"String"},photo_id:{type:"FBID"},video_id:{type:"FBID"},cta_data:{type:"HackType"},referrer:{type:"String"},schedule_time:{type:"Int"},draft:{type:"Bool",defaultValue:!1},start_time:{type:"Int"},boosted_post_config:{type:"String"},raw_data:{type:"HackType"},use_premade_video:{type:"Bool",defaultValue:!1},offer_data:{type:"HackType"}})}),null);
__d("XPostToInstagramAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/instagram/post/",{})}),null);
__d("XSalesPromoCreateAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sales_promo/create/",{availability_location:{type:"Enum",required:!0,enumType:1},description:{type:"String",defaultValue:""},destination_uri:{type:"String",defaultValue:""},discount_code:{type:"String",defaultValue:""},expiration_time:{type:"Int",required:!0},group_id:{type:"FBID"},owner_id:{type:"FBID",required:!0},page_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},terms_and_conditions:{type:"String",defaultValue:""},use_boost:{type:"Bool",defaultValue:!1},video_ids:{type:"FBIDVector"},promotion_value:{type:"Float"}})}),null);
__d("XSendGiftCreationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/send_gift/creation/checkout/",{photo_id:{type:"Int"},message:{type:"String"},amount:{type:"Int"},credential_id:{type:"Int"},target_id:{type:"Int"},tagged_ids:{type:"FBIDVector"},xhpc_composerid:{type:"String"}})}),null);
__d("XSendGiftSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/redenv/save/",{xhpc_targetid:{type:"Int",required:!0},xhpc_composerid:{type:"String",required:!0},composer_attachment_message:{type:"String"},distribution:{type:"String",required:!0},total_amount:{type:"Int",required:!0},number_of_envelopes:{type:"Int",required:!0}})}),null);
__d("ReactComposerPostUtils",["invariant","ActorURI","Arbiter","AsyncRequest","AsyncResponse","Bootloader","ComposerEntryPointRef","ComposerPublisher","DateConsts","DOM","HTML","PagesCrossPostChannel","React","ReactComposerActions","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerFileStore","ReactComposerMarkdownActions","ReactComposerMediaUploadStore","ReactComposerPhotoStore","ReactComposerPostDataUtils","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoryArchiveIntroductionDialogGatedModule","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVerticalsConstants","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","ReactDOM","SendGiftActionType","SendGiftActionTypedLogger","SharesheetDestination","URI","VideoEditSource","XComposerXMediaInterceptController","XComposerXMediaMarkdownInterceptController","XComposerXStatusInterceptController","XGamesFindPlayersSaveController","XGroupTaskSaveController","XMarketplaceCreatePostController","XPagesComposerCustomCTAPublishAsyncController","XPostToInstagramAsyncController","XSalesPromoCreateAsyncController","XSendGiftCreationController","XSendGiftSaveController","XVideoEditDialogSaveController","curry","dotAccess","formatDate","ifRequired","textProbablyWritingMarkdown"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("ReactComposerStoryArchiveIntroductionDialogGatedModule").module,i=b("ReactComposerVerticalsConstants").VerticalConfigs;a=b("ReactComposerWorkFileStore").module;var j=!!a,k=a||b("ReactComposerFileStore"),l=!0;c={publish:function(a,c){b("ReactComposerActions").publishStarted(a),c=c||{},c.composer_id=a,c.streamNode?c.streamStory=c.streamNode:c.streamMarkup&&(c.streamStory=b("HTML")(c.streamMarkup).getRootNode()),c.contentID&&(c.matchData={content_id:c.contentID}),b("Arbiter").inform("composer/publish",c)},isPostButtonDisabled:function(a,c){c=b("ReactComposerPhotoStore").isLimitExceeded(a,c);var d=b("ReactComposerMediaUploadStore").isUploading(a),e=b("ReactComposerPhotoStore").isRecognizing(a),f=!!b("ReactComposerVideoUploadStore").getVideo(a)&&b("ReactComposerStore").isPosting(a);a=b("ReactComposerPhotoStore").isSphericalPhotoUpdating(a);return c||d||e||f||a},_getIsOnMediaAttachment:function(a){var c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MEDIA);a=b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,b("ReactComposerAttachmentType").AUDIENCE_SELECTOR);return c||a},_setupGenericDataFromStore:function(a,c){b("ifRequired")("ReactComposerStatusDonateButtonStore",function(b){b.getEnabled(c)&&Object.assign(a,{cta_data:{type:"DONATE",value:{fundraiser_campaign_id:b.getFundraiserCampaignID(c),link_title:b.getTitle(c),link_description:b.getDescription(c)}}})}),b("ifRequired")("ReactComposerCTAStore",function(b){b=b.getCTAData(c);b&&b.type==="MESSAGE_PAGE"&&Object.assign(a,{cta_data:b})})},_setupDataForPlaceListAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").PLACE_LIST);d&&b("ifRequired")("ReactComposerPlaceListStore.react",function(b){Object.assign(a,{is_placelist_post:!0,placelist_within_page:b.getPageID(c),should_redirect_place_list_on_create:b.getShouldRedirectOnCreate(c)}),b.getGroupID(c)&&Object.assign(a,{target_id:b.getGroupID(c),xhpc_targetid:b.getGroupID(c)})})},_setupDataForFormattedText:function(a,c){b("ifRequired")("ReactComposerFormattedTextStore",function(b){b=b.getTextFormatPresetID(c);b&&Object.assign(a,{text_format_preset_id:b})}),b("ifRequired")("ReactComposerPromptsStore",function(b){b=b.getMemeCategoryID(c);b&&Object.assign(a,{meme_category_id:b})})},_setupDataForCTAAttachment:function(a,c,d){a&&b("ifRequired")("ReactComposerCTAStore",function(a){Object.assign(c,{cta_data:a.getCTAData(d)})})},_setupDataForOnSaleAttachment:function(a,c,d){a&&(b("ifRequired")("ReactComposerSellStore",function(a){Object.assign(c,{composer_attachment_sell_title:a.getTitleText(d),composer_attachment_sell_price:a.getPrice(d),composer_attachment_sell_price_type:a.getPriceType(d),composer_attachment_sell_currency:a.getCurrency(d),composer_attachment_sell_quantity:a.getQuantity(d),composer_attachment_sell_condition:a.getConditionID(d),composer_attachment_sell_category:a.getCategoryID(d),composer_attachment_sell_location_page_id:a.getLocationID(d),composer_attachment_sell_pickup_note:a.getPickupNoteText(d),post_to_marketplace:a.isNearbyLocationChecked(d),cross_post_checked:a.isCrossPostChecked(d),composer_attachment_sell_audience_target_ids:Array.from(a.getAudienceTargetIDs(d)).join(",")})}),b("ifRequired")("ReactComposerAutosSellStore.react",function(a){i.AUTOS.categoryIds.includes(c.composer_attachment_sell_category)&&Object.assign(c,{composer_attachment_sell_serialized_verticals_data:a.getSerializedVerticalData(d)})}),b("ifRequired")("ComposerRealEstateSellStore",function(a){i.REAL_ESTATE.categoryIds.includes(c.composer_attachment_sell_category)&&Object.assign(c,{composer_attachment_sell_serialized_verticals_data:a.getSerializedVerticalData(d)})}))},_setupDataForGroupMeetupAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").GROUP_MEET_UP);d&&Object.assign(a,b("ReactComposerPostDataUtils").getGroupMeetupData(c))},_setupDataForPageRecommendationAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").PAGE_RECOMMENDATION);d&&b("ifRequired")("ReactComposerPageRecommendationStore.react",function(b){if(b.getRecommendationType(c)){var d=b.getTags(c),e=b.getTagEntryPoint(c),f=[];d.forEach(function(a,b){a.selected===!0&&f.push({id:a.value,entry_point:e})});Object.assign(a,{page_recommendation:{page_id:b.getPageID(c),rec_type:b.getRecommendationType(c),attached_tags:f}})}else Object.assign(a,{page_recommendation_ids:[b.getPageID(c)]})})},_setupDataForPremadePost:function(a,b){a=a.composerConfig.pagePremadePostData;a&&Object.assign(b,{page_premade_post:a})},_setupDataForGIFAttachment:function(a,b){a&&Object.assign(b,{animated_image:a})},_setupDataForGroupLearningCourseAttachment:function(a,c,d){a&&b("ifRequired")("ReactComposerGroupLearningCourseStore",function(a){Object.assign(c,{module_name:a.getModuleName(d),target_id:a.getGroupID(d),xhpc_composerid:d,xhpc_targetid:a.getGroupID(d),xhpc_learning_course:!0,xhpc_mentorship_mentor_prompt:a.getMentorPrompt(d),xhpc_mentorship_mentee_prompt:a.getMenteePrompt(d),xhpc_mentorship_post_offset:a.getScheduledPostOffset(d),xhpc_unit_id:a.getUnitID(d)})})},_setupDataForLearningCourse:function(a,c,d){var e=b("ReactComposerAttachmentStore").getAttachment(d,b("ReactComposerAttachmentType").LEARNING_COURSE);if(a&&e){a=new(b("URI"))(window.location.href).getQueryData().filter;e=k.getSelectedFileName(d);a&&Object.assign(c,{xhpc_unit_id:a,xhpc_learning_course:!0,module_name:e?e:"New file"})}},_setupDataForLearningLinkAttachment:function(a,c,d,e){a&&b("ifRequired")("ReactComposerLearningLinkStore",function(a){Object.assign(c,{module_name:a.getTitleText(d),learning_link_link:a.getLink(d),xhpc_composerid:d,xhpc_targetid:e,xhpc_learning_course:!0,xhpc_learning_link:!0,xhpc_unit_id:new(b("URI"))(window.location.href).getQueryData().filter,xhpc_message:b("ReactComposerStatusStore").getMessageText(d)})})},_setupDataForLivingRoomAttachment:function(a,c){c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LIVING_ROOM);c&&b("ifRequired")("LivingRoomComposerStore",function(b){Object.assign(a,{living_room_attachment:{group_id:b.getGroupID(),living_room_id:b.getLivingRoomID()}})})},_setupDataForCivicCTAAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").CIVIC_CTA);d&&b("ifRequired")("ReactComposerCivicCTAStore",function(b){var d={goal:b.getGoal(c),rep_id:b.getSelectedRep(c).getUniqueID()};b.getDeadline(c)&&(d.deadline=b.getDeadline(c));Object.assign(a,{action_post_attachment_data:d})})},_postForSendGift:function(a){__p&&__p();var c=b("ReactComposerPostDataUtils").getPostData(a),d=a.composerID;b("ifRequired")("ReactComposerSendGiftStore",function(a){Object.assign(c,{composer_attachment_message:b("ReactComposerStatusStore").getMessageText(d),message:b("ReactComposerStatusStore").getMessage(d),type:a.getType(d),theme:a.getTheme(d),total_amount:a.getTotalIntAmount(d),credential_id:a.getCredentialId(d),distribution:a.getDistribution(d),number_of_envelopes:a.getNumberOfEnvelopes(d)})});if(c.type==="v1")return b("XSendGiftSaveController").getURIBuilder().setString("composer_attachment_message",c.composer_attachment_message).setString("distribution",c.distribution).setInt("total_amount",c.total_amount).setInt("number_of_envelopes",c.number_of_envelopes).setInt("xhpc_targetid",a.targetID).setString("xhpc_composerid",a.composerID).getURI();else{new(b("SendGiftActionTypedLogger"))().setAction(b("SendGiftActionType").CLICK_POST_BUTTON).log();var e=b("ReactComposerTaggerStore").getTaggerData(d,b("ReactComposerTaggerType").PEOPLE);e=e.map(function(a){return a.getUniqueID()});return b("XSendGiftCreationController").getURIBuilder().setString("message",c.composer_attachment_message).setInt("amount",c.total_amount).setInt("credential_id",c.credential_id).setInt("photo_id",c.theme).setInt("target_id",a.targetID).setFBIDVector("tagged_ids",e).setString("xhpc_composerid",a.composerID).getURI()}},_onMessengerSuccess:function(a,c){b("Bootloader").loadModules(["FantaTabActions"],function(b){a.getThreadIDs().forEach(function(a){return b.openTab(a)})},"ReactComposerPostUtils")},_onStorySuccess:function(a){l&&h&&(b("ReactDOM").render(b("React").createElement(h,null),b("DOM").create("div")),l=!1);a=b("dotAccess")(a,"request.data.variables","{}");var c=JSON.parse(a);c&&b("dotAccess")(c,"input.composer_entry_point")===b("ComposerEntryPointRef").PAGES_FEED?b("Bootloader").loadModules(["FBStoriesDataHelper"],function(a){a.loadPageBucketData(c.actor_id)},"ReactComposerPostUtils"):b("Bootloader").loadModules(["FBStoriesDataHelper","FBStoriesTrayInit","FBStoriesProductionActions"],function(a,b,c){c.setUserBucketUploadStatus(!1),a.loadData(),b.renderReactTray()},"ReactComposerPostUtils")},_onInstagramSuccess:function(a){b("Bootloader").loadModules(["ReactCrossPostingConfirmationDialogContainer.react"],function(c){b("ReactDOM").render(b("React").createElement(c,{media_channel:b("PagesCrossPostChannel").INSTAGRAM,media_link:a.payload.media_link,success:a.payload.success}),b("DOM").create("div"))},"ReactComposerPostUtils")},post:function(a){__p&&__p();!a.actorID&&g(0);!a.composerConfig&&g(0);!a.composerConfig.contextInfo&&g(0);!a.composerID&&g(0);!a.targetID&&g(0);var c=a.actorID,d=a.composerID,e=!1,f=!1,h=!1,i=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").IG_PHOTO_REMINDER),l=this._getIsOnMediaAttachment(d),m=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QANDA),n=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").FILE),o=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QUESTION),p=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SEND_GIFT),q=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SELL)||b("ifRequired")("ReactComposerSellStore",function(a){return a.getInterceptSell(d)},function(){return!1}),r=!1;b("ifRequired")("ReactComposerCTAAttachmentUtils",function(a){r=a.isCTAAttachmentSelected(d)});var s=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").TASK),t=b("ReactComposerSlideshowStore").isSlideshowSelected(d),u=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").PROFILE_PIC_FRAME),v=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QA),w=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").FIND_PLAYERS),x=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").LEARNING_COURSE),y=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").MEDIA_EFFECT_SHARE),z=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SALES_PROMO),A=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").LEARNING_THIRD_PARTY_LINK),B=a.composerConfig.attachmentsConfig||{};B=B[b("ReactComposerAttachmentType").STATUS]||{};var C=b("ifRequired")("ReactComposerSellStore",function(a){return a.showURLIntercept(d)},function(){return!1});C=B.attemptIntercept&&B.sellIntercept&&!q&&!C;var D=b("ReactComposerPostDataUtils").getPostData(a);this._setupGenericDataFromStore(D,d);var E=b("ReactComposerVideoUploadStore").getVideo(d);if(l&&!!E){var F=b("ReactComposerVideoUploadStore").getUploader(d);F&&F.uploadFromFile(E.file,D);return}F=j?k.hasFile(d):k.isFileSelected(d);E=b("ReactComposerTaggerStore").getTaggerData(d,b("ReactComposerTaggerType").GIF).gifData;var G,H=b("ReactComposerMediaUploadStore").getUploads(d);this._setupDataForFormattedText(D,d);this._setupDataForOnSaleAttachment(q,D,d);this._setupDataForCTAAttachment(r,D,d);this._setupDataForPlaceListAttachment(D,d);this._setupDataForGroupMeetupAttachment(D,d);this._setupDataForPageRecommendationAttachment(D,d);this._setupDataForPremadePost(a,D);this._setupDataForGIFAttachment(E,D);this._setupDataForLearningCourse(n,D,d);this._setupDataForGroupLearningCourseAttachment(x,D,d);this._setupDataForLearningLinkAttachment(A,D,d,a.targetID);this._setupDataForLivingRoomAttachment(D,d);this._setupDataForCivicCTAAttachment(D,d);E=H.size>0;i=i||l||m||q||x||s||A;l=t||i&&E;m=b("ifRequired")("PagesComposerBoostedPostsStore",function(a){return a.getConfig(d)},function(){return null});B.attemptMarkdownIntercept&&a.composerConfig.attachmentsConfig&&a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS]&&(a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].defaultMarkdownOn=D.is_markdown);x=D.blocks;var I=B.attemptMarkdownIntercept&&!q&&!x&&!D.is_markdown;b("ifRequired")("ReactComposerMarkdownStore",function(a){I=I&&!a.interceptAttempted(d)});if(!l&&I&&b("textProbablyWritingMarkdown")(b("ReactComposerStatusStore").getMessageText(d))){setTimeout(function(){return b("ReactComposerActions").postFinally(d,null)},0);b("ReactComposerMarkdownActions").showIntercept(d);return}A=b("ifRequired")("ReactComposerSellStore",function(a){return a.getPostDirectlyToMarketplace(d)},function(){return!1});var J=null;if(o||v){t=b("ReactComposerStore").getRef(d);switch(t){case b("ComposerEntryPointRef").GROUP:J="group";break;case b("ComposerEntryPointRef").EVENT:case b("ComposerEntryPointRef").EVENT_ABOUT:J="event";break;case b("ComposerEntryPointRef").PAGES_FEED:J="composer";break;default:J=t}}i=b("ifRequired")("PagesComposerUnpublishedPostsStore",function(b){return b.getScheduledPublishTime(a.composerID)},function(){return null});i=i?Math.round(i.getTime()/1e3):null;var K;if(s)G=b("XGroupTaskSaveController").getURIBuilder().getURI(),b("ifRequired")("ReactComposerTaskStore",function(a){Object.assign(D,a.getTaskData(d)),b("ifRequired")("GroupTaskLoggedAction",function(a){Object.assign(D,{action_to_be_logged:a.CREATE_TASK})})});else if(l)K=b("ReactComposerPostDataUtils").getMediaUploadsData(d,H),Object.assign(D,K),C?G=b("XComposerXMediaInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setInt("xhpc_targetid",a.targetID).getURI():I?G=b("XComposerXMediaMarkdownInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setBool("markdown_enabled",D.is_markdown).getURI():A?G=b("XMarketplaceCreatePostController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setInt("xhpc_targetid",a.targetID).getURI():(f=b("ComposerPublisher").getShouldUseGraphQLForMedia(c,D,a.composerID),G=new(b("URI"))("/media/upload/photos/composer/"));else if(n&&F)G=new(b("URI"))(k.getURI(d));else if(o)G=new(b("URI"))("/ajax/questions/save.php"),b("ifRequired")("ReactComposerQuestionStore",function(a){var c=a.getOptionStrings(d),e=a.getOptionImageIndices(d);Object.assign(D,{composerAttachmentQuestion:b("ReactComposerStatusStore").getMessage(d),question_options:c,question_option_image_indices:e,source:J,create_eigenpoll:a.canChooseMultiplePollOptions(d),anyone_add_options:a.canAnyoneAddPollOptions(d)})}),Object.assign(D,b("ReactComposerPostDataUtils").getMediaUploadsData(d,H));else if(r&&D.attachment.params.allowMultiMedia)h=b("ComposerPublisher").getShouldUseGraphQLForPageCTA(c,D),G=b("XPagesComposerCustomCTAPublishAsyncController").getURIBuilder().setString("message",D.xhpc_message_text).setHackType("cta_data",D.cta_data).setFBID("video_id",D.attachment.params.videoID).setFBID("photo_id",D.attachment.params.photoID).setString("boosted_post_config",m).setHackType("raw_data",D).setInt("schedule_time",i).setBool("use_premade_video",D.attachment.params.usingPremadePostVideo).getURI();else if(p)G=this._postForSendGift(a);else if(q)G=new(b("URI"))("/ajax/groups/sell/save.php");else if(u){var L,M;b("ifRequired")("ReactComposerProfilePictureFrameStore",function(a){L=a.getSelectedOverlayID(d),M=a.getScheduledPostDate(d),K=b("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(d,a.getCroppedPhotoForUpload(d))});var N,O,P;E=!1;if(M){N=b("formatDate")(M,"m/d/Y",{skipPatternLocalization:!0});B=M.getHours()*b("DateConsts").MIN_PER_HOUR+M.getMinutes();O=b("DateConsts").SEC_PER_MIN*B;P=M.getTime()/1e3;E=!0}G=new(b("URI"))("/media/upload/photos/composer/");Object.assign(D,babelHelpers["extends"]({},K,{scheduled:E,sticker_id:L,future_date:N,future_time:O,scheduled_publish_time:P}))}else if(v)b("ifRequired")("ReactComposerGroupQAStore",function(a){G=new(b("URI"))("/group_qa/save/"),Object.assign(D,{composer_question_title:a.getTitle(d),composer_question_description:a.getDescription(d),source:J})}),Object.assign(D,b("ReactComposerPostDataUtils").getMediaUploadsData(d,H));else if(z)b("ifRequired")("ReactComposerSalesPromoStore",function(a){Object.assign(D,{availability_location:a.getAvailabilityLocation(d),description:a.getDescription(d),destination_uri:a.getDestinationURI(d),discount_code:a.getDiscountCode(d),expiration_time:a.getExpirationTime(d),photo_ids:b("ReactComposerPostDataUtils").getMediaUploadsData(d,H).composer_unpublished_photo,terms_and_conditions:a.getTermsAndConditions(d)})}),G=b("XSalesPromoCreateAsyncController").getURIBuilder().setEnum("availability_location",D.availability_location).setString("description",D.description).setString("destination_uri",D.destination_uri).setString("discount_code",D.discount_code).setInt("expiration_time",D.expiration_time).setFBID("group_id",a.targetID).setFBID("owner_id",c).setFBIDVector("photo_ids",D.photo_ids).setString("referrer","www_group_composer").setString("terms_and_conditions",D.terms_and_conditions).getURI(),Object.assign(D,b("ReactComposerPostDataUtils").getMediaUploadsData(d,H));else if(w)b("ifRequired")("ReactComposerFindPlayersStore",function(a){G=new(b("URI"))(b("XGamesFindPlayersSaveController").getURIBuilder().getURI()),Object.assign(D,{composer_find_players_title:a.getTitle(d),composer_find_players_tags:a.getTags(d),composer_find_players_name:a.getName(d),composer_find_players_description:b("ReactComposerStatusStore").getMessage(d),photo_ids:b("ReactComposerPostDataUtils").getMediaUploadsData(d,H).composer_unpublished_photo})});else if(y){var Q,R=!0;b("ifRequired")("ReactComposerMediaEffectShareStore",function(a){__p&&__p();K=b("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(d,a.getEffectPhotoForUpload(d));var c=a.getComposerData(d).effectStatus;Q=a.getEffectToApply(d);c==="active"&&(R=!1);c=a.getUploadedVideoID(d);if(c){Object.assign(D,{draft:R});a.postVideo(d,D);return}});G=new(b("URI"))("/media/upload/photos/composer/");Object.assign(D,babelHelpers["extends"]({},K,{scheduled:!1,sticker_id:Q,draft:R}))}else if(D.attachment&&D.attachment.params.canvas_video){G=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",D.attachment.params.canvas_video.video_id).getURI();x=i===null&&!D.draft;Object.assign(D,D.attachment.params.canvas_video);Object.assign(D,{description:D.xhpc_message,is_canvas_video:!0,publish:x,scheduled_publish_time:i,source:b("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var S={content_id:D.attachment.params.canvas_video.video_id,event:"publish",is_old_composer:!1,scraped_url:D.attachment.params.url,target_id:a.targetID};b("ifRequired")("PagesComposerActionsLogger",function(a){a.log(S)})}else if(D.attachment&&D.attachment.params.carousel_video_lpp){G=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",D.attachment.params.carousel_video_lpp.video_id).getURI();t=i===null&&!D.draft;Object.assign(D,D.attachment.params.carousel_video_lpp);Object.assign(D,{description:D.xhpc_message,scheduled_publish_time:i,publish:t,source:b("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var T={child_attachments:D.attachment.params.child_attachments,event:"publish",target_id:a.targetID,content_id:D.attachment.params.carousel_video_lpp.video_id,is_old_composer:!1,scraped_url:D.attachment.params.url};b("ifRequired")("PagesComposerActionsLogger",function(a){a.log(T)})}else C?G=b("XComposerXStatusInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setInt("xhpc_targetid",a.targetID).getURI():(e=b("ComposerPublisher").getShouldUseGraphQLForStatus(c,D),G=new(b("URI"))("/ajax/updatestatus.php"));s=G;l=!1;b("ifRequired")("ReactComposerVideoXEditDialogStore",function(e){__p&&__p();l=e.hasSelectedCustomThumbnails(a.composerID);if(l){var f=H.map(function(a){return a.id}),g=e.getThumbnailTypes(f.toArray(),a.composerID),h={};H.forEach(function(a){return h[a.id]=a.photoID});var i={};for(var g=g,j=Array.isArray(g),m=0,g=j?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(j){if(m>=g.length)break;o=g[m++]}else{m=g.next();if(m.done)break;o=m.value}o=o;var p=o[0];o=o[1];i[h[p]]=o}Object.assign(D,{thumb_types:i});p=e.getUploadsWithTextOnThumbnail(f.toArray(),a.composerID);o=[];for(var m=p,j=Array.isArray(m),g=0,m=j?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(g>=m.length)break;i=m[g++]}else{g=m.next();if(g.done)break;i=g.value}p=i;o=o.concat(h[p])}Object.assign(D,{videos_with_text_thumbnails:o});var q=b("ReactComposerPostDataUtils").createFormData(D);e.getThumbnails(f.toArray(),a.composerID).then(function(e){e.forEach(function(a){q.append("thumb"+h[a[0]],a[1])});if(n&&k.hasFile(d)){e=k.getFile(d);q.append("file1",e)}e=b("ActorURI").create(G,c);e=new(b("ReactComposerAsyncRequest"))(a.composerID,e).setRawData(q).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);e.send()}).done()}});G===s||g(0);b("ReactComposerAudienceStore").getStoriesSelected(a.composerID)&&b("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:this._onStorySuccess}),D,{type:b("SharesheetDestination").STORIES});if(b("ReactComposerAudienceStore").getInstagramSelected(a.composerID)){A=b("ActorURI").create(b("XPostToInstagramAsyncController").getURIBuilder().getURI(),a.targetID);new(b("AsyncRequest"))(A).setData({photo_id:D.composer_unpublished_photo[0],caption:D.xhpc_message_text,entry_point:D.composer_entry_point}).setMethod("POST").setHandler(function(a){return this._onInstagramSuccess(a)}.bind(this)).send()}if(b("ReactComposerAudienceStore").getAdsPePostSelected(a.composerID)){F=b("ActorURI").create(G,c);o=new(b("ReactComposerAsyncRequest"))(a.composerID,F).setData(D).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);o.send();return}b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a.composerID).isEmpty()||b("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:b("curry")(this._onMessengerSuccess,b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a.composerID))}),D,{type:b("SharesheetDestination").MESSENGER,messenger_ids:b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a.composerID)});if(!b("ReactComposerAudienceStore").getTimelineSelected(a.composerID))return;if(e||f||h){b("ComposerPublisher").publish(a,D,{type:b("SharesheetDestination").TIMELINE});return}D.delight_ranges&&Object.assign(D,{delight_ranges:JSON.stringify(D.delight_ranges)});if(!l){m=b("ActorURI").create(G,c);p=new(b("ReactComposerAsyncRequest"))(a.composerID,m).setData(D).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);if(n&&k.hasFile(d)){q=k.getFile(d);u=new FormData();u.append("file1",q);p.setRawData(u)}p.send()}}};e.exports=c}),null);
__d("ReactComposerPrefillUtils",["Arbiter","Bootloader","ReactComposerAudienceActions","ReactComposerEvents","ReactComposerMediaUploadActions","ReactComposerMediaUploadType","ReactComposerPrefillActions","ReactComposerTaskActions","TextDelightInComposerController","TextDelightSurface"],(function(a,b,c,d,e,f){__p&&__p();var g=b("TextDelightInComposerController").matcher;a={prefill:function(a,c){b("ReactComposerPrefillActions").setPrefillData(a,c),this._prefillMedia(a,c),this._prefillDestinationPicker(a,c),this._prefillStatusText(a,c),this._prefillTask(a,c)},_prefillStatusText:function(a,c){var d=c.composedText,e=c.mentionsInput;d?b("Bootloader").loadModules(["ReactComposerPrefillComposedText","ReactComposerStatusActions"],function(b,c){b=b.createEditorState(d.blocks,d.entities);c.setEditorState(a,b);this._informComposerUpdated(a)}.bind(this),"ReactComposerPrefillUtils"):e?b("Bootloader").loadModules(["ReactComposerPrefillMentionsInput","ReactComposerStatusActions"],function(c,d){c=c.createEditorState(e.textWithEntities,e.selection);g&&e.textWithEntities&&(c=g.addDelightsIntoEditorState(e.textWithEntities.text,e.textWithEntities.textdelightranges,b("TextDelightSurface").POST,c,a));d.setEditorState(a,c);this._informComposerUpdated(a)}.bind(this),"ReactComposerPrefillUtils"):b("Arbiter").inform(b("ReactComposerEvents").SET_PREFILL_DATA+a,null,b("Arbiter").BEHAVIOR_STATE)},_informComposerUpdated:function(a){b("Arbiter").inform(b("ReactComposerEvents").SET_PREFILL_DATA+a,null,b("Arbiter").BEHAVIOR_STATE),b("Arbiter").inform(b("ReactComposerEvents").RERENDER_MENTION_INPUT+a)},_prefillMedia:function(a,c){var d=c.photosData;d&&d.length>0&&d.forEach(function(a){a.mediaType=b("ReactComposerMediaUploadType").PHOTO});c=c.mediasData;c=c||d;c&&b("ReactComposerMediaUploadActions").prefillMedias(a,c)},_prefillTask:function(a,c){c=c.taskData;if(!c)return;b("ReactComposerTaskActions").setAssignee(a,c.assigneeID);b("ReactComposerTaskActions").setAssigneeName(a,c.assigneeName);b("ReactComposerTaskActions").setDescription(a,c.description);b("ReactComposerTaskActions").setDueDate(a,c.dueDate);b("ReactComposerTaskActions").setStatus(a,c.status);b("ReactComposerTaskActions").setTitle(a,c.title)},_prefillDestinationPicker:function(a,c){c.timelineSelected!==undefined&&b("ReactComposerAudienceActions").setTimelineSelected(a,c.timelineSelected),c.storiesSelected!==undefined&&b("ReactComposerAudienceActions").setStoriesSelected(a,c.storiesSelected),c.messengerSectionVisible&&b("ReactComposerAudienceActions").clickSeeMessenger(a)}};e.exports=a}),null);