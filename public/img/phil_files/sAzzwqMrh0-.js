if (self.CavalryLogger) { CavalryLogger.start_js(["jn8R\/"]); }

__d("FBRTCParticipantCallState",[],(function(a,b,c,d,e,f){e.exports={UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12}}),null);
__d("wrapNullableForReact",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!=null)return a;else return undefined}e.exports=a}),null);
__d("PhotoResizeMath",[],(function(a,b,c,d,e,f){a={getScaledPhotoDimensions:function(a,b,c,d,e){var f=a/b,g=c/d;if(c&&d&&e==="stretch")return{width:c,height:d};if(!c&&d||e==="contain"!==f>=g)return{width:d*f,height:d};return c?{width:c,height:c/f}:{width:a,height:b}}};e.exports=a}),null);
__d("PixelzFocus",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={search:function(a,b){__p&&__p();var c=0,d=a.length-1;while(c<=d){var e=c+Math.floor((d-c)/2),f=a[e];if(f>b)d=e-1;else if(f<b)c=e+1;else return e}return Math.min(c,d)},forceSpecificPoint:function(a,b,c){var d=1e-9;d=g.search(a,b-c-d)+1;b=g.search(a,b+c);return a.slice(d,b+1)},findBiggestSets:function(a,b){var c=[],d=-1;for(var e=0;e<a.length;++e){var f=a[e],h=e;f=g.search(a,f+b);var i=f-h;i>d&&(c=[]);i>=d&&(d=i,c.push({low:h,high:f}))}return c},getBestSet:function(a,b,c){var d=-1,e=null;for(var f=0;f<b.length;++f){var g=b[f],h=a[g.low],i=a[g.high],j=h+(i-h)/2;h=Math.min(h-(j-c),j+c-i);h>d&&(d=h,e=g)}return e},getFocusFromSet:function(a,b){var c=a[b.low];a=a[b.high];return c+(a-c)/2},clampFocus:function(a,b){var c=b/2;b=1-b/2;if(a<c)return c;return a>b?b:a},convertFromCenterToCSS:function(a,b){return Math.abs(1-b)<1e-5?0:(a-b/2)/(1-b)},convertFromCSSToCenter:function(a,b){return a*(1-b)+b/2},getVisible:function(a,b){return a<b?a/b:b/a},getHidden:function(a,b){return 1-g.getVisible(a,b)},focusHorizontally:function(a,b){return a<b},convertVectorFromCenterToCSS:function(a,b,c){var d=g.focusHorizontally(b,c),e;d?e=a.x/100:e=a.x/100;a=g.convertFromCenterToCSS(e,g.getVisible(b,c));if(d)return{x:a,y:0};else return{x:0,y:a}},getCropRect:function(a,b,c){var d=g.focusHorizontally(b,c);b=g.getVisible(b,c);if(d){c=(1-b)*a.x;return{left:c,top:0,width:b,height:1}}else{d=(1-b)*a.y;return{left:0,top:d,width:1,height:b}}}};e.exports=g}),null);
__d("loadImage",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c=new Image();c.onload=function(){b(c.width,c.height,c)};c.src=a}a.loadImagePromise=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onerror=c;d.onload=function(){return b(d)};d.src=a})};e.exports=a}),null);
__d("Pixelz.react",["cx","PhotoResizeMath","PixelzFocus","React","joinClasses","loadImage"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"Pixelz",propTypes:{width:a.number,height:a.number,resizeMode:a.oneOf(["contain","cover","stretch"]),alt:a.string,letterbox:a.bool,borderRadius:a.number,insetBorderColor:a.string,animated:a.bool,upscale:a.bool,cropRect:function(a,b,c){a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected a rectangle with values normalized between 0 and 1.";if(a.left<0||a.top<0||a.width<0||a.height<0||a.left+a.width>1||a.top+a.height>1)return new Error(b)},focus:function(a,b,c){__p&&__p();a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected either a {x, y, type} vector where type is `css` or `center` or an array of {x, y} vectors. All the vectors have with values normalized between 0 and 1.";if(Array.isArray(a)){for(var c=0;c<a.length;++c)if(!(a[c].x>=0&&a[c].x<=1)||!(a[c].y>=0&&a[c].y<=1))return new Error(b)}else{a.type||(a.type="css");if(!(a.x>=0&&a.x<=1)||!(a.y>=0&&a.y<=1)||!["center","css"].includes(a.type))return new Error(b)}}},getDefaultProps:function(){return{resizeMode:"cover",alt:"",letterbox:!0,upscale:!0,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:"css"}}},getInitialState:function(){return{srcDimensions:{}}},getSrcDimensions:function(){var a=this.props.src,c=this.state.srcDimensions[a];if(c)return c;b("loadImage")(a,function(b,c){var d={};d[a]={width:b,height:c};this.isMounted()&&this.setState({srcDimensions:d})}.bind(this));return null},getCropSrcDimensions:function(){var a=this.getSrcDimensions();return{width:a.width*this.props.cropRect.width,height:a.height*this.props.cropRect.height}},getUpscaleCropDimensions:function(){var a=this.getCropSrcDimensions();return b("PhotoResizeMath").getScaledPhotoDimensions(a.width,a.height,this.props.width,this.props.height,this.props.resizeMode)},getCropDimensions:function(){var a=this.getUpscaleCropDimensions(),b=this.getCropSrcDimensions();return!this.props.upscale?{width:Math.min(a.width,b.width),height:Math.min(a.height,b.height)}:a},getCropAspectRatio:function(){var a=this.getCropDimensions();return a.width/a.height},getContainerDimensions:function(){return this.props.letterbox&&this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getCropDimensions()},getContainerAspectRatio:function(){var a=this.getContainerDimensions();return a.width/a.height},getContainerPosition:function(){return{left:0,top:0}},getFocus:function(){__p&&__p();var a=this.props.focus;if(!Array.isArray(a)&&a.type==="css")return{x:a.x,y:a.y};var c=this.getContainerAspectRatio(),d=this.getCropAspectRatio(),e=b("PixelzFocus").getVisible(c,d),f=b("PixelzFocus").focusHorizontally(c,d);if(!Array.isArray(a))c=b("PixelzFocus").convertFromCenterToCSS(f?a.x:a.y,e);else{d=a.map(function(a){return f?a.x:a.y});d.sort();a=b("PixelzFocus").findBiggestSets(d,e);a=b("PixelzFocus").getBestSet(d,a,e);c=b("PixelzFocus").getFocusFromSet(d,a)}return{x:f?c:.5,y:f?.5:c}},getCropPosition:function(){var a=this.getCropDimensions(),b=this.getContainerDimensions(),c=this.getFocus();return{left:c.x*(b.width-a.width),top:c.y*(b.height-a.height)}},getScaleDimensions:function(){var a=this.getCropDimensions();return{width:a.width/this.props.cropRect.width,height:a.height/this.props.cropRect.height}},getScalePosition:function(){var a=this.getScaleDimensions();return{left:-a.width*this.props.cropRect.left,top:-a.height*this.props.cropRect.top}},getClipCropRectangle:function(){var a=this.getContainerDimensions(),b=this.getCropDimensions(),c=this.getContainerPosition(),d=this.getCropPosition(),e=Math.max(c.left,d.left),f=Math.max(c.top,d.top),g=Math.min(c.top+a.height,d.top+b.height);c=Math.min(c.left+a.width,d.left+b.width);return{left:e,top:f,width:c-e,height:g-f}},getClipCropPosition:function(){var a=this.getClipCropRectangle();return{left:a.left,top:a.top}},getClipCropDimensions:function(){var a=this.getClipCropRectangle();return{width:a.width,height:a.height}},getClipScalePosition:function(){var a=this.getScalePosition(),b=this.getClipCropPosition(),c=this.getCropPosition();return{left:a.left+(c.left-b.left),top:a.top+(c.top-b.top)}},getClipScaleDimensions:function(){return this.getScaleDimensions()},areDimensionsEqual:function(a,b){return a.width===b.width&&a.height===b.height},shouldAddAllNodesAndStyles:function(){return this.props.animated},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return!0;var a=this.getContainerDimensions(),b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)||this.areDimensionsEqual(b,c)?!1:!0},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return!0;var a=this.getContainerDimensions(),b=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)?!1:!0},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor},applyPositionStyle:function(a,b){(this.shouldAddAllNodesAndStyles()||b.left)&&(a.left=Math.round(b.left)),(this.shouldAddAllNodesAndStyles()||b.top)&&(a.top=Math.round(b.top))},applyDimensionsStyle:function(a,b){a.width=Math.round(b.width),a.height=Math.round(b.height)},applyBorderRadiusStyle:function(a){(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)&&(a.borderRadius=this.props.borderRadius||0)},getScaleStyle:function(){var a={},b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(b,c)?this.applyPositionStyle(a,this.getClipScalePosition()):this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipScaleDimensions());this.applyBorderRadiusStyle(a);return a},getCropStyle:function(){var a={};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getInsetBorderStyle:function(){var a={borderColor:this.props.insetBorderColor||"transparent"};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getContainerStyle:function(){var a={};this.applyDimensionsStyle(a,this.getContainerDimensions());this.applyBorderRadiusStyle(a);return a},getScale:function(){var a=this.getScaleStyle(),c=a.width,d=a.height;a=babelHelpers["extends"]({},a);delete a.width;delete a.height;return b("React").createElement("img",babelHelpers["extends"]({},this.props,{alt:this.props.alt,className:b("joinClasses")(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?" _56t5":"")),src:this.props.src,style:babelHelpers["extends"]({},this.props.style||{},a),width:c,height:d}))},getCrop:function(){var a=this.getScale();return!this.hasCrop()?a:b("React").createElement("div",{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getCropStyle()},a)},getInsetBorder:function(){return!this.hasInsetBorder()?null:b("React").createElement("div",{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getInsetBorderStyle()})},getContainer:function(){var a=this.getCrop();if(!this.hasContainer())return a;var c=this.getInsetBorder();return b("React").createElement("div",{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),"data-skipchecker":null,style:this.getContainerStyle()},a,c)},render:function(){var a=this.getSrcDimensions();return!a?b("React").createElement("span",{"data-skipchecker":null}):this.getContainer()}});e.exports=c}),null);
__d("MessengerGraphQLTypeaheadAdapter_game.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_game",type:"Application",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_group",type:"MessageThread",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},a,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:250)",args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}}();e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null}]};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},a,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},b,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[b]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}}();e.exports=a}),null);
__d("MessengerGraphQLTypeaheadViewQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"queryString",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"canViewerSendMoneyFilter",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"localEntryIDs",type:"[ID]",defaultValue:null},{kind:"LocalArgument",name:"maxThreadResults",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryGroups",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryPages",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryThreadName",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryParticipantIDs",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryParticipantNames",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryVCEndpoint",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryInternalBot",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryRoomsAudience",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldSkipQueryUsers",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"forGroup",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"threadFBID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"query",variableName:"queryString",type:"String!"}],c=[{kind:"Variable",name:"id",variableName:"threadFBID",type:"ID!"}],d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"Literal",name:"first",value:20,type:"Int"},f={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h=[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}],i={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:h},j={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},l={kind:"InlineFragment",type:"Page",selections:[g,i,j,k,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},m=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,l]}]}],n={kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},o={kind:"Literal",name:"first",value:10,type:"Int"};i=[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null},d]},{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},n,{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},i,g,j,k,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null},d]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[g,d]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[o],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}];j={kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"};h=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},g,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:h},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:250)",args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,g,{kind:"InlineFragment",type:"User",selections:[k,n]}]},d]}]}]},d]}]}];return{kind:"Request",operationKind:"query",name:"MessengerGraphQLTypeaheadViewQuery",id:"1524967787613895",text:null,metadata:{},fragment:{kind:"Fragment",name:"MessengerGraphQLTypeaheadViewQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:b,concreteType:"SearchableEntitiesQuery",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_profiles",args:null}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_roomAudience",args:null}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_groups",args:null}]}]}]},operation:{kind:"Operation",name:"MessengerGraphQLTypeaheadViewQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:b,concreteType:"SearchableEntitiesQuery",plural:!1,selections:[d,{kind:"Condition",passingValue:!0,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[e,{kind:"Literal",name:"internal_bot",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:m}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[e,{kind:"Literal",name:"vc_endpoint",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:m}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[{kind:"Literal",name:"first",value:5,type:"Int"},{kind:"Variable",name:"for_group",variableName:"forGroup",type:"Boolean"},{kind:"Literal",name:"include_games",value:!0,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"InlineFragment",type:"Application",selections:[g,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]},l]}]}]}]},{kind:"Condition",passingValue:!1,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"Literal",name:"context",value:"web_messenger_composer",type:"SearchContext"},e,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:!0,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:i}]}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[d,{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[o,{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:!0,selections:i}]}]}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[j,{kind:"Literal",name:"with_group",value:!0,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[j,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[j,{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:h}]}]},{kind:"LinkedHandle",alias:"groups",name:"viewer",args:null,handle:"viewer",key:"",filters:null}]}]}}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_groups.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};b=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},b,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:250)",args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_groups",type:"Viewer",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"maxThreadResults",type:"Int"},{kind:"RootArgument",name:"shouldQueryThreadName",type:"Boolean!"},{kind:"RootArgument",name:"localEntryIDs",type:"[ID]"},{kind:"RootArgument",name:"shouldQueryParticipantIDs",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryParticipantNames",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[a,{kind:"Literal",name:"with_group",value:!0,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[a,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[a,{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]}]}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_profiles.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"first",value:20,type:"Int"},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},e={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},g={kind:"InlineFragment",type:"Page",selections:[b,c,d,e,f,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},h=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_profiles",type:"SearchableEntitiesQuery",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"RootArgument",name:"shouldSkipQueryUsers",type:"Boolean!"},{kind:"RootArgument",name:"forGroup",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryPages",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryVCEndpoint",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryInternalBot",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[a,{kind:"Literal",name:"internal_bot",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[a,{kind:"Literal",name:"vc_endpoint",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[{kind:"Literal",name:"first",value:5,type:"Int"},{kind:"Variable",name:"for_group",variableName:"forGroup",type:"Boolean"},{kind:"Literal",name:"include_games",value:!0,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Application",selections:[b,c,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]},g]}]}]}]},{kind:"Condition",passingValue:!1,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"Literal",name:"context",value:"web_messenger_composer",type:"SearchContext"},a,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:!0,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},b,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},d,c,e,f,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]}]}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_roomAudience.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"first",value:10,type:"Int"},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerTypeaheadResultView_roomAudience",type:"MessageThread",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"shouldQueryRoomsAudience",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[a,{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},b,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},c,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[a],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]}]}}();e.exports=a}),null);
__d("RTCWebUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCallID=function(a){this.$1.call_id=a;return this};a.prototype.setCallType=function(a){this.$1.call_type=a;return this};a.prototype.setClientTime=function(a){this.$1.client_time=a;return this};a.prototype.setComponent=function(a){this.$1.component=a;return this};a.prototype.setConferenceName=function(a){this.$1.conference_name=a;return this};a.prototype.setConferenceState=function(a){this.$1.conference_state=a;return this};a.prototype.setErrorDomain=function(a){this.$1.error_domain=a;return this};a.prototype.setErrorType=function(a){this.$1.error_type=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};a.prototype.setMediaType=function(a){this.$1.media_type=a;return this};a.prototype.setPage=function(a){this.$1.page=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={call_id:!0,call_type:!0,client_time:!0,component:!0,conference_name:!0,conference_state:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,media_type:!0,page:!0,surface:!0,vc:!0};e.exports=a}),null);
__d("MessengerContactAdapters",["ImmutableObject","MercuryTypeaheadConstants","immutable"],(function(a,b,c,d,e,f){__p&&__p();a={fromSearchableEntry:function(a){var c=a.getType(),d={alias:null,isMessengerUser:null,isWorkUser:null,participants:null,photo:a.getPhoto(),subtitle:a.getSubtitle(),thread:null,title:a.getTitle(),type:c,uid:a.getUniqueID()};d.photo||(d.photo=null);var e=a.getAuxiliaryData();e&&(c===b("MercuryTypeaheadConstants").THREAD_TYPE?(d.thread=new(b("ImmutableObject"))(e.thread),d.participants=b("immutable").Map().withMutations(function(a){e.participantsToRender.forEach(function(b){a.set(b.id,b)})})):(d.isMessengerUser=e.isMessengerUser,d.isWorkUser=e.isWorkUser,d.alias=e.alias));return new(b("ImmutableObject"))(d)},fromMercuryParticipant:function(a){return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:a.name,subtitle:a.title?a.title:"",type:a.type,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isCoworker:a.is_coworker,href:a.href,timezone:a.timezone,workForeignEntityInfo:a.work_foreign_entity_info})}};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter",["MercuryIDs","MercuryParticipantTypes","MercuryTypeaheadConstants","RelayModern","SearchableEntry","WorkForeignEntityType","gkx","MessengerGraphQLTypeaheadAdapter_user.graphql","MessengerGraphQLTypeaheadAdapter_page.graphql","MessengerGraphQLTypeaheadAdapter_group.graphql","MessengerGraphQLTypeaheadAdapter_game.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;function g(a){return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function h(a){var b=a.scim_company_user&&a.scim_company_user.company_title;a=a.is_viewer_coworker?null:a.work_info&&a.work_info.work_community&&a.work_info.work_community.name;if(a&&b)return a+" \u2022 "+b;else if(a)return a;else if(b)return b;return null}function i(a){var c=null;a.members&&a.members.edges&&a.members.edges.length>0?c=a.members.edges.map(function(a){return a.node.name}).join(", "):a.is_work_user&&b("gkx")("AT4I1AK1uv1_8XMb1kbzNqTA0P1-tohzerR4R7W_VXtAcPmhbGk8Y-IwnNajcrCT21UUJtsPPphI0YWIVSZ2CJMi1DZeWJ5xWwIWGBrq7pGH7w")&&(c=h(a));return c}a={convertProfileToEntry:function(a){var c;if(!a||!a.id||!a.name)return null;var d=b("MercuryParticipantTypes").NON_FRIEND;c=a.is_viewer_coworker||((c=a.work_foreign_entity_info)!=null?c.type:c)===b("WorkForeignEntityType").NOT_FOREIGN;a.is_work_user&&c?d=b("MercuryParticipantTypes").FB4C:(a.is_viewer_friend||a.messenger_contact.is_on_viewer_contact_list||c&&a.viewer_affinity>0)&&(d=b("MercuryParticipantTypes").FRIEND);c=i(a);return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:d,subtitle:c,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMemorializedUser:a.is_memorialized,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,alias:a.username},order:-a.viewer_affinity})},convertPageToEntry:function(a,c){if(!a||!a.id||!a.name)return null;return a.instant_game_info?this.convertGameToEntry(a):new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:c,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,canViewerMessage:a.can_viewer_message,canViewerAddToGroupChat:a.can_viewer_add_to_group_chat},order:0})},convertGameToEntry:function(a,c){return!a||!a.id||!a.name||!a.instant_game_info?null:new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:b("MercuryTypeaheadConstants").GAME_TYPE,photo:a.instant_game_info&&a.instant_game_info.icon_uri,uri:a.instant_game_info&&a.instant_game_info.game_uri,order:0})},convertGroupToEntry:function(a,c){__p&&__p();if(!a||!a.thread_key||!a.is_group_thread)return null;var d=a.thread_key.thread_fbid;if(!d)return null;var e=a.image&&a.image.uri,f=a.other_participants.edges.map(function(a){return a.node.messaging_actor.name}).join(", "),h=a.name,i=null;!h?h=f:i=f;if(!h)return null;f={};f.thread={thread_id:d,other_user_fbid:null,image_src:e,participants:a.other_participants.edges.map(function(a){return g(a.node.messaging_actor.id)})};f.participantsToRender=a.other_participants.edges.map(function(a){return{id:g(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:d,order:c,photo:e,title:h,subtitle:i,type:b("MercuryParticipantTypes").THREAD,auxiliaryData:f})},userFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_user.graphql")},pageFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_page.graphql")},groupFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_group.graphql")},gameFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_game.graphql")}};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadHighlighter",["Keys","MercuryTypeaheadConstants","MessengerTypeaheadUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getNextHighlightedEntry:function(a,c,d,e){__p&&__p();var f=[];b("MessengerTypeaheadUtils").getEntryOrder(d).forEach(function(a){return f.push.apply(f,c.filter(function(c){return b("MessengerTypeaheadUtils").areSectionsEqual(c.getType(),a)}))});if(!e){if(f.length===0)return null;if(a===b("Keys").DOWN){d=f[0];return d.getType()===b("MercuryTypeaheadConstants").SEARCH_TYPE&&f.length>1?f[1]:d}return a===b("Keys").UP?f[f.length-1]:null}var g=e.getUniqueID();d=f.findIndex(function(a){return a.getUniqueID()===g});if(d===-1)return null;a===b("Keys").DOWN?(d+=1,d>=f.length&&(d=0)):a===b("Keys").UP&&(d-=1,d<0&&(d=f.length-1));return f[d]}};e.exports=a}),null);
__d("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2339215389425518"};c.getQueryID=function(){"use strict";return"339708329890231"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerNewGroupParticipantSuggestionLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){this.entriesPromise=null,this.orderedFriendEntries=null,this.alreadyParticipatingIDs=null,this.shouldRefetch=!1,this.cursor=null,this.threadFBID=a,this.alreadyParticipatingIDs=c,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}g.prototype.onEntriesLoaded=function(a){__p&&__p();if(this.orderedFriendEntries!==null&&!this.shouldRefetch){a(this.orderedFriendEntries);return}if(this.entriesPromise===null||this.shouldRefetch){var c=this.alreadyParticipatingIDs?this.alreadyParticipatingIDs.toArray():null;c=b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getURI({original_participant_ids:c,count:50});this.entriesPromise=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload().data}).then(function(a){var c=a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});this.callbackManager.addLocalEntries(c);this.orderedFriendEntries=c;c=(c=a)!=null?(c=c.viewer)!=null?(c=c.messenger_contextual_ranked_users)!=null?(c=c.page_info)!=null?c.has_next_page:c:c:c:c;c&&(this.cursor=a.viewer.messenger_contextual_ranked_users.page_info.end_cursor)}.bind(this))}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(this.orderedFriendEntries),this.loadMoreFriends(),this.shouldRefetch=!1}.bind(this),b("emptyFunction"))};g.prototype.loadMoreFriends=function(){if(this.cursor==null)return;var a=this.cursor;this.cursor=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){this.callbackManager.addLocalEntries(a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))}.bind(this))};g.prototype.search=function(a,b){this.onEntriesLoaded(function(){this.callbackManager.search(a,function(c){b(c,a)})}.bind(this))};g.prototype.participantsSame=function(a){return this.twoIDsListEquals(this.alreadyParticipatingIDs,a)};g.prototype.twoIDsListEquals=function(a,b){return a?b.size!==a.size?!1:b.isSuperset(a):b.size==0};g.prototype.setRefetchAndRefreshData=function(a){this.shouldRefetch=!0,this.alreadyParticipatingIDs=a};g.prototype.isBootstrapped=function(a){return this.orderedFriendEntries!==null&&this.participantsSame(a)};a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}a.prototype.onEntriesLoaded=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);!d?(d=new g(a,b),this.threadFBIDToCacheMap.set(a,d)):d.participantsSame(b)||d.setRefetchAndRefreshData(b);d.onEntriesLoaded(c)};a.prototype.search=function(a,b,c,d){var e=this.threadFBIDToCacheMap.get(a);!e?(e=new g(a,b),this.threadFBIDToCacheMap.set(a,e)):e.participantsSame(b)||e.setRefetchAndRefreshData(b);e.search(c,d)};a.prototype.isBootstrapped=function(a,b){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped(b):!1};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerPaymentFriendsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1959479940789272"};c.getQueryID=function(){"use strict";return"2171073576453933"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerPaymentFriendsLocalCache",["AsyncRequest","MessengerGraphQLTypeaheadAdapter","MessengerPaymentFriendsQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null;a=null;var j={onEntriesLoaded:function(c){__p&&__p();if(i){c(i);return}if(!h){var d=b("MessengerPaymentFriendsQueryWebGraphQLQuery").getURI({first:50});h=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(c){var d=c.data.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});g.addLocalEntries(d);i=d;a=c.data.viewer.all_friends.page_info.end_cursor})}b("promiseDone")(h,function(){c(i)},b("emptyFunction"))},search:function(a,b){j.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return i!==null}};e.exports=j}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2046569042080039"};c.getQueryID=function(){"use strict";return"2118248735074331"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerRoomWithAssocObjectAudienceLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerRoomWithAssocObjectAudienceWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){this.entriesPromise=null,this.audienceEntries=null,this.threadFBID=a,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}g.prototype.onEntriesLoaded=function(a){__p&&__p();if(this.audienceEntries!==null){a(this.audienceEntries,!0);return}if(this.entriesPromise===null){var c=b("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery").getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){a=a.data.message_thread.messaging_audience_list.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});this.callbackManager.addLocalEntries(a);this.audienceEntries=a}.bind(this))}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(this.audienceEntries,!0)}.bind(this),b("emptyFunction"))};g.prototype.search=function(a,b){this.onEntriesLoaded(function(){this.callbackManager.search(a,function(c){b(c,a)})}.bind(this))};g.prototype.isBootstrapped=function(){return this.audienceEntries!==null};a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}a.prototype.onEntriesLoaded=function(a,b){var c=this.threadFBIDToCacheMap.get(a);c||(c=new g(a),this.threadFBIDToCacheMap.set(a,c));c.onEntriesLoaded(b)};a.prototype.search=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);d||(d=new g(a),this.threadFBIDToCacheMap.set(a,d));d.search(b,c)};a.prototype.isBootstrapped=function(a){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped():!1};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1720594534660350"};c.getQueryID=function(){"use strict";return"1852062858177546"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1978892428852690"};c.getQueryID=function(){"use strict";return"127838424757019"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerTypeaheadLocalCache",["AsyncRequest","MessengerConfig","MessengerFriendsWebGraphQLQuery","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","TopMessengerFriendsAndGroupsWebGraphQLQuery","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null,j=null,k=null;function l(){if(b("MessengerConfig").BootstrapTypeaheadFromBuddylist||!j)return;var a=j;j=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerFriendsWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){g.addLocalEntries(a.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})}var m={onEntriesLoaded:function(a){__p&&__p();if(h!==null&&i!==null){a(h,i,!1);return}if(k===null){var c=b("MessengerConfig").BootstrapTypeaheadFromBuddylist,d=b("TopMessengerFriendsAndGroupsWebGraphQLQuery").getLegacyURI({use_buddylist:c,first:100});k=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){__p&&__p();var d=(c?a.viewer.chat_buddylist:a.viewer.all_friends.edges).map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(c?a.represented_profile:a.node)}).filter(function(a){if(a===null)return!1;a=a.getAuxiliaryData();a=a&&a.isMemorializedUser;return!a}),e=a.viewer.message_threads.edges.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}).filter(function(a){return a!==null});g.addLocalEntries(d);g.addLocalEntries(e);h=d;i=e;a.viewer.all_friends&&a.viewer.all_friends.page_info&&a.viewer.all_friends.page_info.has_next_page&&(j=a.viewer.all_friends.page_info.end_cursor)})}b("promiseDone")(k,function(){a(h,i,!0),l()},function(a){throw a})},search:function(a,b){m.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return h!==null&&i!==null}};e.exports=m}),null);
__d("MessengerMenu.react",["cx","Keys","MenuSeparator.react","ReactXUIMenu","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function a(a){a.isReactLegacyFactory={},a.type=a}d=babelHelpers.inherits(c,b("ReactXUIMenu"));h=d&&d.prototype;function c(a){var c=a.className;a=babelHelpers.objectWithoutProperties(a,["className"]);h.constructor.call(this,babelHelpers["extends"]({className:b("joinClasses")(c,"_2i-c _150g")},a))}c.prototype.handleKeydown=function(a,c){return a===b("Keys").DOWN||a===b("Keys").UP||a===b("Keys").SPACE?h.handleKeydown.call(this,a,c):!0};a(c);c.Item=b("ReactXUIMenu").Item;c.Separator=b("MenuSeparator.react");e.exports=c}),null);
__d("MessengerPopoverMenu.react",["cx","ContextualDialogArrow","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","PopoverMenu.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.showPopover=function(){this.refs.menu&&this.refs.menu.showPopover()};a.prototype.render=function(){var a=this.props,c=a.children,d=a.className,e=a.isOpen;a=babelHelpers.objectWithoutProperties(a,["children","className","isOpen"]);c=b("React").Children.only(c);return b("React").createElement(b("PopoverMenu.react"),babelHelpers["extends"]({className:b("joinClasses")(d,!a.disableArrowKeyActivation||e?"_150g":""),enableActivationOnEnter:!0,layerBehaviors:[b("ContextualLayerAutoFlip"),b("ContextualLayerUpdateOnScroll"),b("ContextualDialogArrow")]},a,{ref:"menu"}),c)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("XSettingsEmployeeBetaController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/employee/beta_mode/",{enabled:{type:"Bool",defaultValue:!1}})}),null);
__d("MessengerBugNub.react",["cx","fbt","ix","AsyncRequest","CurrentUser","Image.react","Link.react","MessengerEnvironment","MessengerMenu.react","MessengerPopoverMenu.react","React","Tooltip","URI","WorkModeConfig","XSettingsEmployeeBetaController","gkx","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=i("86836"),l=i("86835"),m=i("86837");c=b("React").PropTypes;var n=b("MessengerMenu.react").Item,o=b("MessengerMenu.react").Separator,p=h._("Report a bug");j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.render=function(){return b("CurrentUser").isEmployee()?b("React").createElement("div",{className:"_4_xe"+(b("gkx")("AT5ad75lfUu_LEQloT_GHl5l4DgqBru4g1KtvnZgqgchaE21iYmpzSvKrpk6THSFyobb17PT_X_4ySOjfDebuqUc")?" _2jqn":"")},this.$1(),b("React").createElement(b("Link.react"),babelHelpers["extends"]({"aria-label":p,href:"#",ajaxify:"/ajax/bugs/employee_report",className:"_1fr8",rel:"dialog"},b("Tooltip").propsFor(p)),b("React").createElement("div",{className:"_1gng"},b("React").createElement(b("Image.react"),{src:k})))):null};a.prototype.$1=function(){var a=this.props.isBetaEnabled?l:m,c=h._("Internal preferences");return b("React").createElement(b("MessengerPopoverMenu.react"),babelHelpers["extends"]({className:"_1fr8",menu:this.$2()},b("Tooltip").propsFor(c)),b("React").createElement(b("Link.react"),{"aria-haspopup":"true","aria-label":c,className:"_1gng",href:"#",role:"button"},b("React").createElement(b("Image.react"),{src:a})))};a.prototype.$2=function(){__p&&__p();var a=null;if(this.props.unixName){var c=this.props.unixName+".sb";a=b("React").createElement(n,{label:"Sandbox",onclick:function(){return this.$3(c)}.bind(this)})}return b("React").createElement(b("MessengerMenu.react"),null,b("React").createElement(n,{label:"Public",onclick:function(){return this.$4(!1)}.bind(this)}),b("React").createElement(n,{label:"Beta",onclick:function(){return this.$4(!0)}.bind(this)}),b("React").createElement(o,null),b("React").createElement(n,{label:"C1 (trunkstable)",onclick:function(){return this.$3()}.bind(this)}),b("React").createElement(n,{label:"Intern",onclick:function(){return this.$3("intern")}.bind(this)}),b("React").createElement(n,{label:"Production",onclick:function(){return this.$3("prod")}.bind(this)}),a)};a.prototype.$4=function(a){var c=b("XSettingsEmployeeBetaController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({enabled:a}).setMethod("POST").setAllowCrossPageTransition(!0).send()};a.prototype.$3=function(a){var c=b("MessengerEnvironment").facebookdotcom?".facebook.com":".messenger.com",d=b("WorkModeConfig").company_subdomain;d=d?d:"www";d=d+(a?"."+a:"")+c;b("goURI")(b("URI").getRequestURI().getQualifiedURI().setDomain(d))};function a(){j.apply(this,arguments)}a.propTypes={isBetaEnabled:c.bool,unixName:c.string};e.exports=a}),null);
__d("BadgeReact.bs",["Badge.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("Badge.react"),{size:b("bs_js_null_undefined").fromOption(a),type:b("bs_js_null_undefined").fromOption(c)},d)}f.make=a}),null);
__d("ImageBlockReact.bs",["ReasonReact.bs","ImageBlock.react","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("ImageBlock.react"),{className:b("bs_js_null_undefined").fromOption(a),contentClassName:b("bs_js_null_undefined").fromOption(c),imageClassName:b("bs_js_null_undefined").fromOption(d),spacing:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("MessengerProfileImageWrapperReact.bs",["cx","fbt","cssVar","React","CurrentUser","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","MessagingThreadType","getViewportDimensions"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReasonReact.bs").statelessComponent("MessengerProfileImageWrapperReact");function k(a,c,d,e,f,g,i,k,l,m,n,o){__p&&__p();var p=m?m[0]:"",q=function(){__p&&__p();if(c)return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon _67in"},c[0]));else{var a;if(d||e||l)a=1;else return null;if(a===1)if(n)if(e)if(b("CurrentUser").isWorkUser())return null;else{a=e[0];return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _1zvi":"")+(a?"":" _2poo")}))}else if(l)if(b("CurrentUser").isWorkUser()){a=l[0];var f=k?k[0]>45:!1,g=b("CurrentUser").isEmployee();g=g?"Multi company chat (or employee personal account)":h._("Multi company chat");return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").cloneElement(b("React").createElement("div",{className:(a&&!f?"_4rwy":"")+(a&&f?" _2zb5":"")}),b("TooltipData").propsFor(g,"right")))}else return null;else if(b("CurrentUser").isWorkUser())return null;else{a=d[0];return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _2poo":"")+(a?"":" _2pop")}))}else return null}};return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(){__p&&__p();var c=k?""+(String(k[0])+"px"):"auto",d=g?g[0]===b("MessagingThreadType").ROOM:!1,e;if(i){var h=i[0];if(h==="")e={};else{var j=b("getViewportDimensions")().width,l=parseInt("700px".replace("px",""),10);j=j<=l;l=j?"above":"left";e=Object.assign({},b("TooltipData").propsFor(h,l))}}else e={};j=d?{background:f?f[0]:"#0084ff",height:c,width:c}:{height:c,width:c};h={className:b("joinClasses")("_4ldz",p),style:{height:c,width:c}};a&&(h["aria-hidden"]=a[0]);return b("React").cloneElement(b("React").createElement("div",h,b("ReasonReact.bs").createDomElement("div",{className:"_4ld-"+(d?" _180i":""),style:j},o),q(0)),e)},j[9],j[10],j[11],j[12]]}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){var c=a.className;return k(b("bs_js_primitive").null_undefined_to_opt(a.ariaHidden),b("bs_js_primitive").null_undefined_to_opt(a.customBadge),b("bs_js_primitive").null_undefined_to_opt(a.isMessengerUser),0,b("bs_js_primitive").null_undefined_to_opt(a.threadColor),b("bs_js_primitive").null_undefined_to_opt(a.threadType),b("bs_js_primitive").null_undefined_to_opt(a.tooltipContent),b("bs_js_primitive").null_undefined_to_opt(a.size),[a.isMultiCompany],[c==null?"":c],a.showBadge,[].concat(a.children))});f.component=j;f.make=k;f.jsComponent=a}),null);
__d("MessengerContactImageReact.bs",["React","Utils.bs","ImageReact.bs","CurrentUser","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined","WorkForeignEntityType","MessengerContactImage.react","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MessengerContactImageReact");function h(a,c,d,e,f,h,i,j){return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){var g=b("CurrentUser").isWorkUser();g=g&&i?i[0].type===b("WorkForeignEntityType").FOREIGN:!1;return b("React").createElement("div",{className:b("Utils.bs").$pipe$unknown(a,"")},b("ReasonReact.bs").element(0,0,b("MessengerProfileImageWrapperReact.bs").make([!0],c,d,e,0,0,0,[f],[g],0,g,[b("ReasonReact.bs").element(0,0,b("ImageReact.bs").make(0,[""],0,0,h,[f],0,[f],0,[]))])))},g[9],g[10],g[11],g[12]]}c=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(b("bs_js_primitive").null_undefined_to_opt(a.className),b("bs_js_primitive").null_undefined_to_opt(a.customBadge),b("bs_js_primitive").null_undefined_to_opt(a.isMessengerUser),b("bs_js_primitive").null_undefined_to_opt(a.isPartiesUser),a.size,b("bs_js_primitive").null_undefined_to_opt(a.src),b("bs_js_primitive").null_undefined_to_opt(a.workForeignEntityInfo),[])});function a(a,c,d,e,f,g,h,i){return b("ReasonReact.bs").wrapJsForReason(b("MessengerContactImage.react"),{className:b("bs_js_null_undefined").fromOption(a),customBadge:b("bs_js_null_undefined").fromOption(c),isMessengerUser:b("bs_js_null_undefined").fromOption(d),isPartiesUser:b("bs_js_null_undefined").fromOption(e),size:f,src:b("bs_js_null_undefined").fromOption(g),workForeignEntityInfo:b("bs_js_null_undefined").fromOption(h)},i)}d=[a];e=b("Utils.bs").$pipe$unknown;f.$pipe$unknown=e;f.component=g;f.make=h;f.jsComponent=c;f.StraightJSComponent=d}),null);
__d("MercuryThreadTimestampReact.bs",["React","formatDate","ReasonReact.bs","joinClasses","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MercuryThreadTimestampReact");function h(a,c,d,e,f){var h=e?e[0]:"";return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){if(a){var e=a[0],f=new Date(e),g=c?c[0]:f.toLocaleDateString();f=d?d[0]:b("formatDate")(f,"g:ia");return b("React").cloneElement(b("React").createElement("abbr",{className:b("joinClasses")(h,"timestamp"),title:g},f),{"data-utime":e/1e3})}else return b("React").createElement("abbr",undefined)},g[9],g[10],g[11],g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(b("bs_js_primitive").null_undefined_to_opt(a.time),b("bs_js_primitive").null_undefined_to_opt(a.title),b("bs_js_primitive").null_undefined_to_opt(a.text),[a.className],[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MessengerLocalTimeReact.bs",["cx","fbt","React","ReasonReact.bs","joinClasses","MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("RMessengerLocalTimeReact");function a(a,c,d){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();if(c){var d=c[0]-new Date().getTimezoneOffset()*-60;if(d===0)return null;else{d=new Date(Date.now()+d*1e3);var e=d.getHours();e=e<6||e>22;var f=b("joinClasses")("_10rk",a);return b("React").createElement("span",{className:f},b("React").createElement("span",{className:e?"_2f3x":""},"(",b("ReasonReact.bs").element(0,0,b("MercuryThreadTimestampReact.bs").make([d.getTime()],0,0,0,[]))," ",h._("local time"),")"))}}else return null},i[9],i[10],i[11],i[12]]}c=22;d=6;f.component=i;f.nightStartHour=c;f.nightEndHour=d;f.make=a}),null);
__d("MessengerTextWithEntitiesReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerTextWithEntities.react"),{renderEmoji:b("bs_js_null_undefined").fromOption(a),renderEmoticons:b("bs_js_null_undefined").fromOption(c),text:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a}),null);
__d("MercuryParticipantsImage.react",["MessengerParticipants.bs","React","SplitImage.react","areEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"MercuryParticipantsImage",_bigImageToken:null,propTypes:{className:a.string,participants:a.array.isRequired,partiesProfileImages:a.arrayOf(a.string),size:a.number},getInitialState:function(){return{participantImages:[]}},componentDidMount:function(){this._getParticipantImages(this.props)},UNSAFE_componentWillReceiveProps:function(a){this._getParticipantImages(a)},componentWillUnmount:function(){this._bigImageToken&&this._bigImageToken.remove()},shouldComponentUpdate:function(a,c){return a.size!==this.props.size||!b("areEqual")(c.participantImages,this.state.participantImages)},render:function(){return this.state.participantImages.length>0?b("React").createElement(b("SplitImage.react"),{border:!0,className:this.props.className,srcs:this.state.participantImages,size:Number(this.props.size)}):null},_getParticipantImages:function(a){this._bigImageToken&&this._bigImageToken.remove(),!a.participants||!a.participants.length?this.setState({participantImages:[]}):this._bigImageToken=b("MessengerParticipants.bs").getOrderedBigImageMulti(a.participants,function(b){a.partiesProfileImages&&(b=b.concat(a.partiesProfileImages)),this.isMounted()&&this.setState({participantImages:b})}.bind(this))}});e.exports=c}),null);
__d("MercuryThreadImage.react",["cx","ImmutableObject","MercuryIDs","MercuryParticipantsConstants","MercuryParticipantsImage.react","MessagingThreadType","Pixelz.react","React","areEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldComponentUpdate=function(a,c){return a.thread.image_src!==this.props.thread.image_src||!b("areEqual")(a.thread.participants,this.props.thread.participants)||a.size!==this.props.size||a.viewer!==this.props.viewer||a.useBackground!==this.props.useBackground};a.prototype.render=function(){__p&&__p();var a=this.props.thread,c=this.props.size||b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,d=a.image_src;if(d)return this.props.useBackground?b("React").createElement("div",{style:{height:c,backgroundImage:"url("+d+")",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:c}}):b("React").createElement(b("Pixelz.react"),{alt:"",height:c,resizeMode:"cover",src:d,width:c});if(a.thread_type===b("MessagingThreadType").ROOM){d={height:c+"px",width:c+"px"};a.solid_color&&(d.background=a.solid_color);return b("React").createElement("span",{className:"_asv _asw",style:d},a.name[0])}d=b("MercuryIDs").isCanonical(a.thread_id);var e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=[];a.participants&&(a.participants.length===1&&a.participants[0]===e?f=[].concat(a.participants):(f=a.participants.filter(function(a){return a!==e}),d||(f=f.slice(0,3))));return b("React").createElement(b("MercuryParticipantsImage.react"),{className:this.props.className,participants:f,size:c})};function a(){h.apply(this,arguments)}a.propTypes={thread:c.instanceOf(b("ImmutableObject")).isRequired,viewer:c.string.isRequired,size:c.number,useBackground:c.bool,className:c.string};e.exports=a}),null);
__d("MercuryThreadImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","MercuryThreadImage.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MercuryThreadImage.react"),{size:b("bs_js_null_undefined").fromOption(a),thread:c,useBackground:b("bs_js_null_undefined").fromOption(d),viewer:e},f)}f.make=a}),null);
__d("OptionType.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){if(a)if(c)return b("bs_curry")._2(d,a[0],c[0]);else return!1;else if(c)return!1;else return!0}function c(a,b){if(a)if(b)return a[0]===b[0];else return!1;else if(b)return!1;else return!0}f.equals=a;f.equalsReference=c}),null);
__d("MessengerThreadImageReact.bs",["cx","React","Utils.bs","MercuryIDs","OptionType.bs","CurrentUser","ReasonReact.bs","bs_js_primitive","WorkForeignEntityType","MercuryThreadImageReact.bs","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c){__p&&__p();var d=a.other_user_fbid,e=c.size;a=b("MercuryIDs").isCanonical(a.thread_id);if(d==null||!(a&&e!==0))return!1;else{a=b("MercuryIDs").getParticipantIDFromUserID(d);e=c.get(a);if(!(e==null)&&!(e==null))return e.is_messenger_user;else return!1}}function i(a){__p&&__p();if(b("CurrentUser").isWorkUser())return a.every(function(a,c,d){if(a==null)return!0;else{c=a.work_foreign_entity_info;if(c==null)return!0;else return c.type===b("WorkForeignEntityType").NOT_FOREIGN}});else return!1}var j=b("ReasonReact.bs").statelessComponentWithRetainedProps("MessengerThreadImageReact");function k(a,c,d,e,f,g,k,l,m){__p&&__p();var n=c?c[0]:!1,o=d?d[0]:!1,p=e?e[0]:!1;return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],function(a){var c=a[1][2];a=a[0][2];if(a[0]!==c[0]||a[3]!==c[3]||!b("OptionType.bs").equalsReference(a[4],c[4])||a[5]!==c[5]||a[1]!==c[1]||a[2]!==c[2]||a[6]!==c[6])return!0;else return a[7]!==c[7]},function(){var c=!i(g),d=c?0:o?[b("React").createElement("div",{className:"_466z"})]:n?[b("React").createElement("div",{className:"_4670"})]:0,e={};a&&(e.className=a[0]);return b("React").createElement("div",e,b("ReasonReact.bs").element(0,0,b("MessengerProfileImageWrapperReact.bs").make(0,d,[h(k,g)],0,b("bs_js_primitive").null_undefined_to_opt(k.solid_color),b("bs_js_primitive").null_undefined_to_opt(k.thread_type),0,f,[c],0,p&&b("MercuryIDs").isCanonical(k.thread_id)||c,[b("ReasonReact.bs").element(0,0,b("MercuryThreadImageReact.bs").make(f,k,[!0],l,[]))])))},j[9],[a,n,o,p,f,h(k,g),k,l],j[11],j[12]]}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(b("bs_js_primitive").null_undefined_to_opt(a.className),[b("Utils.bs").isTruthy(a.isPresenceForWork)],[b("Utils.bs").isTruthy(a.isDoNotDisturb)],[b("Utils.bs").isTruthy(a.showBadge)],b("bs_js_primitive").null_undefined_to_opt(a.size),a.participants,a.thread,a.viewer,[])});f.getIsMessengerUser=h;f.areAllCoworkers=i;f.component=j;f.make=k;f.jsComponent=a}),null);
__d("MessengerContactListRowReact.bs",["cx","ix","fbt","FBID.bs","bs_block","bs_curry","React","Utils.bs","LinkReact.bs","BadgeReact.bs","bs_belt_Array","ImageReact.bs","MercuryIDs","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","PresenceStatus","ImageBlockReact.bs","bs_js_null_undefined","WorkForeignEntityType","AvailableListConstants","MercuryParticipantTypes","MessengerContactActions.bs","MessengerLocalTimeReact.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerContactImageReact.bs","MessengerTextWithEntitiesReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,b){if(a)return a[0].contains(b);else return!1}function k(a,c,d){var e=d.thread,f=d.participants,g=d.type===b("MercuryParticipantTypes").THREAD,h=d.photo,i,j,k;c?f==null||!g?i=1:(j=c[0],k=f,i=2):e==null||f==null||!g?i=1:(j=e,k=f,i=2);switch(i){case 1:if(h==null)return b("React").createElement("div",{className:"_5l39"});else return b("ReasonReact.bs").element(0,0,b("MessengerContactImageReact.bs").make(["_5l39 _5rmm"],0,b("bs_js_primitive").null_undefined_to_opt(d.isMessengerUser),0,32,[h],b("bs_js_primitive").null_undefined_to_opt(d.workForeignEntityInfo),[]));case 2:return b("ReasonReact.bs").element(0,0,b("MessengerThreadImageReact.bs").make(["_5l39"],0,0,0,[32],k,j,a,[]))}}function l(a){var c=a.type===b("MercuryParticipantTypes").PAGE;a=a.workForeignEntityInfo;a=a==null?!1:a.type===b("WorkForeignEntityType").NOT_FOREIGN;if(c&&a)return b("ReasonReact.bs").element(0,0,b("BadgeReact.bs").make(["medium"],["bot"],[]));else return null}function m(a){var c=a.subtitle,d;if(c==null||c==="")d=1;else return b("React").createElement("div",undefined,b("React").createElement("div",{className:"_3q34"},b("ReasonReact.bs").element(0,0,b("MessengerTextWithEntitiesReact.bs").make([!0],[!0],[a.title],[])),l(a)),b("React").createElement("div",{className:"_3q35"},c));if(d===1)return b("React").createElement("div",{className:"_364g"},a.title,b("ReasonReact.bs").element(0,0,b("MessengerLocalTimeReact.bs").make("_5ywd",b("bs_js_primitive").null_undefined_to_opt(a.timezone),[])),l(a))}function n(a,c){var d=c.type;if(a&&a[0]&&!(d==null||!(d===b("MercuryParticipantTypes").FRIEND||d===b("MercuryParticipantTypes").USER))){a=b("MercuryIDs").getUserIDFromParticipantID(c.uid);if(a==null)return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE}else return!1}var o=b("React").createElement("span",{className:"_5rh4"},i._("Added")),p=b("React").createElement("span",{className:"_5rh4"},i._("Invited")),q=b("ReasonReact.bs").element(0,0,b("ImageReact.bs").make(["_1kqm"],0,0,0,[h("86852")],0,0,0,0,[]));function r(a,b){b[1][2][0]=a==null?0:[a];return 0}function s(a){__p&&__p();a=a[1];var c=a[4],d=a[5],e=a[2][0];if(c&&c[0]&&d&&e){c=e[0];b("bs_curry")._1(d[0],c);e=a[6];if(e)return b("bs_curry")._1(e[0],c);else return 0}else return 0}function t(a){__p&&__p();var c=a[1],d=c[1][4];a=a[0][1][5];var e=c[1][2][0];if(d&&d[0]&&a&&e){d=e[0];b("bs_curry")._1(a[0],d);e=c[1][6];if(e)return b("bs_curry")._1(e[0],d);else return 0}else return 0}function a(){__p&&__p();var a=b("ReasonReact.bs").reducerComponent("MessengerContactListRowReact"),c=function(c,d,e,f,g,h,l,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J){__p&&__p();var K=C?C[0]:"",L=function(a){if(h)return 0;else{a.stopPropagation();a.preventDefault();return 0}},M=function(a,c){if(a===b("MessengerContactActions.bs").actions.SELECT)if(f)return b("bs_curry")._2(f[0],d,c);else return 0;else if(g)return b("bs_curry")._2(g[0],a,d);else return 0},N=function(){var a=b("Utils.bs").isSomeTrue(w);if(a&&e)return b("bs_curry")._1(e[0],d);else return 0},O=function(a){a.stopPropagation();return M(b("MessengerContactActions.bs").actions.SELECT,a)},P=function(a){__p&&__p();var c=a[3];a=a[1];if(D){var d=D[0].get(a[0].uid);d=d==null?[null,!0]:[d,!0]}else d=[null,!1];if(j(B,a[0].uid))return o;else if(j(x,a[0].uid))return p;else if(j(E,a[0].uid))return q;else if(d[1])return d[0];else if(n(F,a[0]))return b("React").createElement("div",{className:"_jg2"});else{d=b("bs_js_null_undefined").fromOption(l);var e=a[0].thread;e=G?b("MessengerAdminGroupUtils").isAdminRequired(G[0]):e==null?!1:b("MessengerAdminGroupUtils").isAdminRequired(e);var f=a[0].thread,g,k=0,m;G?(m=G[0],k=1):f==null?g=!1:(m=f,k=1);if(k===1){f=b("MercuryIDs").isValid(a[0].uid);k=f?b("bs_js_primitive").null_undefined_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a[0].uid)):b("FBID.bs").ofString(a[0].uid);f=k?b("MessengerAdminGroupUtils").isAdmin(d,k[0]):!1;g=b("MessengerAdminGroupUtils").isOwner(f,m)}k=g?b("React").createElement("span",{className:"_5qsj"},i._("Admin")):null;if(h)return b("React").createElement("div",undefined,k,b("React").createElement(h[0],{className:"_rwo",adminIds:d,contact:a[0],extrasEnabled:v,isAdminRequired:e,isOpen:a[1],onAction:M,onToggle:function(a){return b("bs_curry")._1(c,[a])},viewer:I}));else return k}};return[a[0],a[1],a[2],function(a){var e=d===a[3];if(e)return a;else return[b("bs_curry")._1(c,d),a[1],a[2],d,a[4],a[5],a[6]]},s,t,a[6],a[7],function(a){var c=a[1],d=b("joinClasses")(K,"_5l37"+(b("Utils.bs").optionBoolToBool(y)?" _1k1p":"")+(c[1]?" _rwn":"")),e=h?-1:0,f=H?b("TooltipData").propsFor(H[0],"left"):{},g=y?[!y[0]]:0;g=b("ReasonReact.bs").element(0,0,b("LinkReact.bs").make(0,g,0,["_5f0v"],0,0,0,0,0,0,0,[O],[L],[N],0,0,[e],0,0,b("ReasonReact.bs").element(0,0,b("ImageBlockReact.bs").make(0,["_5l38"],0,["medium"],[k(I,G,c[0]),m(c[0]),P(a)]))));e=b("Utils.bs").isSomeTrue(u);if(e)return b("React").createElement("li",{ref:b("bs_curry")._1(a[0],r),className:d},g);else return b("React").cloneElement(b("React").createElement("li",{ref:b("bs_curry")._1(a[0],r),className:d,role:"option"}),f,g)},function(){return[b("bs_curry")._1(c,d),!1,[0],d,y,A,z]},a[10],function(a,c){return b("bs_block").__(0,[[c[0],a[0],c[2],c[3],c[4],c[5],c[6]]])},a[12]]},d=b("ReasonReact.bs").wrapReasonForJs(a,function(a){var d=a.adminIds;return c(a.contactAdapter,a.rawContact,b("bs_js_primitive").null_undefined_to_opt(a.onHighlight),b("bs_js_primitive").null_undefined_to_opt(a.onSelect),b("bs_js_primitive").null_undefined_to_opt(a.onAction),b("bs_js_primitive").null_undefined_to_opt(a.actionsClass),d==null?0:[b("bs_belt_Array").keepMap(d,function(a){if(a==null)return 0;else return[a]})],b("bs_js_primitive").null_undefined_to_opt(a.disableRole),a.extraActionsEnabled,b("bs_js_primitive").null_undefined_to_opt(a.hasHoverState),b("bs_js_primitive").null_undefined_to_opt(a.invitedEntryIDs),b("bs_js_primitive").null_undefined_to_opt(a.isHighlighted),b("bs_js_primitive").null_undefined_to_opt(a.onRenderHighlight),b("bs_js_primitive").null_undefined_to_opt(a.onScrollIntoView),b("bs_js_primitive").null_undefined_to_opt(a.originalEntryIDs),b("bs_js_primitive").null_undefined_to_opt(a.rowClassName),b("bs_js_primitive").null_undefined_to_opt(a.rowElements),b("bs_js_primitive").null_undefined_to_opt(a.selectedEntryIDs),b("bs_js_primitive").null_undefined_to_opt(a.showPresence),b("bs_js_primitive").null_undefined_to_opt(a.thread),b("bs_js_primitive").null_undefined_to_opt(a.tooltipContent),a.viewer,[])});return[d,c]}c=32;f.imageSize=c;f.idsContain=j;f.renderContactImage=k;f.renderBotBadge=l;f.renderContactText=m;f.getPresenceStatus=n;f.isOriginal=o;f.isInvited=p;f.isSelected=q;f.setThisRef=r;f.didMount=s;f.didUpdate=t;f.createMake=a}),null);
__d("MessengerContactList.react",["cx","fbt","MessengerContactListRowReact.bs","ImageBlock.react","ImmutableObject","MessengerSpinner.react","React","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("MessengerContactListRowReact.bs").createMake();var j=c[0];c[1];d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").PureComponent);i=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){return b("React").createElement("div",{key:c,className:"_29hk"},this.$4(c),b("React").createElement("ul",{id:this.props.controlleeID,role:this.props.disableRole?undefined:"listbox",className:"_29hl"},a.map(function(a,c){c=c===0?b("joinClasses")(this.props.rowClassName,"_3h3c"):this.props.rowClassName;return b("React").createElement(j,{actionsClass:this.props.actionsClass,adminIds:this.props.adminIds,contactAdapter:this.props.contactAdapter,disableRole:this.props.disableRole,extraActionsEnabled:!!this.props.extraActionsEnabled,hasHoverState:this.props.hasHoverState,invitedEntryIDs:this.props.invitedEntryIDs,isHighlighted:this.props.highlightedEntry&&this.props.highlightedEntry.getUniqueID()===a.getUniqueID(),key:a.id||a.getUniqueID(),onAction:this.props.onAction,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,rawContact:a,rowClassName:c,rowElements:this.props.rowElements,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:this.props.showPresence,thread:this.props.thread,tooltipContent:a.getAuxiliaryData&&a.getAuxiliaryData().tooltipContent,viewer:this.props.viewer})}.bind(this))))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},this.props.listSections.map(this.$1).toArray(),this.$2(),this.$3())};a.prototype.$4=function(a){return!a?null:b("React").createElement("div",{className:"_225b"},a)};a.prototype.$2=function(){return!this.props.isLoading?null:b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")))};a.prototype.$3=function(){return this.props.isLoading||this.props.listSections.size>0||!this.props.queryString||this.props.queryString.length===0?null:b("React").createElement("div",{className:"_3xcx"},h._("No results found"))};a.propTypes={actionsClass:d.func,adminIds:d.arrayOf(d.string),controlleeID:d.string,contactAdapter:d.func.isRequired,disableRole:d.bool,extraActionsEnabled:d.bool,hasHoverState:d.bool,highlightedEntry:d.object,invitedEntryIDs:d.instanceOf(b("immutable").Set),isLoading:d.bool,listSections:d.instanceOf(b("immutable").OrderedMap).isRequired,onAction:d.func,onHighlight:d.func,onRenderHighlight:d.func,onScrollIntoView:d.func,onSelect:d.func,originalEntryIDs:d.instanceOf(b("immutable").Set),queryString:d.string,rowClassName:d.string,rowElements:d.instanceOf(b("immutable").Map),selectedEntryIDs:d.instanceOf(b("immutable").Set),showPresence:d.bool,thread:d.instanceOf(b("ImmutableObject")),viewer:d.string.isRequired};e.exports=a}),null);
__d("MessengerGroupSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1772876636104263"};c.getQueryID=function(){"use strict";return"384655052049205"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerPageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1845120475519439"};c.getQueryID=function(){"use strict";return"2072470239447453"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerProfileSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1359242427508623"};c.getQueryID=function(){"use strict";return"181741955822342"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1673763939360162"};c.getQueryID=function(){"use strict";return"589934194709431"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerSearchWebGraphQLFetcher",["Promise","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerGraphQLTypeaheadAdapter","MessengerGroupSearchResultsQueryWebGraphQLQuery","MessengerPageSearchResultsQueryWebGraphQLQuery","MessengerPagesSearchSettings","MessengerProfileSearchResultsQueryWebGraphQLQuery","MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery","PromiseUtil","WebGraphQL","compactArray"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:b("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,h=3;function a(a){"use strict";this.$1=[],this.$2=0,this.$3=0,this.$4=0,this.$1=[],this.$2=0,this.$3=0,this.$4=0,this.$5=a}a.prototype.fetchEntries=function(a,c,d,e,f){"use strict";__p&&__p();var g=[],h=[],i=[];c.forEach(function(c){switch(c){case"users":c=Math.floor(Math.random()*65536);g.push(new(b("MessengerProfileSearchResultsQueryWebGraphQLQuery"))({search_query:a,result_limit:d.userLimit,can_viewer_send_money:d.canViewerSendMoneyFilter,session:c.toString(),exclude_ids:d.localEntryIDs}));break;case"groups":g.push(new(b("MessengerGroupSearchResultsQueryWebGraphQLQuery"))({search_query:a,result_limit:d.groupLimit,exclude_ids:d.localEntryIDs}));break;case"pages":h.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:a,result_limit:d.pageLimit,messenger_commerce:!0,include_games:!0,internal_bot:!1,vc_endpoint:!1}));break;case"rooms":d.threadFBID!=null&&i.push(new(b("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"))({search_query:a,result_limit:d.userLimit,thread_fbid:d.threadFBID}))}});if(h.length>0){this.$3=0;c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(h))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return this.$6(b,a,e)}.bind(this),function(b){return this.$7(b,a,f)}.bind(this))()}if(g.length>0){this.$2=0;c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(g))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){this.$8(b,a,e)}.bind(this),function(b){return this.$9(b,a,f)}.bind(this))()}if(i.length>0){this.$4=0;c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(g))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){this.$10(b,a,e)}.bind(this),function(b){return this.$11(b,a,f)}.bind(this))()}};a.prototype.$10=function(a,c,d){if(this.$5()!==c)return;a=(c=a)!=null?(c=c.message_thread)!=null?(c=c.messaging_audience_list)!=null?c.nodes:c:c:c;if(a){c=a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a)});d(b("compactArray")(c),"rooms")}};a.prototype.$8=function(a,c,d){"use strict";__p&&__p();if(this.$5()!==c)return;c=[];var e=[];for(var a=a,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;h=(h=h)!=null?(h=h.entities_named)!=null?(h=h.search_results)!=null?h.edges:h:h:h;h=h&&h.map(function(a,b){return a.node});h&&h.length>0&&h[0]&&(h[0].is_group_thread!=null?c=h.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a,c)}):h[0].is_messenger_user!=null&&(e=h.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a)}),e=this.$12(b("compactArray")(e))))}d(b("compactArray")(e.concat(c)),"usersGroups")};a.prototype.$12=function(a){"use strict";__p&&__p();var c=[],d=[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=a.length)break;h=a[f++]}else{f=a.next();if(f.done)break;h=f.value}h=h;if(!h)continue;h.getType()===b("MercuryParticipantTypes").FRIEND&&c.length<b("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX?c.push(h):h.getType()===b("MercuryParticipantTypes").NON_FRIEND&&d.length<g&&d.push(h)}return c.concat(d)};a.prototype.$6=function(a,c,d){if(this.$5()!==c)return;a=(c=a[0])!=null?(c=c.entities_named)!=null?(c=c.search_results)!=null?c.edges:c:c:c;a=a?a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").PAGE_TYPE)}):[];c=a.slice(0,b("MessengerPagesSearchSettings").page_number);d(b("compactArray")(c),"pages")};a.prototype.$9=function(a,b,c){"use strict";if(b===this.$5()){if(this.$2<h){this.$2+=1;return!0}c(a,"usersGroups")}return!1};a.prototype.$7=function(a,b,c){"use strict";if(b===this.$5()){if(this.$3<h){this.$3+=1;return!0}c(a,"pages")}return!1};a.prototype.$11=function(a,b,c){"use strict";if(b===this.$5()){if(this.$4<h){this.$4+=1;return!0}c(a,"rooms")}return!1};e.exports=a}),null);
__d("MessengerTypeaheadResultRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="MessengerTypeaheadResultRoute";a.paramDefinition={queryString:{required:!0,type:"String"},canViewerSendMoneyFilter:{required:!1,type:"Boolean"},localEntryIDs:{required:!0,type:"Array"},shouldQueryPages:{required:!0,type:"Boolean"},shouldQueryThreadName:{required:!0,type:"Boolean"},shouldQueryParticipantIDs:{required:!0,type:"Boolean"},shouldQueryParticipantNames:{required:!0,type:"Boolean"},shouldQueryVCEndpoint:{required:!0,type:"Boolean"},shouldQueryInternalBot:{required:!0,type:"Boolean"},shouldQueryRoomsAudience:{required:!0,type:"Boolean"},threadFBID:{required:!1,type:"String"}};a.queries={profiles:function(a,c){var d=c.canViewerSendMoneyFilter,e=c.shouldQueryPages,f=c.shouldQueryVCEndpoint,g=c.shouldQueryInternalBot;c=c.shouldQueryRoomsAudience;return function(a){return{calls:[{kind:"Call",metadata:{type:"String!"},name:"query",value:{kind:"CallVariable",callVariableName:"queryString"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"entities_named",kind:"Query",metadata:{identifyingArgName:"query",identifyingArgType:"String!"},name:"MessengerTypeaheadResultRoute",type:"SearchableEntitiesQuery"}}(a.getFragment("profiles",{canViewerSendMoneyFilter:d,shouldQueryPages:e,shouldQueryVCEndpoint:f,shouldQueryInternalBot:g,shouldQueryRoomsAudience:c}))},groups:function(a,c){var d=c.queryString,e=c.localEntryIDs,f=c.shouldQueryThreadName,g=c.shouldQueryParticipantIDs;c=c.shouldQueryParticipantNames;return function(a){return{children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"MessengerTypeaheadResultRoute",type:"Viewer"}}(a.getFragment("groups",{queryString:d,localEntryIDs:e,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:c}))},roomAudience:function(a,c){var d=c.queryString;c=c.shouldQueryRoomsAudience;return function(a){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"threadFBID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"message_thread",kind:"Query",metadata:{identifyingArgName:"id",identifyingArgType:"ID!"},name:"MessengerTypeaheadResultRoute",type:"MessageThread"}}(a.getFragment("roomAudience",{queryString:d,shouldQueryRoomsAudience:c}))}};e.exports=a}),null);
__d("MessengerSearchFunnelLogger",["FunnelLogger","MercuryIDs","MessengerSearchFunnelLoggerConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a,c,d){b("FunnelLogger").startFunnel(a),b("FunnelLogger").addFunnelTag(a,c),b("FunnelLogger").addFunnelTag(a,d),b("FunnelLogger").appendActionIfNew(a,"search_start"),g=[]}function c(a){b("FunnelLogger").appendActionIfNew(a,"search_end"),b("FunnelLogger").endFunnel(a)}function d(a,c){b("FunnelLogger").appendActionWithPayload(a,"initiate_content_search",{query_string:c,impression_list:g}),b("FunnelLogger").endFunnel(a)}function f(a,c,d,e){if(d==null||g==null||g.length===0){b("FunnelLogger").appendActionWithPayload(a,"search_result_error",{error:"threadID or latest impression list are null",thread_id:d,impression_list:g});b("FunnelLogger").endFunnel(a);return}d=b("MercuryIDs").getThreadFBIDFromThreadID(d);b("FunnelLogger").appendActionWithPayload(a,"log_result_selection",{thread_id:d,type:e,rank:g.indexOf(d),search_query:c?c:""})}function h(a,c,d){b("FunnelLogger").appendActionWithPayloadIfNew(a,"loading_state_impression_list",{search_query:c,impression_list:d}),g=d}function i(a,c){b("FunnelLogger").appendActionWithPayload(a,b("MessengerSearchFunnelLoggerConstants").SEND_SERVER_REQUEST,{search_query:c})}function j(a,c,d,e){b("FunnelLogger").appendActionWithPayload(a,c,{search_query:d,impression_list:e}),g=e}function k(a){b("FunnelLogger").appendAction(a,"clear_search_query"),this.endFunnel(a)}e.exports={startFunnel:a,logResultSelection:f,logStartQuery:i,endFunnel:c,logContentSearchInitiation:d,logLoadingStateQuery:h,logUpdateQuery:j,logClearQuery:k}}),null);
__d("MessengerTypeaheadResultView.react",["cx","CurrentUser","Keys","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadAdapter","MessengerGraphQLTypeaheadHighlighter","MessengerSearchFunnelLogger","MessengerTypeaheadUtils","React","RelayModern","SearchableEntry","immutable","joinClasses","wrapNullableForReact","MessengerTypeaheadResultView_profiles.graphql","MessengerTypeaheadResultView_groups.graphql","MessengerTypeaheadResultView_roomAudience.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=50,j=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:b("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,k=!b("CurrentUser").isWorkUser();d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").Component);h=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.onKeyDown=function(a,c){if(a===b("Keys").RETURN){this.props.onSelectHighlighted(c);return}if(!this.$1)return;c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,this.$1,this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(c)}.bind(this),this.$3=function(a){this.props.onNextHighlighted(a)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.$1=this.$2(this.props)};a.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown,function(){return this.$1}.bind(this))};a.prototype.UNSAFE_componentWillUpdate=function(a){this.$1=this.$2(a)};a.prototype.componentWillUnmount=function(){this.props.onUnmount()};a.prototype.render=function(){var a=this.$1;if(!a)return null;var c;k&&(c=[b("MercuryTypeaheadConstants").SEARCH_TYPE,b("MercuryTypeaheadConstants").FRIEND_TYPE,b("MercuryTypeaheadConstants").FB4C_TYPE,b("MercuryTypeaheadConstants").THREAD_TYPE,b("MercuryTypeaheadConstants").NON_FRIEND_TYPE,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,b("MercuryTypeaheadConstants").PAGE_TYPE,b("MercuryTypeaheadConstants").GAME_TYPE]);a=b("MessengerTypeaheadUtils").buildListSections(a,this.props.queryString,c);return b("React").createElement(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:a,onHighlight:this.$3,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer})};a.prototype.$2=function(a){var c=a.localEntries,d={};c.forEach(function(a){d[a.getUniqueID()]=!0});var e=b("MessengerTypeaheadUtils").sortEntries(this.$4(a,d),a.queryString);c=c.concat(e).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,i);b("MessengerSearchFunnelLogger").logUpdateQuery("WWW_MESSENGER_SEARCH_SESSION_FUNNEL","fetched_state_impression_list",a.queryString,c.map(function(a){return a.getUniqueID()}));return c};a.prototype.$4=function(a,c){__p&&__p();var d=[];k&&(d=a.serverResults.filter(function(a){return a&&!c[a.getUniqueID()]}));if(a.profiles){var e;e=(e=a)!=null?(e=e.profiles)!=null?(e=e.user_results)!=null?e.edges:e:e:e;if(e){d=e.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)});e=[];var f=[],g=[];for(var h=d,i=Array.isArray(h),l=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(i){if(l>=h.length)break;m=h[l++]}else{l=h.next();if(l.done)break;m=l.value}m=m;if(!m||c[m.getUniqueID()])continue;m.getType()===b("MercuryParticipantTypes").FRIEND&&e.length<b("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX?e.push(m):m.getType()===b("MercuryParticipantTypes").FB4C&&f.length<b("MercuryTypeaheadConstants").COMPOSER_FB4C_MAX?f.push(m):m.getType()===b("MercuryParticipantTypes").NON_FRIEND&&g.length<j&&g.push(m)}d=e.concat(f).concat(g)}}else if(a.roomAudience){l=(m=a)!=null?(m=m.roomAudience)!=null?(m=m.user_results)!=null?m.edges:m:m:m;l&&(d=d.concat(l.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)})))}a.profiles&&a.profiles.page_results&&(d=d.concat(a.profiles.page_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,this.$5(a.node))}.bind(this)).filter(function(a){return a&&!c[a.getUniqueID()]}).slice(0,b("MercuryTypeaheadConstants").COMPOSER_PAGES_MAX)));i=[];h=[];a.groups&&a.groups.threads_matching_name&&(h=h.concat(a.groups.threads_matching_name.edges));a.groups&&a.groups.threads_matching_participant_ids&&(h=h.concat(a.groups.threads_matching_participant_ids.edges));a.groups&&a.groups.threads_matching_participant_names&&(h=h.concat(a.groups.threads_matching_participant_names.edges));for(var e=0;e<h.length;e++){f=h[e];g=b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(f.node,e);if(!g||c[g.getUniqueID()])continue;i.push(g);c[g.getUniqueID()]=!0}d=d.concat(i);a.profiles&&a.profiles.vc_results&&(d=d.concat(a.profiles.vc_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE)})));a.profiles&&a.profiles.internal_bot_results&&(d=d.concat(a.profiles.internal_bot_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE)})));return d};a.prototype.$5=function(a){if(!a||!a.category_type)return b("MercuryParticipantTypes").PAGE;return a.category_type===b("MercuryTypeaheadConstants").WORKPLACE_BOT_CATEGORY_TYPE?b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:b("MercuryTypeaheadConstants").PAGE_TYPE};a.propTypes={controlleeID:d.string.isRequired,canViewerSendMoneyFilter:d.bool,className:d.string.isRequired,localEntries:d.arrayOf(d.instanceOf(b("SearchableEntry"))).isRequired,localEntryIDs:d.arrayOf(d.string.isRequired).isRequired,hasHoverState:d.bool.isRequired,highlightedEntry:d.object,onMount:d.func.isRequired,onNextHighlighted:d.func.isRequired,onScrollIntoView:d.func.isRequired,onSelect:d.func.isRequired,onSelectHighlighted:d.func.isRequired,onUnmount:d.func.isRequired,originalEntryIDs:d.instanceOf(b("immutable").Set).isRequired,queryString:d.string.isRequired,selectedEntryIDs:d.instanceOf(b("immutable").Set).isRequired,serverResults:d.arrayOf(d.instanceOf(b("SearchableEntry"))).isRequired,shouldQueryInternalBot:d.bool.isRequired,shouldQueryPages:d.bool.isRequired,shouldQueryVCEndpoint:d.bool.isRequired,viewer:d.string.isRequired,forGroup:d.bool};a.defaultProps={controlleeID:"",className:""};e.exports=k?a:c(a,{profiles:function(){return b("MessengerTypeaheadResultView_profiles.graphql")},groups:function(){return b("MessengerTypeaheadResultView_groups.graphql")},roomAudience:function(){return b("MessengerTypeaheadResultView_roomAudience.graphql")}})}),null);
__d("MessengerTypeaheadTopFriendsView.react",["cx","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","immutable","joinClasses","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.onKeyDown=function(a,c){if(a===b("Keys").RETURN){this.props.onSelectHighlighted(c);return}c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,this.props.entries.toArray(),this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(c)}.bind(this),this.$1=function(a){this.props.onNextHighlighted(a)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.props.hasHoverState&&(this.props.entries.size>0&&this.props.onNextHighlighted(this.props.entries.first()))};a.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown,function(){return this.props.entries.toArray()}.bind(this))};a.prototype.componentWillUnmount=function(){this.props.onUnmount()};a.prototype.render=function(){return b("React").createElement(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:b("MessengerTypeaheadUtils").buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer})};a.propTypes={controlleeID:c.string.isRequired,className:c.string.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,hasHoverState:c.bool.isRequired,highlightedEntry:c.object,onNextHighlighted:c.func.isRequired,onMount:c.func.isRequired,onScrollIntoView:c.func.isRequired,onSelect:c.func.isRequired,onSelectHighlighted:c.func.isRequired,onUnmount:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,viewer:c.string.isRequired};a.defaultProps={controlleeID:"",className:""};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadView.react",["cx","fbt","Bootloader","CurrentUser","ImageBlock.react","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerNewGroupParticipantSuggestionLocalCacheManager","MessengerPaymentFriendsLocalCache","MessengerRoomPrivacyMode","MessengerRoomWithAssocObjectAudienceLocalCacheManager","MessengerSearchWebGraphQLFetcher","MessengerSpinner.react","MessengerTypeaheadLocalCache","MessengerTypeaheadResultRoute","MessengerTypeaheadResultView.react","MessengerTypeaheadTopFriendsView.react","MessengerTypeaheadUtils","React","RelayFBEnvironment","RelayModern","createCancelableFunction","debounce","immutable","gkx","MessengerGraphQLTypeaheadViewQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;c=b("React").PropTypes;var l=!b("CurrentUser").isWorkUser(),m=function(a){if(!a||a.length===0)return null;var c=a[0];c.getType()===b("MercuryTypeaheadConstants").SEARCH_TYPE&&a.length>1&&(c=a[1]);return c},n="WWW_MESSENGER_SEARCH_SESSION_FUNNEL",o=5;d=100;f=babelHelpers.inherits(a,b("React").Component);i=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={route:null,localEntries:b("immutable").List(),queryCompleteStatus:{usersGroups:!l,pages:!l},serverResults:[],highlightedEntry:null},this.$1=null,this.$2=null,this.$3=null,this.$4=0,this.$5=0,this.$6=null,this.$7=null,this.$8=!0,this.$9=b("MessengerRoomWithAssocObjectAudienceLocalCacheManager").get(),this.$10=b("MessengerNewGroupParticipantSuggestionLocalCacheManager").get(),this.$11=null,this.$12=!1,this.$13=null,this.$17=function(a,c,d,e,f){__p&&__p();this.$8&&(b("Bootloader").loadModules(["MessengerSearchFunnelLogger"],function(b){b.logStartQuery(n,a)},"MessengerGraphQLTypeaheadView.react"),this.setState({serverResults:[]}));c=this.state.localEntries.toArray().filter(function(a){return a.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(a){return a.getUniqueID()});var g=["users"];d||g.push("groups");g.push("pages");e!=null&&g.push("rooms");d={userLimit:10,groupLimit:b("MercuryConfig").MaxThreadResults,pageLimit:5,getQueryString:this.$16,canViewerSendMoneyFilter:f,localEntryIDs:c,threadFBID:e};this.$13!==null&&this.$13.fetchEntries(a,g,d,this.$30,this.$31)}.bind(this),this.$30=function(a,b){if(this.$8){this.setState(function(c){return{serverResults:c.serverResults.concat(a),queryCompleteStatus:Object.assign({},c.queryCompleteStatus,(c={},c[b]=!0,c))}});return}}.bind(this),this.$31=function(a,b){this.setState(function(a){return{queryCompleteStatus:Object.assign({},a.queryCompleteStatus,(a={},a[b]=!0,a))}})}.bind(this),this.$16=function(){return this.props.queryString}.bind(this),this.$23=function(a,b){this.$6=a,this.$7=b,this.$18()}.bind(this),this.$25=function(){this.$6=null,this.$7=null}.bind(this),this.$19=function(a){this.setState({highlightedEntry:a})}.bind(this),this.$24=function(a){this.state.highlightedEntry&&this.props.onSelect(this.state.highlightedEntry,a)}.bind(this),c}a.prototype.componentDidMount=function(){this.$14(),this.$2=b("debounce")(function(){if(!l&&this.$8){var a=this.$15(),c=new(b("MessengerTypeaheadResultRoute"))(a);b("Bootloader").loadModules(["MessengerSearchFunnelLogger"],function(b){b.logStartQuery(n,a.queryString)},"MessengerGraphQLTypeaheadView.react");this.setState({route:c})}}.bind(this),150,this,!0),l&&(this.$13=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return this.$16()}.bind(this)),this.$3=b("debounce")(this.$17,150,this,!0))};a.prototype.componentDidUpdate=function(a){this.props!==a&&this.$18()};a.prototype.$18=function(){__p&&__p();if(!b("gkx")("AT5cMzCIw97Q3PRYKBvBtn-VnDYYcA-Y6zMPk_zHjJZw-HUpTzPcPVGCLyIdPHAWmeU1pzwt_-KZc6CgbyvSCzN--cn858rR8aTWcaJyuEn84g"))return;if(!this.$7)return;var a=this.$7(),c=m(this.$11);this.$11=a;a=m(a);if(!a)return;if(this.state.highlightedEntry&&this.state.highlightedEntry.getUniqueID()===a.getUniqueID())return;c=!c||c.getUniqueID()!==a.getUniqueID();(c||!this.state.highlightedEntry||this.$12)&&this.$19(a);this.$12=!1};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();this.setState({highlightedEntry:null});if(!a.queryString)this.$14();else if(a.queryString!==this.props.queryString){this.$12=!0;this.setState({queryCompleteStatus:{userGroupQueryFinished:!1,pagesQueryFinished:!1},serverResults:[]});this.$2&&this.$2();var c=a.roomAssociatedObject&&a.roomAssociatedObject.privacy_mode;this.$3&&this.$3(a.queryString,b("MercuryConfig").MaxThreadResults,a.excludeGroups,c===b("MessengerRoomPrivacyMode").WHITELISTED_MODE?a.threadFBID:null,a.canViewerSendMoneyFilter);if(c===b("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$20(a);return}if(this.props.canViewerSendMoneyFilter){this.$21(a);return}if(this.props.includeExistingParticipantIDs){this.$22(a);return}b("MessengerTypeaheadLocalCache").search(a.queryString,function(c,d){__p&&__p();if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);d=this.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(d):null;d&&c.unshift(d);d=b("immutable").List(c).filter(function(a){if(this.props.excludeGroups&&a.getType()===b("MercuryParticipantTypes").THREAD)return!1;return this.props.excludePages&&a.getType()===b("MercuryParticipantTypes").PAGE?!1:!0}.bind(this));this.setState({localEntries:d})}}.bind(this))}};a.prototype.shouldComponentUpdate=function(a,b){return a.queryString!==this.props.queryString||a.isFocused!==this.props.isFocused||a.excludeGroups!==this.props.excludeGroups||a.excludePages!==this.props.excludePages||b.localEntries!==this.state.localEntries||b.queryCompleteStatus!==this.state.queryCompleteStatus||b.route!==this.state.route||b.highlightedEntry!==this.state.highlightedEntry};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.cancel(),this.$3&&this.$3.reset(),this.$8=!1};a.prototype.render=function(){__p&&__p();if(!this.props.isFocused&&!this.props.queryString||!b("MessengerTypeaheadLocalCache").isBootstrapped()&&!this.$9.isBootstrapped(this.props.threadFBID)&&!b("MessengerPaymentFriendsLocalCache").isBootstrapped()&&!this.$10.isBootstrapped(this.props.threadFBID,this.props.originalEntryIDs))if(b("gkx")("AT6Yilkln5f96nRXioOq13cDPCObGBXyvgYqCAnQUaX65pRAKq-nGqLOprquxXuHzv81m5wzzj4tuAiPBqV-ffQ_qlTKHg2SAFcZxWCm3nT90A"))return b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")));else return null;if(!this.props.queryString||!l&&!this.state.route){b("Bootloader").loadModules(["MessengerSearchFunnelLogger"],function(a){a.logUpdateQuery(n,"null_state_impression","",this.state.localEntries.toArray().map(function(a){return a.getUniqueID()}))}.bind(this),"MessengerGraphQLTypeaheadView.react");return b("React").createElement(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$23,onNextHighlighted:this.$19,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$24,onUnmount:this.$25,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer})}if(l){var a=this.state.queryCompleteStatus.usersGroups&&(this.props.excludePages||this.state.queryCompleteStatus.pages);return b("React").createElement("div",null,this.state.queryCompleteStatus.usersGroups?this.$26():this.$27(),this.state.queryCompleteStatus.usersGroups&&!a?this.$28():null)}return b("React").createElement(k,{environment:b("RelayFBEnvironment"),query:j||(j=function(){return b("MessengerGraphQLTypeaheadViewQuery.graphql")}),render:function(a){var b=a.error;a=a.props;if(b)throw b;else if(a)return this.$26(a);return this.$27()}.bind(this),variables:this.$15()})};a.prototype.$27=function(){var a=this.state.localEntries.slice(0,o);return b("React").createElement(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.$29(a),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$19,onMount:this.$23,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$24,onUnmount:this.$25,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer})};a.prototype.$28=function(){return b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")))};a.prototype.$26=function(a){var c=this.$15(),d=this.state.localEntries.slice(0,o);return b("React").createElement(b("MessengerTypeaheadResultView.react"),babelHelpers["extends"]({},a,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,localEntries:d.toArray(),onMount:this.$23,onNextHighlighted:this.$19,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$24,onUnmount:this.$25,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,serverResults:this.state.serverResults,viewer:this.props.viewer},c))};a.prototype.$29=function(a){var c=a.filter(function(a){return!this.props.selectedEntryIDs.contains(a.getUniqueID())}.bind(this));b("Bootloader").loadModules(["MessengerSearchFunnelLogger"],function(a){a.logLoadingStateQuery(n,this.props.queryString,c.toArray().map(function(a){return a.getUniqueID()}))}.bind(this),"MessengerGraphQLTypeaheadView.react");return c};a.prototype.onKeyDown=function(a,b){this.$6&&this.$6(a,b)};a.prototype.$20=function(a){this.$9.search(a.threadFBID,a.queryString,function(c,d){if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);this.setState({localEntries:b("immutable").List(c)})}}.bind(this))};a.prototype.$32=function(){this.setState({localEntries:b("immutable").List()}),this.$1=b("createCancelableFunction")(function(a){a=a.slice(0,30);this.setState({localEntries:b("immutable").List(a)})}.bind(this)),this.$9.onEntriesLoaded(this.props.threadFBID,function(a){this.$1&&this.$1(a),this.$1=null}.bind(this))};a.prototype.$22=function(a){this.$10.search(a.threadFBID,a.originalEntryIDs,a.queryString,function(c,d){if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);this.setState({localEntries:b("immutable").List(c)})}}.bind(this))};a.prototype.$33=function(){this.setState({localEntries:b("immutable").List()}),this.$1=b("createCancelableFunction")(function(a){this.setState({localEntries:b("immutable").List(a.slice(0,50))})}.bind(this)),this.$10.onEntriesLoaded(this.props.threadFBID,this.props.originalEntryIDs,function(a){this.$1&&this.$1(a),this.$1=null}.bind(this))};a.prototype.$21=function(a){b("MessengerPaymentFriendsLocalCache").search(a.queryString,function(c,d){if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);this.setState({localEntries:b("immutable").List(c)})}}.bind(this))};a.prototype.$34=function(){this.setState({localEntries:b("immutable").List()}),this.$1=b("createCancelableFunction")(function(a){this.setState({localEntries:b("immutable").List(a)})}.bind(this)),b("MessengerPaymentFriendsLocalCache").onEntriesLoaded(function(a){this.$1&&this.$1(a),this.$1=null}.bind(this))};a.prototype.$14=function(){__p&&__p();var a=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(a===b("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$32();return}if(this.props.canViewerSendMoneyFilter){this.$34();return}if(this.props.includeExistingParticipantIDs){this.$33();return}this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(a,c,d){a=a.slice(0,50);this.props.excludeGroups||(a=a.concat(c));if(!d||!this.props.queryString){c=this.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(this.props.queryString):null;c&&a.unshift(c);this.setState({localEntries:b("immutable").List(a)})}}.bind(this));b("MessengerTypeaheadLocalCache").onEntriesLoaded(function(a,b,c){this.$1&&this.$1(a,b,c),this.$1=null}.bind(this))};a.prototype.$15=function(){var a=this.props.canViewerSendMoneyFilter,c=this.state.localEntries.toArray();c=c.filter(function(a){return a.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(a){return a.getUniqueID()});var d=b("MercuryConfig").MaxThreadResults,e=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;e=e===b("MessengerRoomPrivacyMode").WHITELISTED_MODE;var f=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!e,g=!this.props.excludeGroups&&c.length>0&&!e,h=!this.props.excludeGroups&&(!g||b("CurrentUser").isEmployee())&&!e,i=!l,j=!this.props.excludePages&&!e,k=this.props.shouldQueryVCEndpoint&&(b("CurrentUser").isEmployee()||b("CurrentUser").isWorkUser())&&!e,m=this.props.shouldQueryInternalBot&&b("CurrentUser").isEmployee()&&b("CurrentUser").isWorkUser()&&!e,n=e,o=this.props.threadFBID;return{queryString:this.props.queryString,canViewerSendMoneyFilter:a,localEntryIDs:c,maxThreadResults:d,shouldQueryGroups:i,shouldQueryPages:j,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:h,shouldQueryVCEndpoint:k,shouldQueryInternalBot:m,shouldQueryRoomsAudience:e,shouldSkipQueryUsers:n,threadFBID:o,forGroup:this.props.forGroup}};a.propTypes={includeExistingParticipantIDs:c.bool,canViewerSendMoneyFilter:c.bool,enableMessageSearch:c.bool.isRequired,excludeGroups:c.bool.isRequired,excludePages:c.bool.isRequired,forGroup:c.bool,isFocused:c.bool.isRequired,hasHoverState:c.bool.isRequired,maxEntries:c.number.isRequired,onScrollIntoView:c.func.isRequired,onSelect:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,roomAssociatedObject:c.object,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,threadFBID:c.string,typeaheadViewClassName:c.string.isRequired,viewer:c.string.isRequired};a.defaultProps={maxEntries:d,typeaheadViewClassName:""};e.exports=a}),null);
__d("MessengerGraphQLSearchTypeahead.react",["cx","ix","Bootloader","BootloadOnRender.react","ContextualLayer.react","CurrentUser","Event","Image.react","InstantGameContextType","JSResource","Keys","LazyComponent.react","MercuryIDs","gkx","immutable","MercuryThreadIDMap","MercuryTypeaheadConstants","MercuryVanityIDMap.bs","MessagingSourceEnum","MessengerActions","MessengerGraphQLTypeaheadView.react","MessengerScrollableArea.react","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","MNPlatformTagsDataManager","QuicksilverSources","React","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","clearImmediate","emptyFunction","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryThreadIDMap").get();a=b("React").PropTypes;var j=h("86933"),k=30,l=100;c=b("React").createClass({displayName:"MessengerGraphQLSearchTypeahead",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_input:null,_timer:null,_view:null,propTypes:{includeExistingParticipantIDs:a.bool,canViewerSendMoneyFilter:a.bool,className:a.string.isRequired,context:a.object,enableMessageSearch:a.bool.isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,forGroup:a.bool,hasHoverState:a.bool.isRequired,hideClearButton:a.bool.isRequired,hideResults:a.bool,isFacebookChat:a.bool.isRequired,isFocused:a.bool.isRequired,isTokenizer:a.bool.isRequired,onBackspace:a.func.isRequired,onBlur:a.func.isRequired,onChange:a.func.isRequired,onClear:a.func.isRequired,onClick:a.func.isRequired,onFocus:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,placeholder:a.string.isRequired,queryString:a.string.isRequired,roomAssociatedObject:a.object,scrollableViewClassName:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,tabIndex:a.number,threadFBID:a.string,typeaheadViewClassName:a.string.isRequired,useLayer:a.bool.isRequired,viewer:a.string.isRequired,width:a.number},getInitialState:function(){return{gameID:null}},getDefaultProps:function(){return{includeExistingParticipantIDs:!1,canViewerSendMoneyFilter:!1,isFacebookChat:!1,isTokenizer:!1,onBackspace:b("emptyFunction"),onChange:b("emptyFunction"),onClear:b("emptyFunction"),onClick:b("emptyFunction"),onScrollIntoView:b("emptyFunction"),originalEntryIDs:b("immutable").Set(),placeholder:"",scrollableViewClassName:"",selectedEntryIDs:b("immutable").Set(),typeaheadViewClassName:"",useLayer:!1}},componentDidMount:function(){this._timer=b("setImmediate")(this._syncInputWidth)},componentDidUpdate:function(){b("clearImmediate")(this._timer),this._timer=b("setImmediate")(this._syncInputWidth)},componentWillUnmount:function(){b("clearImmediate")(this._timer)},renderLayers:function(){if(!this.props.useLayer)return{};var a=null,c=null;this.props.context?a=this.props.context:c=function(){return this._input}.bind(this);return{typeaheadView:b("React").createElement(b("ContextualLayer.react"),{context:a,contextRef:c,position:"below",shown:(this.props.queryString||b("gkx")("AT6Yilkln5f96nRXioOq13cDPCObGBXyvgYqCAnQUaX65pRAKq-nGqLOprquxXuHzv81m5wzzj4tuAiPBqV-ffQ_qlTKHg2SAFcZxWCm3nT90A"))&&this.props.isFocused,shouldSetARIAProperties:!1},this._renderView())}},render:function(){var a=this.props.useLayer?null:this._renderView();return b("React").createElement("div",{className:(this.props.isTokenizer?"":"_1nq2")+(this.props.isTokenizer?" _3mkz":"")},b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_58ah"+(this.props.hideResults?" _1a03":"")),onChange:this.props.onChange,onSelect:b("emptyFunction"),tabIndex:null},b("React").createElement("label",{className:"_58ak"},b("React").createElement("input",{autoComplete:"off",className:"_58al",disabled:this.props.hideResults,onBlur:this._handleBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:function(a){return this._handleKeyDown(a)}.bind(this),placeholder:this.props.placeholder,ref:function(a){return this._input=a}.bind(this),spellCheck:!1,tabIndex:this.props.tabIndex,type:"text",value:this.props.queryString})),a),b("React").createElement(b("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _2xme",src:j}),b("React").createElement("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true"},this.props.queryString||this.props.placeholder),this._renderGame())},focusInput:function(){this._input&&this._input.focus()},_onClear:function(){this._logClearContentSearch(),this.props.onClear()},_syncInputWidth:function(){if(!this.props.isTokenizer)return;var a=b("ReactDOM").findDOMNode(this.refs.textSizeProxy);a=a?a.offsetWidth:0;if(a===0)return;this._input&&(this._input.style.width=a+"px")},_renderGame:function(){return!this.state.gameID?null:b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerGraphQLSearchTypeahead.react"),placeholder:b("React").createElement(b("MessengerSpinner.react"),null),component:b("React").createElement(b("LazyComponent.react"),{initialContextType:b("InstantGameContextType").SOLO,initialContextSourceID:null,initialGameID:this.state.gameID,onHide:this._handleHideGame,initialSource:b("QuicksilverSources").MESSENGER_SEARCH,sourceID:null})})},_renderView:function(){__p&&__p();if(!this.props.isFocused)return null;if(!this.props.queryString){var a=b("CurrentUser").isWorkUser()?!b("gkx")("AT6Yilkln5f96nRXioOq13cDPCObGBXyvgYqCAnQUaX65pRAKq-nGqLOprquxXuHzv81m5wzzj4tuAiPBqV-ffQ_qlTKHg2SAFcZxWCm3nT90A"):this.props.isTokenizer&&!this.props.forGroup;if(a)return null}a=this.props.isTokenizer?k:l;a=b("React").createElement(b("MessengerGraphQLTypeaheadView.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,forGroup:this.props.forGroup,isFocused:this.props.isFocused,hasHoverState:this.props.hasHoverState,maxEntries:a,onScrollIntoView:this._handleScrollIntoView,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(a){return this._view=a}.bind(this),roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer});if(this.props.isTokenizer)return b("React").createElement(b("MessengerScrollableArea.react"),{className:this.props.scrollableViewClassName,ref:"scrollable",width:this.props.width},a);else return a},_handleScrollIntoView:function(a){if(!a)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(a);return}this.refs.scrollable&&b("MessengerTypeaheadUtils").scrollEntryIntoView(a,this.refs.scrollable)},_handleSelect:function(a,event){event&&event.preventDefault();var c=a.getUniqueID(),d=a.getType(),e=a.getAuxiliaryData().alias;e&&b("MercuryVanityIDMap.bs").set(e,b("MercuryIDs").getParticipantIDFromUserID(c));d===b("MercuryTypeaheadConstants").SEARCH_TYPE?(b("Bootloader").loadModules(["MessengerSearchFunnelLogger"],function(a){a.logContentSearchInitiation("WWW_MESSENGER_SEARCH_SESSION_FUNNEL",this.props.queryString)}.bind(this),"MessengerGraphQLSearchTypeahead.react"),this._logSearchAllThreads(this.props.queryString),b("MessengerActions").changeQueryAll(this.props.queryString)):d===b("MercuryTypeaheadConstants").GAME_TYPE?this.setState({gameID:c}):d===b("MercuryTypeaheadConstants").THREAD_TYPE?i.getClientIDFromServerID(c,function(b){return this.props.onSelect(b,d,a)}.bind(this)):(b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),b("MercuryIDs").getThreadIDFromUserID(c),function(b){return this.props.onSelect(b.thread_id,d,a)}.bind(this)),b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread(b("MessagingSourceEnum").MESSENGER_WEB_SEARCH,c))},_handleHideGame:function(){this.setState({gameID:null})},_handleKeyDown:function(a){var c=a.keyCode;c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").RETURN?this._view&&this._view.onKeyDown&&this._view.onKeyDown(c,a):c===b("Keys").BACKSPACE?this.props.onBackspace(a):c===b("Keys").ESC?this._input&&this._input.blur():c===b("Keys").RETURN&&a.preventDefault()},_handleBlur:function(){var a=null,c=b("Event").listen(window,"blur",function(){c.remove(),b("clearImmediate")(a)});a=b("setImmediate")(function(){c.remove(),this.props.onBlur()}.bind(this))},_logClearContentSearch:function(){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){a&&a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_WITH_X_BUTTON)},"MessengerGraphQLSearchTypeahead.react")},_logSearchAllThreads:function(a){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(b,c){b.startFunnel(a,c.FUNNEL_LOGGER_TAGS.SEARCH_ALL_THREADS)},"MessengerGraphQLSearchTypeahead.react")}});e.exports=c}),null);
__d("MessengerTokenizerToken.react",["cx","Keys","React","SearchableEntry","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=100;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(event){event.keyCode===b("Keys").BACKSPACE&&(event.preventDefault(),this.props.onRemove&&this.props.onRemove(this.props.entry))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_14-8"),label:null,onClick:this.$1,onKeyDown:this.$2,role:"option",tabIndex:this.props.index+i},b("React").createElement("span",{"aria-label":this.props.label,title:this.props.label,className:"_14-9"},this.props.label))};a.prototype.$1=function(event){event.stopPropagation()};a.propTypes={className:c.string,entry:c.instanceOf(b("SearchableEntry")),index:c.number,label:c.string.isRequired,onRemove:c.func};e.exports=a}),null);
__d("MessengerGraphQLTokenizer.react",["cx","invariant","MessengerGraphQLSearchTypeahead.react","MessengerTokenizerToken.react","React","immutable","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=!0,this.state={focused:this.props.autoFocus,queryString:""},this.focusInput=function(){this.refs.typeahead&&this.refs.typeahead.focusInput()}.bind(this),this.$4=function(){if(!this.$1)return;this.setState({focused:!1})}.bind(this),this.$8=function(){if(!this.$1)return;this.setState({focused:!0})}.bind(this),this.$5=function(event){if(this.state.queryString||this.props.entries.size===0)return;this.$10(this.props.entries.last());event.preventDefault();b("setImmediate")(this.focusInput)}.bind(this),this.$6=function(event){event.target instanceof HTMLInputElement||h(0);if(!this.$1)return;this.setState({queryString:event.target.value})}.bind(this),this.$7=function(){if(!this.$1)return;this.setState({queryString:""});this.props.onClear&&this.props.onClear()}.bind(this),this.$9=function(a,b,c){__p&&__p();if(!this.$1)return;a=this.props.entries;var d=c.getUniqueID();if(this.props.originalEntryIDs.contains(d))return;else if(a.some(function(a){return a.getUniqueID()===d})){this.$10(c);return}this.props.onAddEntryAttempt(c);this.setState({queryString:""})}.bind(this),this.$10=function(a){this.props.onRemoveEntryAttempt(a)}.bind(this),this.$3=function(a){this.focusInput()}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=!0,this.props.autoFocus&&b("setImmediate")(this.focusInput)};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.render=function(){var a=this.props.entries.map(function(a,b){return this.$2(a,b)}.bind(this)),c=a.size>0?"":this.props.placeholder,d=this.props.forceHideClearButton||this.state.queryString===""&&this.props.entries.isEmpty();return b("React").createElement("div",null,b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_14-7")},b("React").createElement("div",{className:b("joinClasses")("_58-2","clearfix"),onClick:this.$3},a,b("React").createElement(b("MessengerGraphQLSearchTypeahead.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,forGroup:this.props.forGroup,hasHoverState:this.props.hasHoverState,hideClearButton:d,isFacebookChat:!1,isFocused:this.state.focused,isTokenizer:!0,onBlur:this.$4,onBackspace:this.$5,onChange:this.$6,onClear:this.$7,onFocus:this.$8,onSelect:this.$9,originalEntryIDs:this.props.originalEntryIDs,placeholder:c,queryString:this.state.queryString,ref:"typeahead",roomAssociatedObject:this.props.roomAssociatedObject,selectedEntryIDs:b("immutable").Seq(this.props.entries).map(function(a){return a.getUniqueID()}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,threadFBID:this.props.threadFBID,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width}))),this.state.queryString===""&&!this.state.focused?this.props.defaultEntries:null)};a.prototype.$2=function(a,c){return b("React").createElement(b("MessengerTokenizerToken.react"),{className:"_2ei6",key:a.getUniqueID(),label:a.getTitle(),entry:a,index:c,onRemove:this.$10})};a.propTypes={autoFocus:c.bool.isRequired,canViewerSendMoneyFilter:c.bool,includeExistingParticipantIDs:c.bool,className:c.string.isRequired,context:c.object,defaultEntries:c.element,enableMessageSearch:c.bool.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,excludeGroups:c.bool.isRequired,excludePages:c.bool.isRequired,forGroup:c.bool,forceHideClearButton:c.bool,hasHoverState:c.bool.isRequired,onAddEntryAttempt:c.func.isRequired,onClear:c.func,onRemoveEntryAttempt:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,placeholder:c.node.isRequired,roomAssociatedObject:c.object,scrollableViewClassName:c.string.isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,tabIndex:c.number,threadFBID:c.string,useLayer:c.bool.isRequired,viewer:c.string.isRequired,width:c.number.isRequired};e.exports=a}),null);
__d("MessengerRTCGroupCallContactListItem.react",["cx","fbt","ix","FBRTCParticipantCallState","Image.react","Link.react","MessengerContactImageReact.bs","React","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerContactImageReact.bs").jsComponent,k=(a={},a[b("FBRTCParticipantCallState").DISCONNECTED]=h._("Disconnected"),a[b("FBRTCParticipantCallState").NO_ANSWER]=h._("No Answer"),a[b("FBRTCParticipantCallState").REJECTED]=h._("No Answer"),a[b("FBRTCParticipantCallState").UNREACHABLE]=h._("Unreachable"),a[b("FBRTCParticipantCallState").CONNECTION_DROPPED]=h._("Connection Dropped"),a[b("FBRTCParticipantCallState").CONTACTING]=h._("Contacting..."),a[b("FBRTCParticipantCallState").RINGING]=h._("Ringing..."),a[b("FBRTCParticipantCallState").CONNECTING]=h._("Connecting..."),a[b("FBRTCParticipantCallState").CONNECTED]=h._("Connected"),a[b("FBRTCParticipantCallState").PARTICIPANT_LIMIT_REACHED]=h._("Participant Limit Reached"),a[b("FBRTCParticipantCallState").IN_ANOTHER_CALL]=h._("In Another Call"),a),l=32;c=function(a){var c=a.isSelected,d=a.onClick,e=a.user,f=a.dataTestID;a=a.participantState;return b("React").createElement(b("Link.react"),{"aria-checked":c,className:"_4nvn",onClick:o(a)?b("emptyFunction"):d,"data-testid":f,role:"checkbox"},b("React").createElement(j,{className:"_4nvr",isMessengerUser:e.isMessengerUser,isPartiesUser:e.isPartiesUser,size:l,src:e.profilePictureUrl}),b("React").createElement("div",{className:"_4nvs"},b("React").createElement("div",{className:"_4nvt"},b("React").createElement("div",{className:"_4nv_"},e.userName),b("React").createElement(m,{user:e,participantState:a})),b("React").createElement(n,{isSelected:c,participantState:a})))};var m=function(a){var c=a.user;a=a.participantState;if(a){a=k[a.state]||h._("Unknown");return b("React").createElement("div",{className:"_4nw0"},a)}return c.vanity?b("React").createElement("div",{className:"_4nw0"},"@",c.vanity):null},n=function(a){var c=a.isSelected;a=a.participantState;if(o(a))return b("React").createElement("div",{className:"_1j79"},h._("In Call"));else if(c)return b("React").createElement("div",{className:"_1j79"},b("React").createElement(b("Image.react"),{src:i("86852")}));return null};function o(a){if(!a)return!1;switch(a.state){case b("FBRTCParticipantCallState").CONTACTING:case b("FBRTCParticipantCallState").RINGING:case b("FBRTCParticipantCallState").CONNECTING:case b("FBRTCParticipantCallState").CONNECTED:return!0;default:return!1}}e.exports=c}),null);
__d("VideoCallWebDriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCEPT_ESCALATION_CALL_BUTTON:"acceptEscalationButton",ADD_GROUP_MEMBERS_BUTTON:"addGroupMembersButton",ANSWER_CALL_BUTTON:"answerCallButton",DOMINANT_SPEAKER_SWITCH_BUTTON:"dominantSpeakerSwitchButton",END_CALL_BUTTON:"endCallButton",ESCALATE_CALL_BUTTON:"escalateCallButton",FULL_SCREEN_BUTTON:"fullScreenButton",GRID_SWITCH_BUTTON:"gridSwitchButton",IGNORE_CALL_BUTTON:"ignoreCallButton",INCALL_VIDEO_CONTAINER:"incallVideoContainer",REDIAL_BUTTON:"rediallButton",REMOTE_VIEW_THUMBNAIL:"remoteViewThumbnail",RTC_APP_VIEW_START_CALL_BUTTON:"RTCAppViewStartCallButton",RTC_INCALL_VIDEO:"RTCIncallVideo",RTC_PICKER_DIALOG_CALL_BUTTON:"RTCPickerDialogCallButton",RTC_PICKER_DIALOG_CANCEL_BUTTON:"RTCPickerDialogCancelButton",RTC_PICKER_DIALOG_CONTACT_LIST_ITEM:"RTCPickerDialogContactListItem",RTC_PICKER_DIALOG_RING_BUTTON:"RTCPickerDialogRingButton",RTC_SELF_VIEW:"RTCSelfView",STAR_RATING_VIEW:"starRatingView",START_VIDEO_CALL:"startVideoCall",START_VOICE_CALL:"startVoiceCall",TOGGLE_AUDIO_BUTTON:"toggleAudioButton",TOGGLE_VIDEO_BUTTON:"toggleVideoButton",TOGGLE_CHAT_BUTTON:"toggleChatButton",CLOSE_CHAT_BUTTON:"closeChatButton",PROFILE_VIDEO_CALL_BUTTON:"profileVideoCall"})}),null);
__d("MessengerRTCGroupCallContactList.react",["cx","MessengerRTCGroupCallContactListItem.react","MessengerScrollableArea.react","React","VideoCallWebDriverIDs","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.isParticipantSelected,d=a.onClick,e=a.remoteUsers;a=a.participantStates;var f=a===void 0?b("immutable").Map():a;a=e.map(function(a){return b("React").createElement(b("MessengerRTCGroupCallContactListItem.react"),{isSelected:c.get(a.FBID),key:a.FBID,onClick:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){return d(a.FBID)}),user:a,dataTestID:b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM+a.FBID,participantState:f.get(a.FBID)})});return b("React").createElement(b("MessengerScrollableArea.react"),{className:"_12zw"},a)};e.exports=a}),null);
__d("FBRTCAvailability",["ChannelConstants","PresenceStatus"],(function(a,b,c,d,e,f){"use strict";a={isCallable:function(a){a=b("PresenceStatus").getCapabilities(a);var c=b("ChannelConstants").CAPABILITY_VOIP_INTEROP;return!!(a&c)}};e.exports=a}),null);
__d("RTCCallActionTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CALL:"CALL",CALL_SUCCESS:"CALL_SUCCESS",CALL_ERROR:"CALL_ERROR",INCOMING_CALL_SUCCESS:"INCOMING_CALL_SUCCESS",INIT:"INIT",RESET:"RESET",WAIT_FOR_USER_INPUT:"WAIT_FOR_USER_INPUT",SET_CALL_SUMMARY:"SET_CALL_SUMMARY",SET_MW_CALL_TYPE:"SET_MW_CALL_TYPE",SET_LAYOUT:"SET_LAYOUT",SET_DOMINANT_SPEAKER:"SET_DOMINANT_SPEAKER",SET_PINNED_SPEAKER:"SET_PINNED_SPEAKER",SET_USE_DOMINANT_SPEAKE_VIEW:"SET_USE_DOMINANT_SPEAKE_VIEW",SET_GRID_VIEW:"SET_GRID_VIEW",SET_STRIP_VIEW:"SET_STRIP_VIEW",INIT_THREAD:"INIT_THREAD",ON_PARTICIPANT_LEFT:"ON_PARTICIPANT_LEFT",ON_PARTICIPANTS_ADDED:"ON_PARTICIPANTS_ADDED",ADD_PARTICIPANTS_TO_RING:"ADD_PARTICIPANTS_TO_RING",JOIN:"JOIN",JOIN_SUCCESS:"JOIN_SUCCESS",JOIN_ERROR:"JOIN_ERROR",HANGUP:"HANGUP",HANGUP_SUCCESS:"HANGUP_SUCCESS",HANGUP_ERROR:"HANGUP_ERROR",ON_CONFERENCE_STATE:"ON_CONFERENCE_STATE",DISMISS:"DISMISS",END_CALL:"END_CALL",ON_JOIN_REQUEST_SENT:"ON_JOIN_REQUEST_SENT",ON_JOIN_RESPONSE:"ON_JOIN_RESPONSE",ON_RECEIVED_JOIN_RESPONSE:"ON_RECEIVED_JOIN_RESPONSE",ON_PROCESSED_JOIN_RESPONSE:"ON_PROCESSED_JOIN_RESPONSE",ON_SERVER_MEDIA_UPDATE_SUCCESS:"ON_SERVER_MEDIA_UPDATE_SUCCESS",ON_CLIENT_MEDIA_UPDATE_RESPONSE:"ON_CLIENT_MEDIA_UPDATE_RESPONSE",INIT_LOCAL_USER:"INIT_LOCAL_USER",INIT_REMOTE_USERS:"INIT_REMOTE_USERS",UPDATE_REMOTE_USERS:"UPDATE_REMOTE_USERS",ADD_REMOTE_STREAM:"ADD_REMOTE_STREAM",REMOVE_REMOTE_STREAM:"REMOVE_REMOTE_STREAM",REMOVE_ALL_REMOTE_STREAMS:"REMOVE_ALL_REMOTE_STREAMS",ADD_REMOTE_TRACK:"ADD_REMOTE_TRACK",REMOVE_REMOTE_TRACK:"REMOVE_REMOTE_TRACK",AUDIO_MUTED:"AUDIO_MUTED",AUDIO_UNMUTED:"AUDIO_UNMUTED",VIDEO_MUTED:"VIDEO_MUTED",VIDEO_UNMUTED:"VIDEO_UNMUTED",REMOTE_VIDEO_MUTED:"REMOTE_VIDEO_MUTED",REMOTE_VIDEO_UNMUTED:"REMOTE_VIDEO_UNMUTED",SELF_VIEW_COLLAPSED:"SELF_VIEW_COLLAPSED",SELF_VIEW_UNCOLLAPSED:"SELF_VIEW_UNCOLLAPSED",ADD_LOCAL_STREAM:"ADD_LOCAL_STREAM",REMOVE_LOCAL_STREAM:"REMOVE_LOCAL_STREAM",REPLACE_LOCAL_STREAM:"REPLACE_LOCAL_STREAM",REMOVE_ALL_LOCAL_STREAMS:"REMOVE_ALL_LOCAL_STREAMS",ADD_LOCAL_SCREEN_STREAM:"ADD_LOCAL_SCREEN_STREAM",REMOVE_LOCAL_SCREEN_STREAM:"REMOVE_LOCAL_SCREEN_STREAM",REMOVE_ALL_LOCAL_SCREEN_STREAMS:"REMOVE_ALL_LOCAL_SCREEN_STREAMS",REPLACE_LOCAL_SCREEN_STREAM:"REPLACE_LOCAL_SCREEN_STREAM",ADD_REMOTE_SCREEN_STREAM:"ADD_REMOTE_SCREEN_STREAM",REMOVE_REMOTE_SCREEN_STREAM:"REMOVE_REMOTE_SCREEN_STREAM",TOGGLE_REMOTE_STREAM:"TOGGLE_REMOTE_STREAM",SUBMIT_RATING:"SUBMIT_RATING",SUBMIT_FEEDBACK:"SUBMIT_FEEDBACK",RATING_SHOWN:"RATING_SHOWN",FEEDBACK_SHOWN:"FEEDBACK_SHOWN",SET_CONFERENCE_STATE:"SET_CONFERENCE_STATE",SET_END_CALL_REASON:"SET_END_CALL_REASON",FLOOR_STATUS:"FLOOR_STATUS"})}),null);
__d("RTCP2PCallActionTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({P2P_DISMISS_NUX:"P2P_DISMISS_NUX",P2P_INIT_NUX_STATE:"P2P_INIT_NUX_STATE",P2P_MARK_NUX_VIEWED:"P2P_MARK_NUX_VIEWED",P2P_PROCESS_MESSAGE:"P2P_PROCESS_MESSAGE",P2P_SET_IS_CALLER:"P2P_SET_IS_CALLER",P2P_STAR_RATING_DONE:"P2P_STAR_RATING_DONE",POP_IN_SCREEN_CONTENT:"POP_IN_SCREEN_CONTENT",POP_OUT_SCREEN_CONTENT:"POP_OUT_SCREEN_CONTENT",SET_CALL_TYPE:"SET_CALL_TYPE",SET_CONNECTION_STATUS:"SET_CONNECTION_STATUS",SET_MULTIWAY_ESCALATION_SUPPORT:"SET_MULTIWAY_ESCALATION_SUPPORT",SET_REMOTE_SIGNALING_EXPERIMENTS:"SET_REMOTE_SIGNALING_EXPERIMENTS",SET_VIDEO_QUALITY:"SET_VIDEO_QUALITY",TOGGLE_CHAT_WINDOW:"TOGGLE_CHAT_WINDOW"})}),null);
__d("RTCP2PCallEscalationActionTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({P2P_CALL_ESCALATION_ACK:"P2P_CALL_ESCALATION_ACK",P2P_CALL_ESCALATION_FAILURE:"P2P_CALL_ESCALATION_FAILURE",P2P_CALL_ESCALATION_SET_REQUEST:"P2P_CALL_ESCALATION_SET_REQUEST",P2P_CALL_ESCALATION_SET_RESPONSE:"P2P_CALL_ESCALATION_SET_RESPONSE",P2P_CALL_ESCALATION_START:"P2P_CALL_ESCALATION_START",P2P_CALL_ESCALATION_SUCCESS:"P2P_CALL_ESCALATION_SUCCESS",SET_P2P_CALL_ESCALATION_MEDIA:"SET_P2P_CALL_ESCALATION_MEDIA"})}),null);
__d("FBRTCSdpUtils",["FBLogger","UserAgent"],(function(a,b,c,d,e,f){__p&&__p();var g="a=x-fb-feature:",h="\r\n",i="m=video 0";d=["audio","video"].map(function(a){return new RegExp("m="+a+"\\s+\\d+\\s+(\\w+\\/?)+(\\s+\\d+)+")});var j=d[0],k=d[1],l=["http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","urn:3gpp:video-orientation","urn:ietf:params:rtp-hdrext:ssrc-audio-level","urn:ietf:params:rtp-hdrext:toffset"],m=function(a){return a.match(/^a=rtpmap:(\d+)\s/)[1]},n=function(a,b,c){var d=m(a[b]);o(a,c,[d]);a.splice(b,1)},o=function(a,b,c){var d=a[b].split("RTP/SAVPF"),e=d[1].split(/\s+/);for(var f=0;f<c.length;f++){var g=e.indexOf(c[f]);g>=0&&e.splice(g,1)}d[1]=e.join(" ");a[b]=d.join("RTP/SAVPF")},p=function(a,b,c){__p&&__p();var d=m(a[b]);n(a,b,c);var e=new RegExp("^a=(rtcp-fb|fmtp):"+d+" ");a=a.filter(function(a){return!e.test(a)});var f=new RegExp("^a=fmtp:(\\d+)\\s+apt="+d+"($|;)");b=a.reduce(function(a,b,c){c=b.match(f);return c?[].concat(a,[c[1]]):a},[]);d=b.join("|");o(a,c,b);var g=new RegExp("^a=rtpmap:("+d+")\\s+rtx/|^a=fmtp:("+d+")\\s+apt=");return a.filter(function(a){return!g.test(a)})},q={RX_SDP_MEDIA_AUDIO:j,RX_SDP_MEDIA_VIDEO:k,replaceRTPSAVPFProfile:function(a){var b="UDP/TLS/RTP/SAVPF",c="RTP/SAVPF";while(a.indexOf(b)>=0)a=a.replace(b,c);return a},addIceOptionToSdp:function(a,b){"use strict";__p&&__p();var c="a=ice-options:",d=a.indexOf(c);if(d>=0)return a.split(h).map(function(a){return a.startsWith(c)?a+" "+b:a}).join(h);d=c+b;var e=a.split(h),f=!1,g=-1;for(var i=0;i<e.length;i++){var j=e[i].slice(0,2);if(j=="s="){f=!0;continue}if(f&&j=="a="){g=i;break}}if(g>=0){e.splice(g,0,d);return e.join(h)}return[a,d,h].join("")},preferIsac:function(a){__p&&__p();a=a.split(h);var b=-1,c=-1,d=-1;for(var e=0;e<a.length;e++){var f=a[e];f.match(j)&&(b=e);d===-1&&b>-1&&f.match(/^a=rtpmap:/)&&(d=e);f.match(/^a=rtpmap:\d+\s+ISAC\/16000/)&&(c=e)}if(b===-1||c===-1||d===-1||a[b].indexOf("RTP/SAVPF")===-1)return a.join(h);f=a[c];n(a,c,b);a.splice(d,0,f);a[b]=a[b].replace("RTP/SAVPF","RTP/SAVPF "+m(f));return a.join(h)},preferCodec:function(a,b,c){__p&&__p();a=a.split(h);var d=c?k:j,e=a.findIndex(function(a){return d.test(a)});if(e!==-1&&a[e].indexOf("RTP/SAVPF")!==-1){var f=new RegExp("^a=rtpmap:\\d+\\s+"+b);c=a.findIndex(function(a){return f.test(a)});var g=/^a=rtpmap:/;b=a.findIndex(function(a,b){return b>e&&g.test(a)});if(c!==-1&&b!==-1){var i=a[c];n(a,c,e);a.splice(b,0,i);a[e]=a[e].replace("RTP/SAVPF","RTP/SAVPF "+m(i))}}return a.join(h)},disableVideo:function(a){var c=/m=video\s+\S+/;a=a.replace(c,i);b("UserAgent").isBrowser("Firefox <= 37")&&(a=this._makeDisabledVideoReceiveOnly(a));return a},_makeDisabledVideoReceiveOnly:function(a){if(a.indexOf(i)>-1){var b=a.split(i);b[1]=b[1].replace(/send(recv|only)/,"recvonly");a=b.join(i)}return a},fixMobileIceSdp:function(a){__p&&__p();a=a.replace(/^a=/,"");a=a.split(/\s+username\s+.+password.+/)[0];var b=a.match(/\s+relay\s+|\s+srflx\s+/),c=a.match(/raddr.+rport.+/);if(b&&!c){b=b[0];c=a.split(b);var d=c[1].match(/^(\d+\.\d+\.\d+\.\d+)\s+(\d+)\s+/),e,f;d?(e=d[1],f=d[2],c[1]=c[1].replace(d[0],"")):(d=c[0].split(/\s+/),e=d[4],f=d[5]);a=""+c[0]+b+"raddr "+e+" rport "+f+" "+c[1]}return a},addAudioNack:function(a){var b=[];a=a.split(h).map(function(a){var c="";b.length>0&&(/^a=rtpmap:(\d+)/.test(a)||/^a=ssrc/.test(a)||/^m=/.test(a))&&(c+=this._getrtcpFeedbackLinesFromAudioFMTs(b)+h,b=[]);/^m=audio/.test(a)&&(b=a.match(/^m=audio\s+[\d\/]+\s+[\w\/]+([\s+\d+]+)/)[1].trim().split(" "));return c+a}.bind(this)).join(h);b.length>0&&(a+=h+this._getrtcpFeedbackLinesFromAudioFMTs(b));return a},addSetup:function(a){if(a.indexOf("a=setup:")>=0)return a;a=a.split(h);var b=a.findIndex(function(a){return a.startsWith("s=")}),c=a.findIndex(function(a,c){return c>b&&a.startsWith("a=")});a.splice(c,0,"a=setup:actpass");return a.join(h)},_replaceFmtp:function(a,b,c,d){a=a==b?[]:a.substr(b.length).split(";");var e=a.findIndex(function(a){return a.startsWith(c+"=")});d=c+"="+d;e<0?a.push(d):a[e]=d;return""+b+a.join(";")},_addFmtpToMediaSection:function(a,b,c,d){__p&&__p();var e=new RegExp("^a=rtpmap:(\\d+)\\s"+b);b=a.findIndex(function(a){return a.match(e)});if(b<0)return a;var f=a[b].match(e);f=f[1];var g="a=fmtp:"+f+" ";f=a.findIndex(function(a){return a.startsWith(g)});f===-1&&(f=b+1,a.splice(f,0,g));a[f]=this._replaceFmtp(a[f],g,c,d);return a},addFmtp:function(a,b,c,d){__p&&__p();a=a.split(h);var e=-1;for(var f=0;f<=a.length;f++)if(f===a.length||a[f].startsWith("m=")){if(e!==-1){var g=a.splice(e,f-e);g=this._addFmtpToMediaSection(g,b,c,d);a.splice.apply(a,[e,0].concat(g));f=e+1+g.length}e=f}return a.join(h)},_getrtcpFeedbackLinesFromAudioFMTs:function(a){return a.map(function(a){return"a=rtcp-fb:"+a+" nack"}).join(h)},_removeCodec:function(a,b){__p&&__p();var c=a;a=function(){var a=c.split(h),d=new RegExp("^a=rtpmap:\\d+\\s+"+b+"\\/"),e=a.findIndex(function(a){return d.test(a)}),f=/^m=video/,g=a.findIndex(function(a){return f.test(a)});if(e==-1||g==-1)return"break";c=p(a,e,g).join(h)};do{var d=a();if(d==="break")break}while(!0);return c},removeRED:function(a){return this._removeCodec(a,"red")},removeH264:function(a){return this._removeCodec(a,"H264")},removeVP9:function(a){return this._removeCodec(a,"VP9")},removeUnknownRtpHeaderExtensions:function(a){a=a.split(h);a=a.filter(function(a){return!a.match(/^a=extmap:/)||l.some(function(b){return a.includes(b)})});return a.join(h)},isVideoSupported:function(a){return!!a&&(a.indexOf("m=video")!==-1&&a.indexOf(i)===-1||q.getFBFeatures(a).includes("video"))},setDtlsRole:function(a,b){if(!a.match(/setup:(active|passive|actpass)/))return a.replace(/(a=fingerprint:.+)/g,"$1"+h+"a=setup:"+b);else return a.replace(/setup:actpass/g,"setup:"+b)},setVideoBitrateConstraint:function(a){var c=b("UserAgent").isBrowser("Firefox"),d=c?"TIAS":"AS";c=c?72e4:720;var e=new RegExp("^b="+d+":","m");if(a.match(e))return a;a=a.replace(/^a=mid:video\r\n/m,"a=mid:video"+h+"b="+d+":"+c+h);return a},removeSdparta:function(a){__p&&__p();a=a.split(h);var c="audio",d=!1,e=-1;for(var f=0;f<a.length;f++){var g=a[f];g.indexOf("m=audio")===0&&(c="audio");g.indexOf("m=video")===0&&(d=!0,c="video");g.indexOf("a=mid:sdparta_")===0&&(a[f]="a=mid:"+c);g.indexOf("a=group:BUNDLE sdparta_")===0&&(e=f);g.indexOf("a=group:BUNDLE audio sdparta_")===0&&(e=f);g.indexOf("a=group:BUNDLE audio video sdparta_")===0&&b("FBLogger")("rtc_www").mustfix("content_name rewriting will not work anymore, fix sdparta_# in Firefox.")}e>-1&&(d?a[e]="a=group:BUNDLE audio video":a[e]="a=group:BUNDLE audio");return a.join(h)},useDTLSOverCrypto:function(a){if(!(b("UserAgent").isBrowser("Chrome >= 57")||b("UserAgent").isBrowser("Opera >= 44")))return a;return!/^a=fingerprint:/m.test(a)?a:a.split(h).filter(function(a){return a.indexOf("a=crypto:")!==0}).join(h)},validateOfferSdp:function(a,b){__p&&__p();if(a.split(":")[0]==="LIVE"){a=/^m=/;var c=/^m=audio/,d=/^m=video/,e=/^a=ssrc:/;b=b.split(h);var f=[];for(var g=b.length-1;g>=0;g--)a.test(b[g])&&f.push(b.splice(g));var i=!1,j=!1;f.forEach(function(a){c.test(a[0])&&!i?i=a.some(function(a){return e.test(a)}):d.test(a[0])&&!j&&(j=a.some(function(a){return e.test(a)}))});return i&&j}return!0},clearFirefoxInactiveDataChannelBlock:function(a){__p&&__p();if(!b("UserAgent").isBrowser("Firefox"))return a;var c=a.split(h),d=c.findIndex(function(a){return a.startsWith("m=application")});if(d===-1)return a;var e=c.slice(d),f=e.findIndex(function(a,b){return b>0&&a.startsWith("m=")});f!==-1&&(e=e.slice(0,f));if(e[0]!=null&&e[0].endsWith("0")&&e.some(function(a){return a.startsWith("a=inactive")})){f=e.findIndex(function(a){return a.startsWith("c=")});return[].concat(c.slice(0,d+1+(f!==-1?f:0)),c.slice(d+e.length)).join(h)}return a},addFBFeatures:a,getFBFeatures:c};function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(c.length<1)return a;var e=r(a),f=e[0],i=e[1],j=f.split(h),k=s(j),l=j.filter(function(a){return!a.startsWith(g)}),m=1+l.map(function(a){return a?a.substr(0,2):""}).lastIndexOf("a=")||l.length;return[].concat(l.slice(0),t([].concat(k,c)).map(function(a){return""+g+a}),l.slice(m),[i?[i.trim(),""].join(h):""]).join(h)}function c(a){a=r(a);a=a[0];return s(a.split(h))}function r(a){if(!a)return["",""];var b=a.trim().split(h),c=0;while(c<b.length){if(b[c].startsWith("m="))break;c++}return c===b.length?[a.trim(),""]:[b.slice(0,c).join(h).trim(),b.slice(c).join(h).trim()]}function s(a){return t(a.filter(function(a){return a.startsWith(g)}).map(function(a){return a.substr(g.length)}))}function t(a){__p&&__p();var b=Object.create(null);for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e&&(b[e]=!0)}return Object.keys(b).sort()}e.exports=q}),null);
__d("FBRTCMessage",["FBRTCConstants","FBRTCExperiment","FBRTCSdpUtils","FBRTCSupport"],(function(a,b,c,d,e,f){__p&&__p();var g="mobile";function a(a){"use strict";__p&&__p();if(!this.$1(a))throw new Error("invalid webrtc message");this.originalMessageData=a;this.peerID=a.from;this.callID=parseInt(a.call_id,10);this.msg=JSON.parse(a.payload);this.msg.json_payload&&(this.escalationName=this.msg.sessionName,this.msg=this.msg.json_payload);this.msgType=this.msg.type;this.msgID=this.msg.msg_id;this.ackID=this.msg.ack_id;this.source=a.source;this.peerSupportsVideoInterop=!!this.msg.supports_video_interop;this.$2();this.$3();this.$4();this.$5()}a.prototype.$1=function(a){"use strict";return a.from&&a.call_id&&a.payload};a.prototype.$2=function(){"use strict";if(this.peerSupportsVideoInterop)return;this.isFromMobile()&&this.disableVideo()};a.prototype.disableVideo=function(){"use strict";this.msg.sdp&&(this.msg.sdp=b("FBRTCSdpUtils").disableVideo(this.msg.sdp)),(this.msgType===b("FBRTCConstants").PayloadType.SET_VIDEO||this.msgType===b("FBRTCConstants").PayloadType.OFFER||this.msgType===b("FBRTCConstants").PayloadType.ICERESTART_OFFER||this.msgType===b("FBRTCConstants").PayloadType.ANSWER||this.msgType===b("FBRTCConstants").PayloadType.ICERESTART_ANSWER)&&(this.msg.videoon=!1)};a.prototype.$3=function(){"use strict";this.isFromMobile()&&this.msg.sdp&&this.msgType!==b("FBRTCConstants").PayloadType.ICE_CANDIDATE&&(this.msg.sdp=b("FBRTCSdpUtils").removeRED(this.msg.sdp))};a.prototype.$4=function(){"use strict";if(this.isFromMobile()&&b("FBRTCSupport").isWebrtcSupported()&&this.msg.sdp&&this.msgType!==b("FBRTCConstants").PayloadType.ICE_CANDIDATE){var a=b("FBRTCExperiment").gen("rtc_browser_use_h264");a=a.getParam("allow_h264","no");a!=="yes"&&(this.msg.sdp=b("FBRTCSdpUtils").removeH264(this.msg.sdp))}};a.prototype.$5=function(){"use strict";if(this.isFromMobile()&&b("FBRTCSupport").isWebrtcSupported()&&this.msg.sdp&&this.msgType!==b("FBRTCConstants").PayloadType.ICE_CANDIDATE){var a=b("FBRTCExperiment").gen("rtc_browser_use_vp9");a=a.getParam("allow_vp9","no");a!=="yes"&&(this.msg.sdp=b("FBRTCSdpUtils").removeVP9(this.msg.sdp))}};a.prototype.isOffer=function(){"use strict";return this.msgType===b("FBRTCConstants").PayloadType.OFFER};a.prototype.isFromMobile=function(){"use strict";return this.source===g};a.prototype.isRemoteVideoSupported=function(){"use strict";return!this.msg.sdp||this.msgType===b("FBRTCConstants").PayloadType.ICE_CANDIDATE?!0:b("FBRTCSdpUtils").isVideoSupported(this.msg.sdp)};a.prototype.isRetry=function(){"use strict";return!!this.msg.flag};a.prototype.isForCall=function(a,c){"use strict";return this.escalationName&&(this.msgType===b("FBRTCConstants").PayloadType.HANGUP||this.msgType===b("FBRTCConstants").PayloadType.SWITCH_TO_MULTIWAY)?c===this.escalationName:!a||a===this.callID||this.msgType===b("FBRTCConstants").PayloadType.OFFER||this.msgType===b("FBRTCConstants").PayloadType.ICERESTART_OFFER||this.msgType===b("FBRTCConstants").PayloadType.PCRESTART_OFFER||this.msgType===b("FBRTCConstants").PayloadType.ICE_CANDIDATE};a.prototype.getSignalingExperiments=function(){"use strict";return this.isFromMobile()&&!this.msg.experiments?["sdp_update"]:this.msg.experiments};e.exports=a}),null);
__d("FBRTCVideoEscalationStore",["FBRTCCallControlActions","FBRTCConstants","FBRTCStore","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=25e3,i=1e4,j=b("keyMirror")({direct_video:null,escalated:null,escalation_declined:null,voip:null});c=babelHelpers.inherits(a,b("FBRTCStore"));g=c&&c.prototype;function a(a,b,c){g.constructor.call(this),this.$FBRTCVideoEscalationStore7=a,this.$FBRTCVideoEscalationStore2=b,this.$FBRTCVideoEscalationStore1=c,this.$FBRTCVideoEscalationStore4=c,this.$FBRTCVideoEscalationStore3=!1,this.$FBRTCVideoEscalationStore5=null,this.$FBRTCVideoEscalationStore8=null}a.prototype.isPending=function(){return!!this.$FBRTCVideoEscalationStore5};a.prototype.callHasEscalated=function(){return this.$FBRTCVideoEscalationStore1};a.prototype.getCallType=function(){if(!this.$FBRTCVideoEscalationStore2.isRemoteVideoSupported)return j.voip;else if(this.$FBRTCVideoEscalationStore4)return j.direct_video;else if(this.$FBRTCVideoEscalationStore1)return j.escalated;else if(this.$FBRTCVideoEscalationStore3)return j.escalation_declined;return j.voip};a.prototype.__onDispatch=function(a){__p&&__p();switch(a.type){case b("FBRTCCallControlActions").Types.RECEIVED_SIGNALING_MESSAGE:var c=a.message;a.message_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&(this.$FBRTCVideoEscalationStore3=!0,c.ackID?this.$FBRTCVideoEscalationStore10(c):this.$FBRTCVideoEscalationStore11(c));a.message_type===b("FBRTCConstants").PayloadType.ACK&&c.msg.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$FBRTCVideoEscalationStore12(c);break;case b("FBRTCCallControlActions").Types.ACCEPT_ESCALATION:this.$FBRTCVideoEscalationStore13(!0);break;case b("FBRTCCallControlActions").Types.DECLINE_ESCALATION:this.$FBRTCVideoEscalationStore13(!1);break;case b("FBRTCCallControlActions").Types.TOGGLE_MUTE_VIDEO:this.$FBRTCVideoEscalationStore3=!0;this.getDispatcher().waitFor([this.$FBRTCVideoEscalationStore2.getDispatchToken()]);this.$FBRTCVideoEscalationStore14();break}};a.prototype.$FBRTCVideoEscalationStore12=function(a){this.$FBRTCVideoEscalationStore8&&this.$FBRTCVideoEscalationStore8.msg_id===a.ackID&&this.$FBRTCVideoEscalationStore15()};a.prototype.$FBRTCVideoEscalationStore15=function(){clearTimeout(this.$FBRTCVideoEscalationStore6)};a.prototype.$FBRTCVideoEscalationStore16=function(){this.$FBRTCVideoEscalationStore6=setTimeout(function(){if(!this.$FBRTCVideoEscalationStore8)return;this.$FBRTCVideoEscalationStore7.resendPayload(this.$FBRTCVideoEscalationStore2.peerID,this.$FBRTCVideoEscalationStore8)}.bind(this),i)};a.prototype.$FBRTCVideoEscalationStore10=function(a){__p&&__p();if(!this.$FBRTCVideoEscalationStore8||a.ackID!==this.$FBRTCVideoEscalationStore8.msg_id)return;clearTimeout(this.$FBRTCVideoEscalationStore9);this.$FBRTCVideoEscalationStore15();var b=a.msg,c=a.peerID;a=a.callID;var d=this.$FBRTCVideoEscalationStore17(b);this.$FBRTCVideoEscalationStore7.sendAck(c,a,b);this.$FBRTCVideoEscalationStore8=null;this.$FBRTCVideoEscalationStore1=d;this.$FBRTCVideoEscalationStore18(d);!d&&this.$FBRTCVideoEscalationStore2.localStream.hasVideo()&&this.$FBRTCVideoEscalationStore2.localStream.toggleMuteVideo();this.__emitChange()};a.prototype.$FBRTCVideoEscalationStore11=function(a){if(this.$FBRTCVideoEscalationStore1){this.$FBRTCVideoEscalationStore17(a.msg)?(this.$FBRTCVideoEscalationStore5=a,this.$FBRTCVideoEscalationStore13(!0)):this.$FBRTCVideoEscalationStore2.remoteStream.setVideoEnabled(!1);return}var c=a.msg,d=a.peerID,e=a.callID;this.$FBRTCVideoEscalationStore7.sendAck(d,e,c);this.$FBRTCVideoEscalationStore17(c)?(this.$FBRTCVideoEscalationStore5=a,this.$FBRTCVideoEscalationStore9=setTimeout(function(){b("FBRTCCallControlActions").declineEscalation()},h)):this.$FBRTCVideoEscalationStore5=null;this.__emitChange()};a.prototype.$FBRTCVideoEscalationStore13=function(a){__p&&__p();clearTimeout(this.$FBRTCVideoEscalationStore9);if(this.$FBRTCVideoEscalationStore5){var b=this.$FBRTCVideoEscalationStore5,c=b.peerID,d=b.callID;b=b.msgID;this.$FBRTCVideoEscalationStore8=this.$FBRTCVideoEscalationStore7.sendVideoRequestResponse(c,d,b,a);this.$FBRTCVideoEscalationStore16();this.$FBRTCVideoEscalationStore1=a;this.$FBRTCVideoEscalationStore5=null;this.__emitChange()}};a.prototype.$FBRTCVideoEscalationStore14=function(){if(this.$FBRTCVideoEscalationStore1){this.$FBRTCVideoEscalationStore19();return}this.$FBRTCVideoEscalationStore8=this.$FBRTCVideoEscalationStore7.sendVideoEscalationRequest(this.$FBRTCVideoEscalationStore2.peerID,this.$FBRTCVideoEscalationStore2.callID,this.$FBRTCVideoEscalationStore2.localStream.hasVideo());this.$FBRTCVideoEscalationStore2.localStream.hasVideo()?(this.$FBRTCVideoEscalationStore16(),this.$FBRTCVideoEscalationStore9=setTimeout(function(){this.$FBRTCVideoEscalationStore2.localStream.hasVideo()&&b("FBRTCCallControlActions").toggleMuteVideo()}.bind(this),h)):(this.$FBRTCVideoEscalationStore15(),clearTimeout(this.$FBRTCVideoEscalationStore9),this.$FBRTCVideoEscalationStore8=null);this.__emitChange()};a.prototype.$FBRTCVideoEscalationStore19=function(){if(!this.$FBRTCVideoEscalationStore2.isRemoteVideoSupported)return;this.$FBRTCVideoEscalationStore7.sendMuteStateUpdate(this.$FBRTCVideoEscalationStore2.peerID,this.$FBRTCVideoEscalationStore2.callID,this.$FBRTCVideoEscalationStore2.localStream.hasVideo())};a.prototype.$FBRTCVideoEscalationStore18=function(a){this.$FBRTCVideoEscalationStore2.remoteStream.setVideoEnabled(a)};a.prototype.$FBRTCVideoEscalationStore17=function(a){return!!(a.reqVideoOn||a.videoon)};a.CallType=j;e.exports=a}),null);
__d("RTCP2PCallEscalationStoreState",["FBRTCMessage","FBRTCVideoEscalationStore","immutable"],(function(a,b,c,d,e,f){var g;c=b("FBRTCVideoEscalationStore").CallType;g=babelHelpers.inherits(a,b("immutable").Record({awaitingACK:!1,callType:c.voip,escalated:!1,escalateMediaStream:null,failureReason:null,initiatedEscalation:!1,inProgress:!1,request:null,response:null,token:null}));g&&g.prototype;function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("MessengerRTCFunnelLogger",["FunnelLogger","FBRTCConstants","RTCCallActionTypes","FBRTCCallControlActions","RTCP2PCallActionTypes","RTCP2PCallEscalationActionTypes","RTCP2PCallEscalationStoreState","URI","UserAgentData"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").SignalingProtocol,h=b("FBRTCCallControlActions").Types,i="WEB_MESSENGER_RTC_FUNNEL",j=i+"_append",k=i+"_tags",l=i+"_end",m=null;function a(a){b("FunnelLogger").startFunnel(i),o([a]),n()}function n(){var a={bn:b("UserAgentData").browserName,bv:b("UserAgentData").browserVersion,os:b("UserAgentData").platformName,dn:b("URI").getRequestURI().getDomain().split(".").slice(-2).join(".")};Object.keys(a).forEach(function(c){b("FunnelLogger").addFunnelTag(i,c+":"+(a[c]||"unknown"))})}function o(a){if(window.opener&&window.opener.postMessage&&m){window.opener.postMessage({type:k,nonce:m,tags:a},window.location.origin);return}a.forEach(function(a){b("FunnelLogger").addFunnelTag(i,a)})}function p(a,c){if(window.opener&&window.opener.postMessage&&m){window.opener.postMessage({type:i+"_append",nonce:m,action:a,actionTag:c},window.location.origin);return}c===undefined?b("FunnelLogger").appendActionIfNew(i,a):b("FunnelLogger").appendActionWithTag(i,a,c)}function q(a){if(window.opener&&window.opener.postMessage&&m){window.opener.postMessage({type:i+"_end",nonce:m,action:a},window.location.origin);return}a&&p(a);b("FunnelLogger").endFunnel(i)}function c(a){m=a}function d(a){var b=function b(event){if(event.origin!==window.location.origin||!event.data||event.data.nonce!==a)return;event.data.type===j?p(event.data.action,event.data.actionTag):event.data.type===k?o(event.data.tags):event.data.type===l&&(q(event.data.action),window.removeEventListener("message",b))};window.addEventListener("message",b)}function f(a,b){switch(a){case h.RECEIVED_SIGNALING_MESSAGE:break;case"END_CALL":p(a,b);q();break;default:p(a,b)}}function r(a,c){__p&&__p();switch(c.type){case b("RTCCallActionTypes").ON_CONFERENCE_STATE:case b("RTCCallActionTypes").SET_CALL_SUMMARY:case b("RTCCallActionTypes").SET_DOMINANT_SPEAKER:case b("RTCCallActionTypes").ON_SERVER_MEDIA_UPDATE_SUCCESS:case b("RTCCallActionTypes").SET_GRID_VIEW:case b("RTCCallActionTypes").SET_STRIP_VIEW:case b("RTCP2PCallActionTypes").SET_REMOTE_SIGNALING_EXPERIMENTS:case b("RTCP2PCallActionTypes").SET_CALL_TYPE:case b("RTCP2PCallActionTypes").P2P_INIT_NUX_STATE:break;case b("RTCP2PCallActionTypes").P2P_PROCESS_MESSAGE:var d=[];c.message&&!c.message.isRemoteVideoSupported()&&d.push("remove_video_unsupported");c.message&&c.message.isFromMobile()?d.push("peer_on_mobile"):d.push("peer_on_web");o(d);break;case b("RTCP2PCallActionTypes").SET_CONNECTION_STATUS:p(c.connectionStatus);break;case b("RTCCallActionTypes").SET_END_CALL_REASON:p(c.type,c.endCallReason&&c.endCallReason.toStrName(!0));setTimeout(q,1e3);break;case b("RTCCallActionTypes").INIT:c.protocol===g.P2P&&o(["p2p","v2"]);break;case b("RTCCallActionTypes").SET_LAYOUT:p(c.type,c.layout);break;case b("RTCCallActionTypes").SET_MW_CALL_TYPE:p(c.type,c.callType);break;case b("RTCCallActionTypes").END_CALL:p(c.type,c.endCallReason);break;default:p(c.type)}return a}function s(a,c){switch(c.type){case b("RTCP2PCallEscalationActionTypes").P2P_CALL_ESCALATION_START:case b("RTCP2PCallEscalationActionTypes").P2P_CALL_ESCALATION_SUCCESS:case b("RTCP2PCallEscalationActionTypes").P2P_CALL_ESCALATION_FAILURE:p(c.type,"caller");break;case b("RTCP2PCallEscalationActionTypes").P2P_CALL_ESCALATION_SET_REQUEST:case b("RTCP2PCallEscalationActionTypes").P2P_CALL_ESCALATION_SET_RESPONSE:case b("RTCP2PCallEscalationActionTypes").P2P_CALL_ESCALATION_ACK:p(c.type,"callee");break;default:return a}return a}a={appendAction:p,addFunnelTags:o,endFunnel:q,startFunnel:a,setWindowNonce:c,listenCrossWindowAction:d,logRTCCallAction:r,logRTCP2PV1Action:f,logRTCCallEscalationAction:s};e.exports=a}),null);
__d("FBRTCCallUIWrapper",["regeneratorRuntime","Bootloader","MessengerRTCFunnelLogger","UserAgent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;a={openGroupCallUI:function(a,c,d,e,f,h){return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:g=this._openWindow("Group Call"),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openGroupCallUI(a,c,d,e,f,g,h)},"FBRTCCallUIWrapper");case 2:case"end":return i.stop()}},null,this)},openGroupCallURI:function(a,c,d,e,f,h,i,j){return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g=this._openWindow("Group Call"),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openGroupCallURI({conferenceName:a,callID:c,hasVideo:d,serverInfoData:h,trigger:i,callSummary:j,callWindow:g,multiwayWwwTier:f,multiwayCoreTier:e})},"FBRTCCallUIWrapper");case 2:case"end":return k.stop()}},null,this)},openAsCaller:function(a,c,d,e){!g&&window.rtcCallChildWindow&&(g=window.rtcCallChildWindow,window.rtcCallChildWindow=null);if(this._shouldFocusCallWindow(a)){g&&g.focus();return}this._shouldCloseCallWindow()&&(g&&g.close());g=this._openWindow("Video Call");b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openAsCaller(a,c,d,e,g)},"FBRTCCallUIWrapper")},openAsCallee:function(a,c,d,e){g=this._openWindow("Video Call"),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openAsCallee(a,c,d,e,g)},"FBRTCCallUIWrapper")},_shouldFocusCallWindow:function(a){return!!g&&!g.closed&&g.rtcCallInProgessWith===a},_shouldCloseCallWindow:function(){return!!g&&!g.closed&&!g.rtcCallInProgessWith},_openWindow:function(a){var c=this._windowPosition();c=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no",c.height,c.width,c.top,c.left].join(",");this._isSparkBrowser()&&(c="");a=window.open("",a,c);window.callWindow=a;a?b("MessengerRTCFunnelLogger").appendAction("popup_window"):b("MessengerRTCFunnelLogger").endFunnel("popup_blocked");return a},_windowPosition:function(){var a=960,b=540,c,d,e,f;screen&&screen.width>1280&&(a=1280,b=720);window.innerWidth!==undefined?(d=window.innerWidth,c=window.innerHeight):(d=screen.width,c=screen.height);window.screenLeft!==undefined?(e=window.screenLeft,f=window.screenTop):(e=window.screenX,f=window.screenY);d=Math.floor(d/2-a/2+e);e=Math.floor(c/2-b/2+f);return{height:"height="+b.toString(),width:"width="+a.toString(),top:"top="+e.toString(),left:"left="+d.toString()}},_isSparkBrowser:function(){return b("UserAgent").isBrowser("Chrome < 34")&&b("UserAgent").isBrowser("Chrome > 33")}};e.exports=a}),null);
__d("FBRTCUtils",["AsyncRequest","CollabCallTriggerType","FBIDCheck","FBRTCConfig","RTCConfig","emptyFunction","randomInt"],(function(a,b,c,d,e,f){__p&&__p();var g=6e3,h=window.URL||window.webkitURL,i="setSinkId"in window.HTMLMediaElement.prototype,j="srcObject"in window.HTMLMediaElement.prototype,k="mozSrcObject"in window.HTMLMediaElement.prototype;a={attachMediaStream:function(a,b){__p&&__p();if(a==null)return;if(j){a.srcObject=b;b&&a.play();return}if(k){a.mozSrcObject=b;b&&a.play();return}a.src&&h.revokeObjectURL(a.src);a.src=b?h.createObjectURL(b):""},reattachMediaStream:function(a,b){__p&&__p();if(j){a.srcObject=b.srcObject;a.play();return}if(k){a.mozSrcObject=b.mozSrcObject;a.play();return}a.src=b.src},generateRandomInt:function(){return b("randomInt")(0,4294967294)+1},aboutEqual:function(a,b){return a-b<.01&&b-a<.01},sendServerRequest:function(a,c,d,e,f,h){c===void 0&&(c=b("emptyFunction"));d===void 0&&(d=b("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=g);h===void 0&&(h={});a=new(b("AsyncRequest"))().setURI(a).setData(h).setAllowCrossPageTransition(!0).setHandler(c).setErrorHandler(d).setTimeoutHandler(f,function(){d()});e&&a.setOption("asynchronous_DEPRECATED",!1);a.send()},supportsSetSink:function(){return i},isPeerVCEndpoint:function(a){var c=b("FBRTCConfig").isVCEndpointCall();return c!==undefined?c:!!a&&!b("FBIDCheck").isUser_deprecated(a)&&b("RTCConfig").CollabVCEndpointsVideoCallGK},isCollabTrigger:function(a){return a===b("CollabCallTriggerType").QUICK_DIAL||a===b("CollabCallTriggerType").MEETING_ROOM_PAGE_PROFILE}};e.exports=a}),null);
__d("FBRTCCore",["invariant","Bootloader","FBRTCAvailability","FBRTCCallUIWrapper","FBRTCExperiment","FBRTCSupport","FBRTCUtils","MessengerRTCFunnelLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!1;a={startOutgoingCall:function(a,c,d,e){__p&&__p();e===void 0&&(e=!1);/\D/.test(a)&&g(0);if(h)return;b("MessengerRTCFunnelLogger").addFunnelTags([d?"audio_only":"video","p2p"]);h=!0;setTimeout(function(){h=!1},1e3);if(e&&!b("FBRTCSupport").isCollabSupported())b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage","CollabMessengerLogger"],function(c,d){c.showForUnsupportedCollabCall(),d.logBrowserNotSupported({peerID:a}),b("MessengerRTCFunnelLogger").endFunnel("unsupported_browser")},"FBRTCCore");else if(!b("FBRTCSupport").isWebrtcSupported())b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage","RTWebUserActionLogger","RTWebLoggingCallType"],function(a,c,e){a.showForOutgoingCall(),b("MessengerRTCFunnelLogger").endFunnel("unsupported_browser"),c.logError({callType:e.P2P,page:c.getPage(),mediaType:c.getMediaType(d),errorDomain:"unsupported browser"})},"FBRTCCore");else{e=b("FBRTCUtils").generateRandomInt();b("FBRTCCallUIWrapper").openAsCaller(a,e,c,d)}},startGroupCall:function(a){__p&&__p();var c=a.conferenceName,d=a.hasVideo,e=a.serverInfoData,f=a.trigger;a=a.usersToRing;a=a===void 0?[]:a;if(h)return;b("MessengerRTCFunnelLogger").addFunnelTags([d?"video":"audio_only","group"]);h=!0;setTimeout(function(){h=!1},1e3);if(!b("FBRTCSupport").isGroupCallWebtrcSupported()){b("Bootloader").loadModules(["MessengerRTCUnsupportedBrowserDialogController","RTWebUserActionLogger","RTWebLoggingCallType"],function(a,e,f){e.logError({callType:f.MW,conferenceName:c,page:e.getPage(),mediaType:e.getMediaType(!d),errorDomain:"unsupported browser"}),a.render({hasVideo:d,isGroupCall:!0}),b("MessengerRTCFunnelLogger").endFunnel("unsupported_browser")},"FBRTCCore");return}b("FBRTCCallUIWrapper").openGroupCallUI(c,b("FBRTCUtils").generateRandomInt(),a,d,f,e)},isAvailableForWebrtcCalling:function(a){var c=b("FBRTCExperiment").gen("rtc_www_bypass_callability_check");c=c.getBool("check_presence",!0);return!c||b("FBRTCAvailability").isCallable(a)},shouldEnableVideoCalling:function(){return b("FBRTCSupport").isOSSupported()}};e.exports=a}),null);
__d("MessengerRTCGroupCallRingParticipantsRow.react",["cx","fbt","React","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){a=a.names;return b("React").createElement("div",{className:"_1wsd"},b("React").createElement("div",{className:"_1wse"},h._("Ring:")),b("React").createElement("div",{className:"_1wsg"},b("intlList")(a,b("intlList").CONJUNCTIONS.NONE)))};e.exports=a}),null);
__d("RTCCallTitle.react",["MercuryIDs","MercuryParticipantListRenderer","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.viewer,d=a.participants;a=a.className;var e=b("MercuryIDs").getParticipantIDFromUserID(c);c=Object.keys(d.toJS());c.length>1&&(c=c.filter(function(a){return a!=e}));c=c.map(function(a){return d.get(a)});c=new(b("MercuryParticipantListRenderer"))().setUseShortName(!1).setUseAndSeparator(!1).renderParticipantList(c);return b("React").createElement("span",{className:a},c)};e.exports=a}),null);
__d("MessengerRTCGroupCallThreadRow.react",["cx","fbt","MercuryParticipantsImage.react","MercuryThreadTitle.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerProfileImageWrapperReact.bs").jsComponent,j=b("MessengerThreadImageReact.bs").jsComponent,k=function(a){var c=a.displayAddMemberWarning,d=a.displayBlockedMemberWarning,e=a.participants,f=a.thread;a=a.viewerID;return b("React").createElement("div",{className:"_5y31"},b("React").createElement(j,{className:"_5y32",participants:e,thread:f,viewer:a}),b("React").createElement("div",{className:"_5y34"},b("React").createElement(b("MercuryThreadTitle.react"),{className:"_5y37",thread:f,viewer:a}),c?b("React").createElement(m,null):null,d?b("React").createElement(n,null):null))},l=function(a){var c=a.displayAddMemberWarning,d=a.displayBlockedMemberWarning,e=a.participants;a.thread;a=a.viewerID;return b("React").createElement("div",{className:"_5y31"},b("React").createElement(i,{className:"_5y32",showBadge:!1},b("React").createElement(b("MercuryParticipantsImage.react"),{participants:Object.keys(e.toJS()),size:50})),b("React").createElement("div",{className:"_5y34"},b("React").createElement(b("RTCCallTitle.react"),{className:"_5y37",participants:e,viewer:a}),c?b("React").createElement(m,null):null,d?b("React").createElement(n,null):null))},m=function(){return b("React").createElement("div",{className:"_1apf"},h._("People you add to this group video will see previous messages in this conversation."))},n=function(){return b("React").createElement("div",{className:"_1ydy"},h._("You are about to ring people you've blocked."))};a=function(a){var c=a.thread;a=babelHelpers.objectWithoutProperties(a,["thread"]);return c?b("React").createElement(k,babelHelpers["extends"]({thread:c},a)):b("React").createElement(l,babelHelpers["extends"]({thread:c},a))};e.exports=a}),null);
__d("RTCUserRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({FBID:"UNDEFINED",isMessengerUser:!1,isPartiesUser:!1,lastConnectedAt:0,meetingID:null,participantState:null,profilePictureUrl:null,profileUrl:null,roomLocation:null,screenStreams:b("immutable").Set(),streams:b("immutable").Set(),userName:"",userShortName:"",vanity:""});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("RTCUser",["FBRTCParticipantCallState","RTCUserRecord","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(h,b("RTCUserRecord"));g&&g.prototype;h.prototype.clone=function(){return new h(this.toObject())};h.prototype.setParticipantState=function(a){return(!this.participantState||this.participantState.state!==b("FBRTCParticipantCallState").CONNECTED)&&a.state===b("FBRTCParticipantCallState").CONNECTED?this.set("participantState",a).set("lastConnectedAt",Date.now()):!this.participantState||this.participantState.state!==a.state?this.set("participantState",a):this};h.prototype.hasAudio=function(){return this.getAllStreamAudioTracks().some(function(a){return a.length>0})};h.prototype.hasVideo=function(){return this.streams.some(function(a){return a.getVideoTracks().length>0})};h.prototype.isAudioMuted=function(){return!this.hasAudio()?!0:this.getAllStreamAudioTracks().every(function(a){return this.areAllTracksMuted(a)}.bind(this))};h.prototype.isVideoMuted=function(){return!this.hasVideo()?!0:this.streams.every(function(a){return this.areAllTracksMuted(a.getVideoTracks())}.bind(this))};h.prototype.areAllTracksMuted=function(a){return!a.some(function(a){return a.enabled})};h.prototype.toggleMuteAudio=function(a){this.getAllStreamAudioTracks().forEach(function(a){return this.$RTCUser1(a)}.bind(this));return this.clone()};h.prototype.toggleMuteVideo=function(a){this.streams.forEach(function(b){return this.$RTCUser1(b.getVideoTracks(),a)}.bind(this));return this.clone()};h.prototype.getAllStreamAudioTracks=function(){return this.streams.concat(this.screenStreams).map(function(a){return a.getAudioTracks()})};h.prototype.hasStream=function(){return!this.streams.isEmpty()};h.prototype.addStream=function(a){return this.set("streams",this.streams.add(a))};h.prototype.removeStream=function(a){return this.set("streams",this.streams["delete"](a))};h.prototype.getStream=function(){return this.hasStream()?this.streams.first():null};h.prototype.replaceStream=function(a,b){return!this.streams.contains(a)?this:this.set("streams",this.streams["delete"](a).add(b))};h.prototype.removeAllStreams=function(){return this.set("streams",b("immutable").Set())};h.prototype.getScreenStream=function(){return this.screenStreams&&this.hasScreenStream()?this.screenStreams.first():null};h.prototype.hasScreenStream=function(){return!this.screenStreams.isEmpty()};h.prototype.addScreenStream=function(a){return this.set("screenStreams",this.screenStreams.add(a))};h.prototype.removeScreenStream=function(a){return this.set("screenStreams",this.screenStreams["delete"](a))};h.prototype.removeAllScreenStreams=function(){return this.set("screenStreams",b("immutable").Set())};h.prototype.replaceScreenStream=function(a,b){if(!this.screenStreams.contains(a))return this;return a===b?this:this.set("screenStreams",this.screenStreams.add(b)["delete"](a))};h.prototype.setRoomLocation=function(a){return this.set("roomLocation",a)};h.prototype.getRoomLocation=function(){return this.roomLocation};h.prototype.setMeetingID=function(a){return this.set("meetingID",a)};h.prototype.getMeetingID=function(){return this.meetingID};h.prototype.$RTCUser1=function(a,b){var c=b!=null?!b:this.areAllTracksMuted(a);a.forEach(function(a){return a.enabled=c})};function h(){g.apply(this,arguments)}e.exports=h}),null);
__d("RTWebLoggingCallType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({P2P:"p2p",MW:"mw",ESCALATED:"escalated"})}),null);
__d("RTWebLoggingComponent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUDIO_CALL:"audio_button",VIDEO_CALL:"video_button",START_CALL:"start_call_button",END_CALL:"end_call_button",JOIN_CALL:"join_call_button",CANCEL:"cancel_button",CALL_BACK:"call_back",CALL_AGAIN:"call_again",CHAT_PANEL_MESSAGE:"chat_panel_message",REDIAL:"redial",SCREENSHARING:"screensharing",TOGGLE_VIDEO:"toggle_video",TOGGLE_AUDIO:"toggle_audio",TOGGLE_CHAT:"toggle_chat",ADD_PARTICIPANT:"add_participant",VIDEO_FILTER:"video_filter",FULLSCREEN:"fullscreen",FULLSCREEN_ENABLE:"fullscreen_enable",FULLSCREEN_DISABLE:"fullscreen_disable",CLOSE_WINDOW:"close_window",ACCEPT:"accept_button",DECLINE:"decline_button",NOT_NOW:"rating_not_now",SELF_VIEW:"self_view",SELF_VIEW_MINIMIZE:"self_view_minimize",SELF_VIEW_UNMINIMIZE:"self_view_unminimize",PARTICIPANT_ROW_SELECT:"participant_row_select",PARTICIPANT_ROW_UNSELECT:"participant_row_unselect",STAR_RATING:"star_rating",SUBMIT_FEEDBACK:"submit_feedback",SETTINGS:"settings"})}),null);
__d("RTWebLoggingSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CALL_CONTROLS:"call_controls",CHAT_PANEL:"chat_panel",CHAT_TAB:"chat_tab",MESSENGER_HEADER:"messenger_header",INCOMING_DIALOG:"incoming_call_dialog",CALL_HEADER:"call_header",GROUP_CALL_ADD_MEMBERS_DIALOG:"GROUP_CALL_ADD_MEMBERS_DIALOG",GROUP_CALL_CONTAINER:"group_call_container",GROUP_CALL_PARTICIPANT_PICKER_DIALOG:"GROUP_CALL_PARTICIPANT_PICKER_DIALOG",P2P_CALL_CONTAINER:"p2p_call_container",CALL_CONTAINER:"call_container",TIMELINE_TOP_SECTION:"timeline_top_section",DROPDOWN_CALL_MENU:"dropdown_call_menu",THREAD_LIST:"thread_list",DESKTOP_NOTIFICATION:"desktop_notification",AUDIO_FALLBACK_DIALOG:"audio_fallback_dialog",STAR_RATING_SURFACE:"star_rating_surface"})}),null);
__d("RTCConferenceState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AWAITING_USER_START:"AWAITING_USER_START",CONNECTED:"CONNECTED",CONNECTING:"CONNECTING",NEW:"NEW",RENEGOTIATING:"RENEGOTIATING",TERMINATED:"TERMINATED",TERMINATING:"TERMINATING"})}),null);
__d("RTCCallStoreState",["CurrentUser","FBRTCCallSummary","RTCConferenceState","RTCUser","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;d={debugID:0,callID:"",conferenceState:b("RTCConferenceState").NEW,conferenceName:"",protocol:"",serverInfoData:""};g=babelHelpers.inherits(a,b("immutable").Record(d));g&&g.prototype;function a(){g.apply(this,arguments)}f={connections:b("immutable").Set(),localUser:new(b("RTCUser"))({FBID:b("CurrentUser").getID()}),remoteUsers:b("immutable").Set(),callInfo:new a(),callSummary:b("FBRTCCallSummary").nullSummary(),mediaStatus:b("immutable").Map()};h=babelHelpers.inherits(c,b("immutable").Record(f));h&&h.prototype;function c(){h.apply(this,arguments)}e.exports=c}),null);
__d("RTWebLoggingEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TAP:"tap",IMPRESSION:"impression",ERROR:"error",CHAT_PANEL_END:"chat_panel_end",VIDEO_FILTER_END:"video_filter_end"})}),null);
__d("RTWebLoggingMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VIDEO:"video",AUDIO:"audio",ESCALATED:"escalated"})}),null);
__d("RTWebLoggingPage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FACEBOOK:"facebook",FB_MESSENGER:"fb_messenger",POPUP_WINDOW:"popup_window",P2P_CALL:"p2p_call"})}),null);
__d("RTWebUserActionLogger",["FBRTCConsoleLogger","RTCCallStoreState","RTCWebUserActionsTypedLogger","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingEvent","RTWebLoggingMediaType","RTWebLoggingPage","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map;function a(){this.$1=g()}a.prototype.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").IMPRESSION},a))};a.prototype.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").TAP},a))};a.prototype.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").ERROR},a))};a.prototype.startTimer=function(a){this.$1=this.$1.set(a,performance.now()),this.$2(a,{startTime:performance.now()})};a.prototype.logStopTimer=function(a,event){event.timeElapsed=this.$3(a);event.eventName=a;this.logEvent(event);return event.timeElapsed};a.prototype.logEvent=function(event){var a=new(b("RTCWebUserActionsTypedLogger"))().setCallType(event.callType).setClientTime(Date.now()).setErrorDomain(event.errorDomain).setErrorType(event.errorType).setComponent(event.component).setConferenceState(event.conferenceState).setEvent(event.eventName).setMediaType(event.mediaType).setPage(event.page).setCallID(event.callID).setConferenceName(event.conferenceName).setSurface(event.surface).setEventTimeElapsed(event.timeElapsed),c=a.getData();this.$2(event.eventName,c);a.log()};a.prototype.getCallType=function(a,c){c===void 0&&(c=!1);if(a===null)return null;if(a)return b("RTWebLoggingCallType").MW;else if(c)return b("RTWebLoggingCallType").ESCALATED;else return b("RTWebLoggingCallType").P2P};a.prototype.getAudioVideoComponent=function(a){return a===null?null:a?b("RTWebLoggingComponent").AUDIO_CALL:b("RTWebLoggingComponent").VIDEO_CALL};a.prototype.getMediaType=function(a,c){c===void 0&&(c=!1);if(c)return b("RTWebLoggingMediaType").ESCALATED;else if(a)return b("RTWebLoggingMediaType").AUDIO;else return b("RTWebLoggingMediaType").VIDEO};a.prototype.getPage=function(){var a=window.location.hostname;if(a.search("facebook")!==-1)return b("RTWebLoggingPage").FACEBOOK;else if(a.search("messenger")!==-1)return b("RTWebLoggingPage").MESSENGER_DOT_COM;return null};a.prototype.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};a.prototype.$3=function(a){var b=this.$1.get(a);if(b){this.$1=this.$1.remove(a);return parseInt(performance.now()-b,10)}return null};a.prototype.$2=function(a,b){};e.exports=new a()}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialog.react",["cx","fbt","invariant","FBRTCCore","ImmutableObject","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerRTCFunnelLogger","MessengerRTCGroupCallContactList.react","MessengerRTCGroupCallRingParticipantsRow.react","MessengerRTCGroupCallThreadRow.react","React","RTCUser","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","URI","VideoCallWebDriverIDs","gkx","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=460,l=5;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a){__p&&__p();j.constructor.call(this,a);this.state={isParticipantSelected:this.props.participants.mapEntries(function(a){var b=a[0];a=a[1];return[a.fbid?a.fbid:b,this.props.participants.size<=l]}.bind(this))};this.$3=function(){b("RTWebUserActionLogger").logClick({callType:b("RTWebLoggingCallType").MW,conferenceName:this.props.conferenceName,page:b("RTWebUserActionLogger").getPage(),surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG,component:b("RTWebLoggingComponent").CANCEL}),b("MessengerRTCFunnelLogger").appendAction("participant_picker_click_cancel")}.bind(this);this.$6=function(a){var c=!this.state.isParticipantSelected.get(a);this.setState(function(b){return{isParticipantSelected:b.isParticipantSelected.set(a,c)}});b("RTWebUserActionLogger").logClick({callType:b("RTWebLoggingCallType").MW,conferenceName:this.props.conferenceName,page:b("RTWebUserActionLogger").getPage(),surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG,component:c?b("RTWebLoggingComponent").PARTICIPANT_ROW_SELECT:b("RTWebLoggingComponent").PARTICIPANT_ROW_UNSELECT})}.bind(this);this.$4=function(){var a=this.$2().map(function(a){return a.fbid});b("RTWebUserActionLogger").logClick({callType:b("RTWebLoggingCallType").MW,conferenceName:this.props.conferenceName,page:b("RTWebUserActionLogger").getPage(),surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG,component:b("RTWebLoggingComponent").START_CALL});b("MessengerRTCFunnelLogger").appendAction("participant_picker_click_call");this.props.handleCall?this.props.handleCall(a):b("FBRTCCore").startGroupCall({conferenceName:this.props.conferenceName,hasVideo:this.props.hasVideo,trigger:this.props.trigger,usersToRing:a});this.props.onUnmount()}.bind(this);a=this.props.participants.valueSeq().toArray().map(function(a){var c=a.big_image_src||a.image_src;a.fbid||i(0);return new(b("RTCUser"))({FBID:a.fbid,profileUrl:new(b("URI"))(a.href),profilePictureUrl:c,isMessengerUser:!!a.is_messenger_user,isPartiesUser:!!a.is_parties_user,userName:a.name,userShortName:a.short_name,vanity:a.vanity||""})});this.$1=a.sort(function(a,b){return a.userName.localeCompare(b.userName)})}a.prototype.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebLoggingCallType").MW,conferenceName:this.props.conferenceName,page:b("RTWebUserActionLogger").getPage(),surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG})};a.prototype.render=function(){var a=this.props,c=a.participants,d=a.thread;a=a.viewerID;var e=this.$2();return b("React").createElement(b("MessengerDialog.react"),{onToggle:function(){b("MessengerRTCFunnelLogger").endFunnel("participant_picker_dismissed"),this.props.onUnmount&&this.props.onUnmount()}.bind(this),type:"default",width:k},b("React").createElement("div",{className:"_2m1r"},b("React").createElement(b("MessengerDialogHeader.react"),null,b("React").createElement(b("MessengerDialogCancelButton.react"),{onClick:this.$3,dataTestID:b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CANCEL_BUTTON}),b("React").createElement(b("MessengerDialogTitle.react"),null,h._("Ring Group Members")),b("React").createElement(b("MessengerDialogButton.react"),{label:h._("Call"),onClick:this.$4,dataTestID:b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CALL_BUTTON,disabled:e.length===0,type:"primary"})),b("React").createElement(b("MessengerRTCGroupCallThreadRow.react"),{displayBlockedMemberWarning:b("gkx")("AT4uLl1AB6JLlOysf-A2hpwt4KJLHV_bjB3XyRsO-BgTRrIBrw0NJXG9gSXonEK94SJbVDuoLSgqS0Dkh4vrerSG")?this.$5(e):!1,participants:c,thread:d,viewerID:a}),b("React").createElement(b("MessengerRTCGroupCallRingParticipantsRow.react"),{names:e.map(function(a){a=a.name;return a}).sort(function(a,b){return a.localeCompare(b)})}),b("React").createElement(b("MessengerRTCGroupCallContactList.react"),{remoteUsers:this.$1,isParticipantSelected:this.state.isParticipantSelected,onClick:this.$6})))};a.prototype.$5=function(a){return a.some(function(a){return a.is_messenger_blocked||a.is_facebook_blocked})};a.prototype.$2=function(){return this.props.participants.filter(function(a,b){return this.state.isParticipantSelected.get(a.fbid?a.fbid:b)}.bind(this)).toArray()};a.propTypes={participants:c.instanceOf(b("immutable").Map).isRequired,thread:c.instanceOf(b("ImmutableObject")),viewerID:c.string.isRequired,trigger:c.string.isRequired,conferenceName:c.string.isRequired,hasVideo:c.bool.isRequired,handleCall:c.func,onUnmount:c.func.isRequired};e.exports=a}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialogController",["DOM","MessengerRTCGroupCallParticipantsPickerDialog.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={_container:b("DOM").create("div"),render:function(a){var c=a.participants,d=a.thread,e=a.viewerID,f=a.trigger,g=a.conferenceName,h=a.hasVideo;a=a.handleCall;b("ReactDOM").render(b("React").createElement(b("MessengerRTCGroupCallParticipantsPickerDialog.react"),{participants:c,thread:d,viewerID:e,trigger:f,conferenceName:g,hasVideo:h,handleCall:a,onUnmount:function(){return this._onUnmount()}.bind(this)}),this._container)},_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._container)}};e.exports=a}),null);
__d("RtcCallButton",["Event","FBRTCCore","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingMediaType","RTWebLoggingPage","RTWebLoggingSurface","RTWebUserActionLogger"],(function(a,b,c,d,e,f){"use strict";a={startP2PCall:function(a,c,d,e,f,g){b("Event").listen(a,"click",function(event){b("RTWebUserActionLogger").logClick({callType:b("RTWebLoggingCallType").P2P,component:g,mediaType:e?b("RTWebLoggingMediaType").AUDIO:b("RTWebLoggingMediaType").VIDEO,page:b("RTWebUserActionLogger").getPage(),surface:f}),b("FBRTCCore").startOutgoingCall(c,d,e)})},subscribeToMenu:function(a,c,d){a.subscribe("itemclick",function(a,e){e.item.getValue()==="video"?(b("FBRTCCore").startOutgoingCall(c,d,!1,!1),b("RTWebUserActionLogger").logClick({callType:b("RTWebLoggingCallType").P2P,component:b("RTWebLoggingComponent").VIDEO_CALL,page:b("RTWebLoggingPage").FACEBOOK,surface:b("RTWebLoggingSurface").DROPDOWN_CALL_MENU,mediaType:b("RTWebLoggingMediaType").VIDEO})):(b("FBRTCCore").startOutgoingCall(c,d,!0,!1),b("RTWebUserActionLogger").logClick({callType:b("RTWebLoggingCallType").P2P,component:b("RTWebLoggingComponent").AUDIO_CALL,page:b("RTWebLoggingPage").FACEBOOK,surface:b("RTWebLoggingSurface").DROPDOWN_CALL_MENU,mediaType:b("RTWebLoggingMediaType").AUDIO}))})}};e.exports=a}),null);
__d("RTCCallState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NO_ONGOING_CALL:"NO_ONGOING_CALL",AUDIO_GROUP_CALL:"AUDIO_GROUP_CALL",VIDEO_GROUP_CALL:"VIDEO_GROUP_CALL"})}),null);