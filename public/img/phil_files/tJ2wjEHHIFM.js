if (self.CavalryLogger) { CavalryLogger.start_js(["wzmn6"]); }

__d("IntegrityContextTriggerGlimpseAnimator",["cx","CSS","OnVisible","Run","SubscriptionsHandler","ViewportBounds","getElementRect","getViewportDimensions","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="_3i0x",i="_3i0y",j=500;function k(a,c,d){__p&&__p();this.$1=a;this.$2=c;this.$3=d;this.$7=!1;a=this.destroy.bind(this);this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(b("Run").onLeave(a),b("Run").onUnload(a));this.$5=new(b("SubscriptionsHandler"))();this.$8();this.$6=new(b("SubscriptionsHandler"))()}k.prototype.destroy=function(){this.$4.release(),this.$5.release(),this.$6.release()};k.prototype.$8=function(){this.$5.release();if(this.$7)return;this.$5.engage();var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(new(b("OnVisible"))(this.$1,function(){a.release(),this.$9()}.bind(this),!0,0));this.$5.addSubscriptions({remove:function(){a.release()}})};k.prototype.$9=function(){this.$10()};k.prototype.$10=function(){var a=new(b("SubscriptionsHandler"))(),c=setTimeout(function(){a.release(),this.$11(),this.$12()}.bind(this),this.$2);a.addSubscriptions({remove:function(){clearTimeout(c)}});a.addSubscriptions(new(b("OnVisible"))(this.$1,function(){a.release(),this.$8()}.bind(this),!0,0,!0));this.$5.addSubscriptions({remove:function(){a.release()}})};k.prototype.$13=function(){var a=b("ViewportBounds").getTop(),c=b("getViewportDimensions")().height,d=b("getElementRect")(this.$1);return d.bottom-d.top>0&&d.bottom>=a&&d.top<=c};k.prototype.$12=function(){if(this.$3==null)return;var a=new(b("SubscriptionsHandler"))(),c=setTimeout(function(){a.release(),this.$13()?this.$14():this.$15()}.bind(this),this.$3);a.addSubscriptions({remove:function(){clearTimeout(c)}});this.$5.addSubscriptions({remove:function(){a.release()}})};k.prototype.$11=function(){this.$16(!0,!0)};k.prototype.$14=function(){this.$16(!1,!0)};k.prototype.$15=function(){this.$16(!1,!1)};k.prototype.$16=function(a,c){__p&&__p();this.$7=this.$7||a;this.$6.release();this.$6.engage();b("CSS").conditionClass(this.$1,h,c);var d=b("requestAnimationFrame")(function(){b("CSS").conditionClass(this.$1,i,a);if(!c)return;var d=setTimeout(function(){this.$6.release(),b("CSS").removeClass(this.$1,h)}.bind(this),j);this.$6.addSubscriptions({remove:function(){clearTimeout(d)}})}.bind(this));this.$6.addSubscriptions({remove:function(){cancelAnimationFrame(d)}})};function a(a){var b=a.triggerRootElem;a=a.glimpseConfig;if(!b||!a)return null;var c=a.expandDelayMs;a=a.contractDelayMs;return c==null?null:new k(b,c,a)}e.exports={initAnim:a}}),null);
__d("IntegrityContextClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:IntegrityContextClientLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:IntegrityContextClientLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:IntegrityContextClientLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setElapsedMs=function(a){this.$1.elapsed_ms=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setFeedTracking=function(a){this.$1.feed_tracking=a;return this};a.prototype.setInstanceID=function(a){this.$1.instance_id=a;return this};a.prototype.setIntegrityContextType=function(a){this.$1.integrity_context_type=a;return this};a.prototype.setModuleIndex=function(a){this.$1.module_index=a;return this};a.prototype.setModuleName=function(a){this.$1.module_name=a;return this};a.prototype.setTriggerLoggerID=function(a){this.$1.trigger_logger_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={elapsed_ms:!0,event:!0,feed_tracking:!0,instance_id:!0,integrity_context_type:!0,module_index:!0,module_name:!0,trigger_logger_id:!0,vc:!0};e.exports=a}),null);
__d("IntegrityContextTriggerLoggerManager",["Event","IntegrityContextClientTypedLogger","OnVisible","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=Object.freeze({LOAD_START:"load_start",TRIGGER_HOVER:"trigger_hover",TRIGGER_VPV:"trigger_vpv"});function i(a,c){__p&&__p();var d=a.triggerLinkElem,e=a.loggerID,f=a.serializedFTMsg;a=a.contextType;this.$1=d;this.$2=e;this.$3=f;this.$4=a;this.$5=null;d=this.destroy.bind(this);e=new(b("SubscriptionsHandler"))();e.addSubscriptions(b("Run").onLeave(d),b("Run").onUnload(d));c||this.$7(e);this.$6=e}i.prototype.$8=function(){var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(new(b("OnVisible"))(this.$1,function(){a.release(),this.onFirstVisible()}.bind(this),!0,0));return a};i.prototype.$9=function(){var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Event").listen(this.$1,"mouseenter",function(){a.release(),this.onFirstMouseEnter()}.bind(this)));return a};i.prototype.$7=function(a){var c=this.$8(),d=this.$9();a.addSubscriptions(b("Event").listen(this.$1,"click",function(){this.onClick()}.bind(this)),{remove:function(){c.release(),d.release()}})};i.prototype.destroy=function(){this.$6.release(),delete g[this.$2]};i.prototype.onClick=function(){this.$5=new Date().valueOf(),this.$10(h.LOAD_START)};i.prototype.onFirstMouseEnter=function(){this.$10(h.TRIGGER_HOVER)};i.prototype.onFirstVisible=function(){this.$10(h.TRIGGER_VPV)};i.prototype.getLastTriggerTimeMS=function(){return this.$5};i.prototype.$10=function(event){var a=new(b("IntegrityContextClientTypedLogger"))().setEvent(event).setTriggerLoggerID(this.$2).setIntegrityContextType(this.$4);this.$3&&a.setFeedTracking(this.$3);a.log()};function j(a){return g[a]||null}function k(a){a=j(a);a&&a.destroy()}function a(a,b){b===void 0&&(b=!1);var c=a.loggerID;k(c);a=new i(a,b);g[c]=a;return a}function c(a){a=j(a);return a&&a.getLastTriggerTimeMS()||null}e.exports={initLogger:a,clearLogger:k,getLastTriggerTimeMS:c}}),null);